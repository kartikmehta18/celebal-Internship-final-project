var S_=t=>{throw TypeError(t)};var qm=(t,e,n)=>e.has(t)||S_("Cannot "+n);var $=(t,e,n)=>(qm(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?S_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(qm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Wt=(t,e,n)=>(qm(t,e,"access private method"),n);var Ld=(t,e,n,r)=>({set _(s){ve(t,e,s,n)},get _(){return $(t,e,r)}});function rV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function KC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YC={exports:{}},fp={},QC={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=Symbol.for("react.element"),sV=Symbol.for("react.portal"),iV=Symbol.for("react.fragment"),oV=Symbol.for("react.strict_mode"),aV=Symbol.for("react.profiler"),lV=Symbol.for("react.provider"),cV=Symbol.for("react.context"),uV=Symbol.for("react.forward_ref"),dV=Symbol.for("react.suspense"),hV=Symbol.for("react.memo"),fV=Symbol.for("react.lazy"),C_=Symbol.iterator;function pV(t){return t===null||typeof t!="object"?null:(t=C_&&t[C_]||t["@@iterator"],typeof t=="function"?t:null)}var XC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JC=Object.assign,ZC={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=ZC,this.updater=n||XC}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eI(){}eI.prototype=Tl.prototype;function T0(t,e,n){this.props=t,this.context=e,this.refs=ZC,this.updater=n||XC}var E0=T0.prototype=new eI;E0.constructor=T0;JC(E0,Tl.prototype);E0.isPureReactComponent=!0;var I_=Array.isArray,tI=Object.prototype.hasOwnProperty,S0={current:null},nI={key:!0,ref:!0,__self:!0,__source:!0};function rI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)tI.call(e,r)&&!nI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yu,type:t,key:i,ref:o,props:s,_owner:S0.current}}function mV(t,e){return{$$typeof:Yu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yu}function gV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P_=/\/+/g;function Gm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gV(""+t.key):e.toString(36)}function _h(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yu:case sV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gm(o,0):r,I_(s)?(n="",t!=null&&(n=t.replace(P_,"$&/")+"/"),_h(s,e,n,"",function(c){return c})):s!=null&&(C0(s)&&(s=mV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(P_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",I_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gm(i,a);o+=_h(i,e,n,l,s)}else if(l=pV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gm(i,a++),o+=_h(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fd(t,e,n){if(t==null)return t;var r=[],s=0;return _h(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},bh={transition:null},vV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:bh,ReactCurrentOwner:S0};function sI(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Fd,forEach:function(t,e,n){Fd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fd(t,function(){e++}),e},toArray:function(t){return Fd(t,function(e){return e})||[]},only:function(t){if(!C0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Tl;_e.Fragment=iV;_e.Profiler=aV;_e.PureComponent=T0;_e.StrictMode=oV;_e.Suspense=dV;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vV;_e.act=sI;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=S0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tI.call(e,l)&&!nI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yu,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:cV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lV,_context:t},t.Consumer=t};_e.createElement=rI;_e.createFactory=function(t){var e=rI.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:uV,render:t}};_e.isValidElement=C0;_e.lazy=function(t){return{$$typeof:fV,_payload:{_status:-1,_result:t},_init:yV}};_e.memo=function(t,e){return{$$typeof:hV,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=bh.transition;bh.transition={};try{t()}finally{bh.transition=e}};_e.unstable_act=sI;_e.useCallback=function(t,e){return dn.current.useCallback(t,e)};_e.useContext=function(t){return dn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return dn.current.useEffect(t,e)};_e.useId=function(){return dn.current.useId()};_e.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return dn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};_e.useRef=function(t){return dn.current.useRef(t)};_e.useState=function(t){return dn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return dn.current.useTransition()};_e.version="18.3.1";QC.exports=_e;var v=QC.exports;const q=KC(v),iI=rV({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV=v,xV=Symbol.for("react.element"),_V=Symbol.for("react.fragment"),bV=Object.prototype.hasOwnProperty,TV=wV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EV={key:!0,ref:!0,__self:!0,__source:!0};function oI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bV.call(e,r)&&!EV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:xV,type:t,key:i,ref:o,props:s,_owner:TV.current}}fp.Fragment=_V;fp.jsx=oI;fp.jsxs=oI;YC.exports=fp;var u=YC.exports,aI={exports:{}},Vn={},lI={exports:{}},cI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var G=O.length;O.push(L);e:for(;0<G;){var H=G-1>>>1,J=O[H];if(0<s(J,L))O[H]=L,O[G]=J,G=H;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],G=O.pop();if(G!==L){O[0]=G;e:for(var H=0,J=O.length,re=J>>>1;H<re;){var be=2*(H+1)-1,ze=O[be],pe=be+1,ne=O[pe];if(0>s(ze,G))pe<J&&0>s(ne,ze)?(O[H]=ne,O[pe]=G,H=pe):(O[H]=ze,O[be]=G,H=be);else if(pe<J&&0>s(ne,G))O[H]=ne,O[pe]=G,H=pe;else break e}}return L}function s(O,L){var G=O.sortIndex-L.sortIndex;return G!==0?G:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,p=null,f=3,m=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=O)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function k(O){if(g=!1,E(O),!w)if(n(l)!==null)w=!0,Y(R);else{var L=n(c);L!==null&&X(k,L.startTime-O)}}function R(O,L){w=!1,g&&(g=!1,_(S),S=-1),m=!0;var G=f;try{for(E(L),p=n(l);p!==null&&(!(p.expirationTime>L)||O&&!M());){var H=p.callback;if(typeof H=="function"){p.callback=null,f=p.priorityLevel;var J=H(p.expirationTime<=L);L=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),E(L)}else r(l);p=n(l)}if(p!==null)var re=!0;else{var be=n(c);be!==null&&X(k,be.startTime-L),re=!1}return re}finally{p=null,f=G,m=!1}}var j=!1,C=null,S=-1,I=5,A=-1;function M(){return!(t.unstable_now()-A<I)}function D(){if(C!==null){var O=t.unstable_now();A=O;var L=!0;try{L=C(!0,O)}finally{L?N():(j=!1,C=null)}}else j=!1}var N;if(typeof x=="function")N=function(){x(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=D,N=function(){se.postMessage(null)}}else N=function(){b(D,0)};function Y(O){C=O,j||(j=!0,N())}function X(O,L){S=b(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Y(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var G=f;f=L;try{return O()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=f;f=O;try{return L()}finally{f=G}},t.unstable_scheduleCallback=function(O,L,G){var H=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,O={id:h++,callback:L,priorityLevel:O,startTime:G,expirationTime:J,sortIndex:-1},G>H?(O.sortIndex=G,e(c,O),n(l)===null&&O===n(c)&&(g?(_(S),S=-1):g=!0,X(k,G-H))):(O.sortIndex=J,e(l,O),w||m||(w=!0,Y(R))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var L=f;return function(){var G=f;f=L;try{return O.apply(this,arguments)}finally{f=G}}}})(cI);lI.exports=cI;var SV=lI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV=v,On=SV;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uI=new Set,ru={};function zo(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(ru[t]=e,t=0;t<e.length;t++)uI.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dy=Object.prototype.hasOwnProperty,IV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k_={},A_={};function PV(t){return dy.call(A_,t)?!0:dy.call(k_,t)?!1:IV.test(t)?A_[t]=!0:(k_[t]=!0,!1)}function kV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AV(t,e,n,r){if(e===null||typeof e>"u"||kV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var I0=/[\-:]([a-z])/g;function P0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(I0,P0);Lt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(I0,P0);Lt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(I0,P0);Lt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function k0(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AV(e,n,s,r)&&(n=null),r||s===null?PV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rs=CV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),ya=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),dI=Symbol.for("react.provider"),hI=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),fI=Symbol.for("react.offscreen"),R_=Symbol.iterator;function uc(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Km;function Tc(t){if(Km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Km=e&&e[1]||""}return`
`+Km+t}var Ym=!1;function Qm(t,e){if(!t||Ym)return"";Ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ym=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tc(t):""}function RV(t){switch(t.tag){case 5:return Tc(t.type);case 16:return Tc("Lazy");case 13:return Tc("Suspense");case 19:return Tc("SuspenseList");case 0:case 2:case 15:return t=Qm(t.type,!1),t;case 11:return t=Qm(t.type.render,!1),t;case 1:return t=Qm(t.type,!0),t;default:return""}}function my(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case va:return"Fragment";case ya:return"Portal";case hy:return"Profiler";case A0:return"StrictMode";case fy:return"Suspense";case py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hI:return(t.displayName||"Context")+".Consumer";case dI:return(t._context.displayName||"Context")+".Provider";case R0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N0:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}function NV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(e);case 8:return e===A0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MV(t){var e=pI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bd(t){t._valueTracker||(t._valueTracker=MV(t))}function mI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gy(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gI(t,e){e=e.checked,e!=null&&k0(t,"checked",e,!1)}function yy(t,e){gI(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vy(t,e.type,n):e.hasOwnProperty("defaultValue")&&vy(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vy(t,e,n){(e!=="number"||Jh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ec=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ec(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function yI(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $d,wI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DV=["Webkit","ms","Moz","O"];Object.keys(Dc).forEach(function(t){DV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dc[e]=Dc[t]})});function xI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dc.hasOwnProperty(t)&&Dc[t]?(""+e).trim():e+"px"}function _I(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jV=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _y(t,e){if(e){if(jV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function by(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function M0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ey=null,Oa=null,Va=null;function O_(t){if(t=Ju(t)){if(typeof Ey!="function")throw Error(W(280));var e=t.stateNode;e&&(e=vp(e),Ey(t.stateNode,t.type,e))}}function bI(t){Oa?Va?Va.push(t):Va=[t]:Oa=t}function TI(){if(Oa){var t=Oa,e=Va;if(Va=Oa=null,O_(t),e)for(t=0;t<e.length;t++)O_(e[t])}}function EI(t,e){return t(e)}function SI(){}var Xm=!1;function CI(t,e,n){if(Xm)return t(e,n);Xm=!0;try{return EI(t,e,n)}finally{Xm=!1,(Oa!==null||Va!==null)&&(SI(),TI())}}function iu(t,e){var n=t.stateNode;if(n===null)return null;var r=vp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Sy=!1;if(ys)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{Sy=!1}function OV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var jc=!1,Zh=null,ef=!1,Cy=null,VV={onError:function(t){jc=!0,Zh=t}};function LV(t,e,n,r,s,i,o,a,l){jc=!1,Zh=null,OV.apply(VV,arguments)}function FV(t,e,n,r,s,i,o,a,l){if(LV.apply(this,arguments),jc){if(jc){var c=Zh;jc=!1,Zh=null}else throw Error(W(198));ef||(ef=!0,Cy=c)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function II(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(Wo(t)!==t)throw Error(W(188))}function UV(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return V_(s),t;if(i===r)return V_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function PI(t){return t=UV(t),t!==null?kI(t):null}function kI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kI(t);if(e!==null)return e;t=t.sibling}return null}var AI=On.unstable_scheduleCallback,L_=On.unstable_cancelCallback,BV=On.unstable_shouldYield,$V=On.unstable_requestPaint,ht=On.unstable_now,zV=On.unstable_getCurrentPriorityLevel,D0=On.unstable_ImmediatePriority,RI=On.unstable_UserBlockingPriority,tf=On.unstable_NormalPriority,WV=On.unstable_LowPriority,NI=On.unstable_IdlePriority,pp=null,Vr=null;function HV(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(pp,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:KV,qV=Math.log,GV=Math.LN2;function KV(t){return t>>>=0,t===0?32:31-(qV(t)/GV|0)|0}var zd=64,Wd=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Sc(a):(i&=o,i!==0&&(r=Sc(i)))}else o=n&~s,o!==0?r=Sc(o):i!==0&&(r=Sc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),s=1<<n,r|=t[n],e&=~s;return r}function YV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=YV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MI(){var t=zd;return zd<<=1,!(zd&4194240)&&(zd=64),t}function Jm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function XV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function j0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function DI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jI,O0,OI,VI,LI,Py=!1,Hd=[],ui=null,di=null,hi=null,ou=new Map,au=new Map,Ys=[],JV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function hc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ju(e),e!==null&&O0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZV(t,e,n,r,s){switch(e){case"focusin":return ui=hc(ui,t,e,n,r,s),!0;case"dragenter":return di=hc(di,t,e,n,r,s),!0;case"mouseover":return hi=hc(hi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ou.set(i,hc(ou.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,au.set(i,hc(au.get(i)||null,t,e,n,r,s)),!0}return!1}function FI(t){var e=lo(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=II(n),e!==null){t.blockedOn=e,LI(t.priority,function(){OI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ky(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ty=r,n.target.dispatchEvent(r),Ty=null}else return e=Ju(n),e!==null&&O0(e),t.blockedOn=n,!1;e.shift()}return!0}function U_(t,e,n){Th(t)&&n.delete(e)}function eL(){Py=!1,ui!==null&&Th(ui)&&(ui=null),di!==null&&Th(di)&&(di=null),hi!==null&&Th(hi)&&(hi=null),ou.forEach(U_),au.forEach(U_)}function fc(t,e){t.blockedOn===e&&(t.blockedOn=null,Py||(Py=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,eL)))}function lu(t){function e(s){return fc(s,t)}if(0<Hd.length){fc(Hd[0],t);for(var n=1;n<Hd.length;n++){var r=Hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&fc(ui,t),di!==null&&fc(di,t),hi!==null&&fc(hi,t),ou.forEach(e),au.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)FI(n),n.blockedOn===null&&Ys.shift()}var La=Rs.ReactCurrentBatchConfig,rf=!0;function tL(t,e,n,r){var s=Ue,i=La.transition;La.transition=null;try{Ue=1,V0(t,e,n,r)}finally{Ue=s,La.transition=i}}function nL(t,e,n,r){var s=Ue,i=La.transition;La.transition=null;try{Ue=4,V0(t,e,n,r)}finally{Ue=s,La.transition=i}}function V0(t,e,n,r){if(rf){var s=ky(t,e,n,r);if(s===null)lg(t,e,r,sf,n),F_(t,r);else if(ZV(s,t,e,n,r))r.stopPropagation();else if(F_(t,r),e&4&&-1<JV.indexOf(t)){for(;s!==null;){var i=Ju(s);if(i!==null&&jI(i),i=ky(t,e,n,r),i===null&&lg(t,e,r,sf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lg(t,e,r,null,n)}}var sf=null;function ky(t,e,n,r){if(sf=null,t=M0(r),t=lo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=II(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sf=t,null}function UI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zV()){case D0:return 1;case RI:return 4;case tf:case WV:return 16;case NI:return 536870912;default:return 16}default:return 16}}var ii=null,L0=null,Eh=null;function BI(){if(Eh)return Eh;var t,e=L0,n=e.length,r,s="value"in ii?ii.value:ii.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Eh=s.slice(t,1<r?1-r:void 0)}function Sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qd(){return!0}function B_(){return!1}function Ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qd:B_,this.isPropagationStopped=B_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qd)},persist:function(){},isPersistent:qd}),e}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F0=Ln(El),Xu=rt({},El,{view:0,detail:0}),rL=Ln(Xu),Zm,eg,pc,mp=rt({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pc&&(pc&&t.type==="mousemove"?(Zm=t.screenX-pc.screenX,eg=t.screenY-pc.screenY):eg=Zm=0,pc=t),Zm)},movementY:function(t){return"movementY"in t?t.movementY:eg}}),$_=Ln(mp),sL=rt({},mp,{dataTransfer:0}),iL=Ln(sL),oL=rt({},Xu,{relatedTarget:0}),tg=Ln(oL),aL=rt({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),lL=Ln(aL),cL=rt({},El,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uL=Ln(cL),dL=rt({},El,{data:0}),z_=Ln(dL),hL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pL[t])?!!e[t]:!1}function U0(){return mL}var gL=rt({},Xu,{key:function(t){if(t.key){var e=hL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U0,charCode:function(t){return t.type==="keypress"?Sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yL=Ln(gL),vL=rt({},mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=Ln(vL),wL=rt({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U0}),xL=Ln(wL),_L=rt({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),bL=Ln(_L),TL=rt({},mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EL=Ln(TL),SL=[9,13,27,32],B0=ys&&"CompositionEvent"in window,Oc=null;ys&&"documentMode"in document&&(Oc=document.documentMode);var CL=ys&&"TextEvent"in window&&!Oc,$I=ys&&(!B0||Oc&&8<Oc&&11>=Oc),H_=" ",q_=!1;function zI(t,e){switch(t){case"keyup":return SL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function IL(t,e){switch(t){case"compositionend":return WI(e);case"keypress":return e.which!==32?null:(q_=!0,H_);case"textInput":return t=e.data,t===H_&&q_?null:t;default:return null}}function PL(t,e){if(wa)return t==="compositionend"||!B0&&zI(t,e)?(t=BI(),Eh=L0=ii=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $I&&e.locale!=="ko"?null:e.data;default:return null}}var kL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kL[t.type]:e==="textarea"}function HI(t,e,n,r){bI(r),e=of(e,"onChange"),0<e.length&&(n=new F0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vc=null,cu=null;function AL(t){nP(t,0)}function gp(t){var e=ba(t);if(mI(e))return t}function RL(t,e){if(t==="change")return e}var qI=!1;if(ys){var ng;if(ys){var rg="oninput"in document;if(!rg){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),rg=typeof K_.oninput=="function"}ng=rg}else ng=!1;qI=ng&&(!document.documentMode||9<document.documentMode)}function Y_(){Vc&&(Vc.detachEvent("onpropertychange",GI),cu=Vc=null)}function GI(t){if(t.propertyName==="value"&&gp(cu)){var e=[];HI(e,cu,t,M0(t)),CI(AL,e)}}function NL(t,e,n){t==="focusin"?(Y_(),Vc=e,cu=n,Vc.attachEvent("onpropertychange",GI)):t==="focusout"&&Y_()}function ML(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gp(cu)}function DL(t,e){if(t==="click")return gp(e)}function jL(t,e){if(t==="input"||t==="change")return gp(e)}function OL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:OL;function uu(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dy.call(e,s)||!yr(t[s],e[s]))return!1}return!0}function Q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X_(t,e){var n=Q_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q_(n)}}function KI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YI(){for(var t=window,e=Jh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jh(t.document)}return e}function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VL(t){var e=YI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KI(n.ownerDocument.documentElement,n)){if(r!==null&&$0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=X_(n,i);var o=X_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LL=ys&&"documentMode"in document&&11>=document.documentMode,xa=null,Ay=null,Lc=null,Ry=!1;function J_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ry||xa==null||xa!==Jh(r)||(r=xa,"selectionStart"in r&&$0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lc&&uu(Lc,r)||(Lc=r,r=of(Ay,"onSelect"),0<r.length&&(e=new F0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function Gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _a={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},sg={},QI={};ys&&(QI=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function yp(t){if(sg[t])return sg[t];if(!_a[t])return t;var e=_a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QI)return sg[t]=e[n];return t}var XI=yp("animationend"),JI=yp("animationiteration"),ZI=yp("animationstart"),eP=yp("transitionend"),tP=new Map,Z_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){tP.set(t,e),zo(e,[t])}for(var ig=0;ig<Z_.length;ig++){var og=Z_[ig],FL=og.toLowerCase(),UL=og[0].toUpperCase()+og.slice(1);$i(FL,"on"+UL)}$i(XI,"onAnimationEnd");$i(JI,"onAnimationIteration");$i(ZI,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(eP,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function eb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FV(r,e,void 0,t),t.currentTarget=null}function nP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;eb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;eb(s,a,c),i=l}}}if(ef)throw t=Cy,ef=!1,Cy=null,t}function Ye(t,e){var n=e[Oy];n===void 0&&(n=e[Oy]=new Set);var r=t+"__bubble";n.has(r)||(rP(e,t,2,!1),n.add(r))}function ag(t,e,n){var r=0;e&&(r|=4),rP(n,t,r,e)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function du(t){if(!t[Kd]){t[Kd]=!0,uI.forEach(function(n){n!=="selectionchange"&&(BL.has(n)||ag(n,!1,t),ag(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kd]||(e[Kd]=!0,ag("selectionchange",!1,e))}}function rP(t,e,n,r){switch(UI(e)){case 1:var s=tL;break;case 4:s=nL;break;default:s=V0}n=s.bind(null,e,n,t),s=void 0,!Sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}CI(function(){var c=i,h=M0(n),p=[];e:{var f=tP.get(t);if(f!==void 0){var m=F0,w=t;switch(t){case"keypress":if(Sh(n)===0)break e;case"keydown":case"keyup":m=yL;break;case"focusin":w="focus",m=tg;break;case"focusout":w="blur",m=tg;break;case"beforeblur":case"afterblur":m=tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xL;break;case XI:case JI:case ZI:m=lL;break;case eP:m=bL;break;case"scroll":m=rL;break;case"wheel":m=EL;break;case"copy":case"cut":case"paste":m=uL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=W_}var g=(e&4)!==0,b=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var x=c,E;x!==null;){E=x;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=iu(x,_),k!=null&&g.push(hu(x,k,E)))),b)break;x=x.return}0<g.length&&(f=new m(f,w,null,n,h),p.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ty&&(w=n.relatedTarget||n.fromElement)&&(lo(w)||w[vs]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?lo(w):null,w!==null&&(b=Wo(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(g=$_,k="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=W_,k="onPointerLeave",_="onPointerEnter",x="pointer"),b=m==null?f:ba(m),E=w==null?f:ba(w),f=new g(k,x+"leave",m,n,h),f.target=b,f.relatedTarget=E,k=null,lo(h)===c&&(g=new g(_,x+"enter",w,n,h),g.target=E,g.relatedTarget=b,k=g),b=k,m&&w)t:{for(g=m,_=w,x=0,E=g;E;E=oa(E))x++;for(E=0,k=_;k;k=oa(k))E++;for(;0<x-E;)g=oa(g),x--;for(;0<E-x;)_=oa(_),E--;for(;x--;){if(g===_||_!==null&&g===_.alternate)break t;g=oa(g),_=oa(_)}g=null}else g=null;m!==null&&tb(p,f,m,g,!1),w!==null&&b!==null&&tb(p,b,w,g,!0)}}e:{if(f=c?ba(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var R=RL;else if(G_(f))if(qI)R=jL;else{R=ML;var j=NL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=DL);if(R&&(R=R(t,c))){HI(p,R,n,h);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&vy(f,"number",f.value)}switch(j=c?ba(c):window,t){case"focusin":(G_(j)||j.contentEditable==="true")&&(xa=j,Ay=c,Lc=null);break;case"focusout":Lc=Ay=xa=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,J_(p,n,h);break;case"selectionchange":if(LL)break;case"keydown":case"keyup":J_(p,n,h)}var C;if(B0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else wa?zI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&($I&&n.locale!=="ko"&&(wa||S!=="onCompositionStart"?S==="onCompositionEnd"&&wa&&(C=BI()):(ii=h,L0="value"in ii?ii.value:ii.textContent,wa=!0)),j=of(c,S),0<j.length&&(S=new z_(S,t,null,n,h),p.push({event:S,listeners:j}),C?S.data=C:(C=WI(n),C!==null&&(S.data=C)))),(C=CL?IL(t,n):PL(t,n))&&(c=of(c,"onBeforeInput"),0<c.length&&(h=new z_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=C))}nP(p,e)})}function hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=iu(t,n),i!=null&&r.unshift(hu(t,i,s)),i=iu(t,e),i!=null&&r.push(hu(t,i,s))),t=t.return}return r}function oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=iu(n,i),l!=null&&o.unshift(hu(n,l,a))):s||(l=iu(n,i),l!=null&&o.push(hu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $L=/\r\n?/g,zL=/\u0000|\uFFFD/g;function nb(t){return(typeof t=="string"?t:""+t).replace($L,`
`).replace(zL,"")}function Yd(t,e,n){if(e=nb(e),nb(t)!==e&&n)throw Error(W(425))}function af(){}var Ny=null,My=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jy=typeof setTimeout=="function"?setTimeout:void 0,WL=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,HL=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(t){return rb.resolve(null).then(t).catch(qL)}:jy;function qL(t){setTimeout(function(){throw t})}function cg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lu(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),jr="__reactFiber$"+Sl,fu="__reactProps$"+Sl,vs="__reactContainer$"+Sl,Oy="__reactEvents$"+Sl,GL="__reactListeners$"+Sl,KL="__reactHandles$"+Sl;function lo(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sb(t);t!==null;){if(n=t[jr])return n;t=sb(t)}return e}t=n,n=t.parentNode}return null}function Ju(t){return t=t[jr]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function vp(t){return t[fu]||null}var Vy=[],Ta=-1;function zi(t){return{current:t}}function Xe(t){0>Ta||(t.current=Vy[Ta],Vy[Ta]=null,Ta--)}function qe(t,e){Ta++,Vy[Ta]=t.current,t.current=e}var Ii={},tn=zi(Ii),xn=zi(!1),ko=Ii;function il(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function lf(){Xe(xn),Xe(tn)}function ib(t,e,n){if(tn.current!==Ii)throw Error(W(168));qe(tn,e),qe(xn,n)}function sP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,NV(t)||"Unknown",s));return rt({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,ko=tn.current,qe(tn,t),qe(xn,xn.current),!0}function ob(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=sP(t,e,ko),r.__reactInternalMemoizedMergedChildContext=t,Xe(xn),Xe(tn),qe(tn,t)):Xe(xn),qe(xn,n)}var ls=null,wp=!1,ug=!1;function iP(t){ls===null?ls=[t]:ls.push(t)}function YL(t){wp=!0,iP(t)}function Wi(){if(!ug&&ls!==null){ug=!0;var t=0,e=Ue;try{var n=ls;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ls=null,wp=!1}catch(s){throw ls!==null&&(ls=ls.slice(t+1)),AI(D0,Wi),s}finally{Ue=e,ug=!1}}return null}var Ea=[],Sa=0,uf=null,df=0,zn=[],Wn=0,Ao=null,us=1,ds="";function ro(t,e){Ea[Sa++]=df,Ea[Sa++]=uf,uf=t,df=e}function oP(t,e,n){zn[Wn++]=us,zn[Wn++]=ds,zn[Wn++]=Ao,Ao=t;var r=us;t=ds;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var i=32-fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,us=1<<32-fr(e)+s|n<<s|r,ds=i+t}else us=1<<i|n<<s|r,ds=t}function z0(t){t.return!==null&&(ro(t,1),oP(t,1,0))}function W0(t){for(;t===uf;)uf=Ea[--Sa],Ea[Sa]=null,df=Ea[--Sa],Ea[Sa]=null;for(;t===Ao;)Ao=zn[--Wn],zn[Wn]=null,ds=zn[--Wn],zn[Wn]=null,us=zn[--Wn],zn[Wn]=null}var Mn=null,An=null,Je=!1,cr=null;function aP(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ab(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,An=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,An=null,!0):!1;default:return!1}}function Ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fy(t){if(Je){var e=An;if(e){var n=e;if(!ab(t,e)){if(Ly(t))throw Error(W(418));e=fi(n.nextSibling);var r=Mn;e&&ab(t,e)?aP(r,n):(t.flags=t.flags&-4097|2,Je=!1,Mn=t)}}else{if(Ly(t))throw Error(W(418));t.flags=t.flags&-4097|2,Je=!1,Mn=t}}}function lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Qd(t){if(t!==Mn)return!1;if(!Je)return lb(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=An)){if(Ly(t))throw lP(),Error(W(418));for(;e;)aP(t,e),e=fi(e.nextSibling)}if(lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Mn?fi(t.stateNode.nextSibling):null;return!0}function lP(){for(var t=An;t;)t=fi(t.nextSibling)}function ol(){An=Mn=null,Je=!1}function H0(t){cr===null?cr=[t]:cr.push(t)}var QL=Rs.ReactCurrentBatchConfig;function mc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Xd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cb(t){var e=t._init;return e(t._payload)}function cP(t){function e(_,x){if(t){var E=_.deletions;E===null?(_.deletions=[x],_.flags|=16):E.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=yi(_,x),_.index=0,_.sibling=null,_}function i(_,x,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<x?(_.flags|=2,x):E):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,E,k){return x===null||x.tag!==6?(x=yg(E,_.mode,k),x.return=_,x):(x=s(x,E),x.return=_,x)}function l(_,x,E,k){var R=E.type;return R===va?h(_,x,E.props.children,k,E.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&cb(R)===x.type)?(k=s(x,E.props),k.ref=mc(_,x,E),k.return=_,k):(k=Nh(E.type,E.key,E.props,null,_.mode,k),k.ref=mc(_,x,E),k.return=_,k)}function c(_,x,E,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=vg(E,_.mode,k),x.return=_,x):(x=s(x,E.children||[]),x.return=_,x)}function h(_,x,E,k,R){return x===null||x.tag!==7?(x=bo(E,_.mode,k,R),x.return=_,x):(x=s(x,E),x.return=_,x)}function p(_,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yg(""+x,_.mode,E),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ud:return E=Nh(x.type,x.key,x.props,null,_.mode,E),E.ref=mc(_,null,x),E.return=_,E;case ya:return x=vg(x,_.mode,E),x.return=_,x;case Gs:var k=x._init;return p(_,k(x._payload),E)}if(Ec(x)||uc(x))return x=bo(x,_.mode,E,null),x.return=_,x;Xd(_,x)}return null}function f(_,x,E,k){var R=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(_,x,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ud:return E.key===R?l(_,x,E,k):null;case ya:return E.key===R?c(_,x,E,k):null;case Gs:return R=E._init,f(_,x,R(E._payload),k)}if(Ec(E)||uc(E))return R!==null?null:h(_,x,E,k,null);Xd(_,E)}return null}function m(_,x,E,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(x,_,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ud:return _=_.get(k.key===null?E:k.key)||null,l(x,_,k,R);case ya:return _=_.get(k.key===null?E:k.key)||null,c(x,_,k,R);case Gs:var j=k._init;return m(_,x,E,j(k._payload),R)}if(Ec(k)||uc(k))return _=_.get(E)||null,h(x,_,k,R,null);Xd(x,k)}return null}function w(_,x,E,k){for(var R=null,j=null,C=x,S=x=0,I=null;C!==null&&S<E.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var A=f(_,C,E[S],k);if(A===null){C===null&&(C=I);break}t&&C&&A.alternate===null&&e(_,C),x=i(A,x,S),j===null?R=A:j.sibling=A,j=A,C=I}if(S===E.length)return n(_,C),Je&&ro(_,S),R;if(C===null){for(;S<E.length;S++)C=p(_,E[S],k),C!==null&&(x=i(C,x,S),j===null?R=C:j.sibling=C,j=C);return Je&&ro(_,S),R}for(C=r(_,C);S<E.length;S++)I=m(C,_,S,E[S],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),x=i(I,x,S),j===null?R=I:j.sibling=I,j=I);return t&&C.forEach(function(M){return e(_,M)}),Je&&ro(_,S),R}function g(_,x,E,k){var R=uc(E);if(typeof R!="function")throw Error(W(150));if(E=R.call(E),E==null)throw Error(W(151));for(var j=R=null,C=x,S=x=0,I=null,A=E.next();C!==null&&!A.done;S++,A=E.next()){C.index>S?(I=C,C=null):I=C.sibling;var M=f(_,C,A.value,k);if(M===null){C===null&&(C=I);break}t&&C&&M.alternate===null&&e(_,C),x=i(M,x,S),j===null?R=M:j.sibling=M,j=M,C=I}if(A.done)return n(_,C),Je&&ro(_,S),R;if(C===null){for(;!A.done;S++,A=E.next())A=p(_,A.value,k),A!==null&&(x=i(A,x,S),j===null?R=A:j.sibling=A,j=A);return Je&&ro(_,S),R}for(C=r(_,C);!A.done;S++,A=E.next())A=m(C,_,S,A.value,k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),x=i(A,x,S),j===null?R=A:j.sibling=A,j=A);return t&&C.forEach(function(D){return e(_,D)}),Je&&ro(_,S),R}function b(_,x,E,k){if(typeof E=="object"&&E!==null&&E.type===va&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ud:e:{for(var R=E.key,j=x;j!==null;){if(j.key===R){if(R=E.type,R===va){if(j.tag===7){n(_,j.sibling),x=s(j,E.props.children),x.return=_,_=x;break e}}else if(j.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&cb(R)===j.type){n(_,j.sibling),x=s(j,E.props),x.ref=mc(_,j,E),x.return=_,_=x;break e}n(_,j);break}else e(_,j);j=j.sibling}E.type===va?(x=bo(E.props.children,_.mode,k,E.key),x.return=_,_=x):(k=Nh(E.type,E.key,E.props,null,_.mode,k),k.ref=mc(_,x,E),k.return=_,_=k)}return o(_);case ya:e:{for(j=E.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(_,x.sibling),x=s(x,E.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=vg(E,_.mode,k),x.return=_,_=x}return o(_);case Gs:return j=E._init,b(_,x,j(E._payload),k)}if(Ec(E))return w(_,x,E,k);if(uc(E))return g(_,x,E,k);Xd(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,E),x.return=_,_=x):(n(_,x),x=yg(E,_.mode,k),x.return=_,_=x),o(_)):n(_,x)}return b}var al=cP(!0),uP=cP(!1),hf=zi(null),ff=null,Ca=null,q0=null;function G0(){q0=Ca=ff=null}function K0(t){var e=hf.current;Xe(hf),t._currentValue=e}function Uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){ff=t,q0=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(q0!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(ff===null)throw Error(W(308));Ca=t,ff.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var co=null;function Y0(t){co===null?co=[t]:co.push(t)}function dP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Y0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ws(t,r)}function ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function Q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ws(t,n)}return s=r.interleaved,s===null?(e.next=e,Y0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ws(t,n)}function Ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}function ub(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pf(t,e,n,r){var s=t.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(f=e,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){p=w.call(m,p,f);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(m,p,f):w,f==null)break e;p=rt({},p,f);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=p):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);No|=o,t.lanes=o,t.memoizedState=p}}function db(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Zu={},Lr=zi(Zu),pu=zi(Zu),mu=zi(Zu);function uo(t){if(t===Zu)throw Error(W(174));return t}function X0(t,e){switch(qe(mu,e),qe(pu,t),qe(Lr,Zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xy(e,t)}Xe(Lr),qe(Lr,e)}function ll(){Xe(Lr),Xe(pu),Xe(mu)}function fP(t){uo(mu.current);var e=uo(Lr.current),n=xy(e,t.type);e!==n&&(qe(pu,t),qe(Lr,n))}function J0(t){pu.current===t&&(Xe(Lr),Xe(pu))}var et=zi(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dg=[];function Z0(){for(var t=0;t<dg.length;t++)dg[t]._workInProgressVersionPrimary=null;dg.length=0}var Ih=Rs.ReactCurrentDispatcher,hg=Rs.ReactCurrentBatchConfig,Ro=0,nt=null,Tt=null,Pt=null,gf=!1,Fc=!1,gu=0,XL=0;function Ht(){throw Error(W(321))}function ew(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function tw(t,e,n,r,s,i){if(Ro=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ih.current=t===null||t.memoizedState===null?t4:n4,t=n(r,s),Fc){i=0;do{if(Fc=!1,gu=0,25<=i)throw Error(W(301));i+=1,Pt=Tt=null,e.updateQueue=null,Ih.current=r4,t=n(r,s)}while(Fc)}if(Ih.current=yf,e=Tt!==null&&Tt.next!==null,Ro=0,Pt=Tt=nt=null,gf=!1,e)throw Error(W(300));return t}function nw(){var t=gu!==0;return gu=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Jn(){if(Tt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Pt===null?nt.memoizedState:Pt.next;if(e!==null)Pt=e,Tt=t;else{if(t===null)throw Error(W(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function yu(t,e){return typeof e=="function"?e(t):e}function fg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Ro&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,nt.lanes|=h,No|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,yr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,No|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yr(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pP(){}function mP(t,e){var n=nt,r=Jn(),s=e(),i=!yr(r.memoizedState,s);if(i&&(r.memoizedState=s,vn=!0),r=r.queue,rw(vP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,vu(9,yP.bind(null,n,r,s,e),void 0,null),kt===null)throw Error(W(349));Ro&30||gP(n,e,s)}return s}function gP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yP(t,e,n,r){e.value=n,e.getSnapshot=r,wP(e)&&xP(t)}function vP(t,e,n){return n(function(){wP(e)&&xP(t)})}function wP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function xP(t){var e=ws(t,1);e!==null&&pr(e,t,1,-1)}function hb(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:t},e.queue=t,t=t.dispatch=e4.bind(null,nt,t),[e.memoizedState,t]}function vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _P(){return Jn().memoizedState}function Ph(t,e,n,r){var s=kr();nt.flags|=t,s.memoizedState=vu(1|e,n,void 0,r===void 0?null:r)}function xp(t,e,n,r){var s=Jn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&ew(r,o.deps)){s.memoizedState=vu(e,n,i,r);return}}nt.flags|=t,s.memoizedState=vu(1|e,n,i,r)}function fb(t,e){return Ph(8390656,8,t,e)}function rw(t,e){return xp(2048,8,t,e)}function bP(t,e){return xp(4,2,t,e)}function TP(t,e){return xp(4,4,t,e)}function EP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SP(t,e,n){return n=n!=null?n.concat([t]):null,xp(4,4,EP.bind(null,e,t),n)}function sw(){}function CP(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ew(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IP(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ew(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PP(t,e,n){return Ro&21?(yr(n,e)||(n=MI(),nt.lanes|=n,No|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function JL(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=hg.transition;hg.transition={};try{t(!1),e()}finally{Ue=n,hg.transition=r}}function kP(){return Jn().memoizedState}function ZL(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AP(t))RP(e,n);else if(n=dP(t,e,n,r),n!==null){var s=un();pr(n,t,r,s),NP(n,e,r)}}function e4(t,e,n){var r=gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AP(t))RP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yr(a,o)){var l=e.interleaved;l===null?(s.next=s,Y0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=dP(t,e,s,r),n!==null&&(s=un(),pr(n,t,r,s),NP(n,e,r))}}function AP(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function RP(t,e){Fc=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}var yf={readContext:Xn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},t4={readContext:Xn,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:fb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4194308,4,EP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ph(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZL.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:hb,useDebugValue:sw,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=hb(!1),e=t[0];return t=JL.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=kr();if(Je){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),kt===null)throw Error(W(349));Ro&30||gP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,fb(vP.bind(null,r,i,t),[t]),r.flags|=2048,vu(9,yP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=kr(),e=kt.identifierPrefix;if(Je){var n=ds,r=us;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n4={readContext:Xn,useCallback:CP,useContext:Xn,useEffect:rw,useImperativeHandle:SP,useInsertionEffect:bP,useLayoutEffect:TP,useMemo:IP,useReducer:fg,useRef:_P,useState:function(){return fg(yu)},useDebugValue:sw,useDeferredValue:function(t){var e=Jn();return PP(e,Tt.memoizedState,t)},useTransition:function(){var t=fg(yu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:pP,useSyncExternalStore:mP,useId:kP,unstable_isNewReconciler:!1},r4={readContext:Xn,useCallback:CP,useContext:Xn,useEffect:rw,useImperativeHandle:SP,useInsertionEffect:bP,useLayoutEffect:TP,useMemo:IP,useReducer:pg,useRef:_P,useState:function(){return pg(yu)},useDebugValue:sw,useDeferredValue:function(t){var e=Jn();return Tt===null?e.memoizedState=t:PP(e,Tt.memoizedState,t)},useTransition:function(){var t=pg(yu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:pP,useSyncExternalStore:mP,useId:kP,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function By(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _p={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),s=gi(t),i=ms(r,s);i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,s),e!==null&&(pr(e,t,s,r),Ch(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),s=gi(t),i=ms(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,s),e!==null&&(pr(e,t,s,r),Ch(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=gi(t),s=ms(n,r);s.tag=2,e!=null&&(s.callback=e),e=pi(t,s,r),e!==null&&(pr(e,t,r,n),Ch(e,t,r))}};function pb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!uu(n,r)||!uu(s,i):!0}function MP(t,e,n){var r=!1,s=Ii,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=_n(e)?ko:tn.current,r=e.contextTypes,i=(r=r!=null)?il(t,s):Ii),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_p.enqueueReplaceState(e,e.state,null)}function $y(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Q0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=_n(e)?ko:tn.current,s.context=il(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(By(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_p.enqueueReplaceState(s,s.state,null),pf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=RV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s4=typeof WeakMap=="function"?WeakMap:Map;function DP(t,e,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wf||(wf=!0,Zy=r),zy(t,e)},n}function jP(t,e,n){n=ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=v4.bind(null,t,e,n),e.then(t,t))}function yb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ms(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var i4=Rs.ReactCurrentOwner,vn=!1;function an(t,e,n,r){e.child=t===null?uP(e,null,n,r):al(e,t.child,n,r)}function wb(t,e,n,r,s){n=n.render;var i=e.ref;return Fa(e,s),r=tw(t,e,n,r,i,s),n=nw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xs(t,e,s)):(Je&&n&&z0(e),e.flags|=1,an(t,e,r,s),e.child)}function xb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,OP(t,e,i,r,s)):(t=Nh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(o,r)&&t.ref===e.ref)return xs(t,e,s)}return e.flags|=1,t=yi(i,r),t.ref=e.ref,t.return=e,e.child=t}function OP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(uu(i,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,xs(t,e,s)}return Wy(t,e,n,r,s)}function VP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Pa,In),In|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Pa,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(Pa,In),In|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(Pa,In),In|=r;return an(t,e,s,n),e.child}function LP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wy(t,e,n,r,s){var i=_n(n)?ko:tn.current;return i=il(e,i),Fa(e,s),n=tw(t,e,n,r,i,s),r=nw(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xs(t,e,s)):(Je&&r&&z0(e),e.flags|=1,an(t,e,n,s),e.child)}function _b(t,e,n,r,s){if(_n(n)){var i=!0;cf(e)}else i=!1;if(Fa(e,s),e.stateNode===null)kh(t,e),MP(e,n,r),$y(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=_n(n)?ko:tn.current,c=il(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mb(e,o,r,c),Ks=!1;var f=e.memoizedState;o.state=f,pf(e,r,o,s),l=e.memoizedState,a!==r||f!==l||xn.current||Ks?(typeof h=="function"&&(By(e,n,h,r),l=e.memoizedState),(a=Ks||pb(e,n,a,r,f,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ir(e.type,a),o.props=c,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=_n(n)?ko:tn.current,l=il(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&mb(e,o,r,l),Ks=!1,f=e.memoizedState,o.state=f,pf(e,r,o,s);var w=e.memoizedState;a!==p||f!==w||xn.current||Ks?(typeof m=="function"&&(By(e,n,m,r),w=e.memoizedState),(c=Ks||pb(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hy(t,e,n,r,i,s)}function Hy(t,e,n,r,s,i){LP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ob(e,n,!1),xs(t,e,i);r=e.stateNode,i4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,i),e.child=al(e,null,a,i)):an(t,e,a,i),e.memoizedState=r.state,s&&ob(e,n,!0),e.child}function FP(t){var e=t.stateNode;e.pendingContext?ib(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ib(t,e.context,!1),X0(t,e.containerInfo)}function bb(t,e,n,r,s){return ol(),H0(s),e.flags|=256,an(t,e,n,r),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function UP(t,e,n){var r=e.pendingProps,s=et.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(et,s&1),t===null)return Fy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ep(o,r,0,null),t=bo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gy(n),e.memoizedState=qy,t):iw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return o4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yi(a,i):(i=bo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Gy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qy,r}return i=t.child,t=i.sibling,r=yi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iw(t,e){return e=Ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,n,r){return r!==null&&H0(r),al(e,t.child,null,n),t=iw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mg(Error(W(422))),Jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ep({mode:"visible",children:r.children},s,0,null),i=bo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=Gy(o),e.memoizedState=qy,i);if(!(e.mode&1))return Jd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=mg(i,r,void 0),Jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ws(t,s),pr(r,t,s,-1))}return dw(),r=mg(Error(W(421))),Jd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=w4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,An=fi(s.nextSibling),Mn=e,Je=!0,cr=null,t!==null&&(zn[Wn++]=us,zn[Wn++]=ds,zn[Wn++]=Ao,us=t.id,ds=t.overflow,Ao=e),e=iw(e,r.children),e.flags|=4096,e)}function Tb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uy(t.return,e,n)}function gg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function BP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tb(t,n,e);else if(t.tag===19)Tb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gg(e,!0,n,null,i);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),No|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a4(t,e,n){switch(e.tag){case 3:FP(e),ol();break;case 5:fP(e);break;case 1:_n(e.type)&&cf(e);break;case 4:X0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(hf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?UP(t,e,n):(qe(et,et.current&1),t=xs(t,e,n),t!==null?t.sibling:null);qe(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,VP(t,e,n)}return xs(t,e,n)}var $P,Ky,zP,WP;$P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};zP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,uo(Lr.current);var i=null;switch(n){case"input":s=gy(t,s),r=gy(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=wy(t,s),r=wy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}_y(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ru.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ru.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ye("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};WP=function(t,e,n,r){n!==r&&(e.flags|=4)};function gc(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l4(t,e,n){var r=e.pendingProps;switch(W0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return _n(e.type)&&lf(),qt(e),null;case 3:return r=e.stateNode,ll(),Xe(xn),Xe(tn),Z0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(nv(cr),cr=null))),Ky(t,e),qt(e),null;case 5:J0(e);var s=uo(mu.current);if(n=e.type,t!==null&&e.stateNode!=null)zP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return qt(e),null}if(t=uo(Lr.current),Qd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[jr]=e,r[fu]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<Cc.length;s++)Ye(Cc[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":N_(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":D_(r,i),Ye("invalid",r)}_y(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yd(r.textContent,a,t),s=["children",""+a]):ru.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Bd(r),M_(r,i,!0);break;case"textarea":Bd(r),j_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jr]=e,t[fu]=r,$P(t,e,!1,!1),e.stateNode=t;e:{switch(o=by(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),s=r;break;case"iframe":case"object":case"embed":Ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cc.length;s++)Ye(Cc[s],t);s=r;break;case"source":Ye("error",t),s=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=r;break;case"details":Ye("toggle",t),s=r;break;case"input":N_(t,r),s=gy(t,r),Ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":D_(t,r),s=wy(t,r),Ye("invalid",t);break;default:s=r}_y(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_I(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&su(t,l):typeof l=="number"&&su(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ru.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ye("scroll",t):l!=null&&k0(t,i,l,o))}switch(n){case"input":Bd(t),M_(t,r,!1);break;case"textarea":Bd(t),j_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ja(t,!!r.multiple,i,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)WP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=uo(mu.current),uo(Lr.current),Qd(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(i=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Yd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return qt(e),null;case 13:if(Xe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&An!==null&&e.mode&1&&!(e.flags&128))lP(),ol(),e.flags|=98560,i=!1;else if(i=Qd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[jr]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),i=!1}else cr!==null&&(nv(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Et===0&&(Et=3):dw())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return ll(),Ky(t,e),t===null&&du(e.stateNode.containerInfo),qt(e),null;case 10:return K0(e.type._context),qt(e),null;case 17:return _n(e.type)&&lf(),qt(e),null;case 19:if(Xe(et),i=e.memoizedState,i===null)return qt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)gc(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mf(t),o!==null){for(e.flags|=128,gc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(et,et.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>ul&&(e.flags|=128,r=!0,gc(i,!1),e.lanes=4194304)}else{if(!r)if(t=mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return qt(e),null}else 2*ht()-i.renderingStartTime>ul&&n!==1073741824&&(e.flags|=128,r=!0,gc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=et.current,qe(et,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function c4(t,e){switch(W0(e),e.tag){case 1:return _n(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),Xe(xn),Xe(tn),Z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return J0(e),null;case 13:if(Xe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(et),null;case 4:return ll(),null;case 10:return K0(e.type._context),null;case 22:case 23:return uw(),null;case 24:return null;default:return null}}var Zd=!1,Qt=!1,u4=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Yy(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Eb=!1;function d4(t,e){if(Ny=rf,t=YI(),$0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,p=t,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(My={focusedElem:t,selectionRange:n},rf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:ir(e.type,g),b);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){ct(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=Eb,Eb=!1,w}function Uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yy(e,n,i)}s=s.next}while(s!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HP(t){var e=t.alternate;e!==null&&(t.alternate=null,HP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[fu],delete e[Oy],delete e[GL],delete e[KL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qP(t){return t.tag===5||t.tag===3||t.tag===4}function Sb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(Xy(t,e,n),t=t.sibling;t!==null;)Xy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var Mt=null,lr=!1;function Fs(t,e,n){for(n=n.child;n!==null;)GP(t,e,n),n=n.sibling}function GP(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(pp,n)}catch{}switch(n.tag){case 5:Qt||Ia(n,e);case 6:var r=Mt,s=lr;Mt=null,Fs(t,e,n),Mt=r,lr=s,Mt!==null&&(lr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(lr?(t=Mt,n=n.stateNode,t.nodeType===8?cg(t.parentNode,n):t.nodeType===1&&cg(t,n),lu(t)):cg(Mt,n.stateNode));break;case 4:r=Mt,s=lr,Mt=n.stateNode.containerInfo,lr=!0,Fs(t,e,n),Mt=r,lr=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yy(n,e,o),s=s.next}while(s!==r)}Fs(t,e,n);break;case 1:if(!Qt&&(Ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}Fs(t,e,n);break;case 21:Fs(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Fs(t,e,n),Qt=r):Fs(t,e,n);break;default:Fs(t,e,n)}}function Cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u4),e.forEach(function(r){var s=x4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,lr=!1;break e;case 3:Mt=a.stateNode.containerInfo,lr=!0;break e;case 4:Mt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Mt===null)throw Error(W(160));GP(i,o,s),Mt=null,lr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ct(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KP(e,t),e=e.sibling}function KP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),Pr(t),r&4){try{Uc(3,t,t.return),bp(3,t)}catch(g){ct(t,t.return,g)}try{Uc(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:er(e,t),Pr(t),r&512&&n!==null&&Ia(n,n.return);break;case 5:if(er(e,t),Pr(t),r&512&&n!==null&&Ia(n,n.return),t.flags&32){var s=t.stateNode;try{su(s,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&gI(s,i),by(a,o);var c=by(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?_I(s,p):h==="dangerouslySetInnerHTML"?wI(s,p):h==="children"?su(s,p):k0(s,h,p,c)}switch(a){case"input":yy(s,i);break;case"textarea":yI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ja(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ja(s,!!i.multiple,i.defaultValue,!0):ja(s,!!i.multiple,i.multiple?[]:"",!1))}s[fu]=i}catch(g){ct(t,t.return,g)}}break;case 6:if(er(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ct(t,t.return,g)}}break;case 3:if(er(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lu(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:er(e,t),Pr(t);break;case 13:er(e,t),Pr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lw=ht())),r&4&&Cb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||h,er(e,t),Qt=c):er(e,t),Pr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(p=te=h;te!==null;){switch(f=te,m=f.child,f.tag){case 0:case 11:case 14:case 15:Uc(4,f,f.return);break;case 1:Ia(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Ia(f,f.return);break;case 22:if(f.memoizedState!==null){Pb(p);continue}}m!==null?(m.return=f,te=m):Pb(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xI("display",o))}catch(g){ct(t,t.return,g)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){ct(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:er(e,t),Pr(t),r&4&&Cb(t);break;case 21:break;default:er(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(su(s,""),r.flags&=-33);var i=Sb(t);Jy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Sb(t);Xy(t,a,o);break;default:throw Error(W(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h4(t,e,n){te=t,YP(t)}function YP(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Zd;var c=Qt;if(Zd=o,(Qt=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?kb(s):l!==null?(l.return=o,te=l):kb(s);for(;i!==null;)te=i,YP(i),i=i.sibling;te=s,Zd=a,Qt=c}Ib(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Ib(t)}}function Ib(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&db(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}db(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&lu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Qt||e.flags&512&&Qy(e)}catch(f){ct(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Pb(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function kb(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ct(e,s,l)}}var i=e.return;try{Qy(e)}catch(l){ct(e,i,l)}break;case 5:var o=e.return;try{Qy(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var f4=Math.ceil,vf=Rs.ReactCurrentDispatcher,ow=Rs.ReactCurrentOwner,Gn=Rs.ReactCurrentBatchConfig,Ne=0,kt=null,wt=null,Vt=0,In=0,Pa=zi(0),Et=0,wu=null,No=0,Tp=0,aw=0,Bc=null,gn=null,lw=0,ul=1/0,as=null,wf=!1,Zy=null,mi=null,eh=!1,oi=null,xf=0,$c=0,ev=null,Ah=-1,Rh=0;function un(){return Ne&6?ht():Ah!==-1?Ah:Ah=ht()}function gi(t){return t.mode&1?Ne&2&&Vt!==0?Vt&-Vt:QL.transition!==null?(Rh===0&&(Rh=MI()),Rh):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:UI(t.type)),t):1}function pr(t,e,n,r){if(50<$c)throw $c=0,ev=null,Error(W(185));Qu(t,n,r),(!(Ne&2)||t!==kt)&&(t===kt&&(!(Ne&2)&&(Tp|=n),Et===4&&Qs(t,Vt)),bn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(ul=ht()+500,wp&&Wi()))}function bn(t,e){var n=t.callbackNode;QV(t,e);var r=nf(t,t===kt?Vt:0);if(r===0)n!==null&&L_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L_(n),e===1)t.tag===0?YL(Ab.bind(null,t)):iP(Ab.bind(null,t)),HL(function(){!(Ne&6)&&Wi()}),n=null;else{switch(DI(r)){case 1:n=D0;break;case 4:n=RI;break;case 16:n=tf;break;case 536870912:n=NI;break;default:n=tf}n=rk(n,QP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QP(t,e){if(Ah=-1,Rh=0,Ne&6)throw Error(W(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=nf(t,t===kt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_f(t,r);else{e=r;var s=Ne;Ne|=2;var i=JP();(kt!==t||Vt!==e)&&(as=null,ul=ht()+500,_o(t,e));do try{g4();break}catch(a){XP(t,a)}while(!0);G0(),vf.current=i,Ne=s,wt!==null?e=0:(kt=null,Vt=0,e=Et)}if(e!==0){if(e===2&&(s=Iy(t),s!==0&&(r=s,e=tv(t,s))),e===1)throw n=wu,_o(t,0),Qs(t,r),bn(t,ht()),n;if(e===6)Qs(t,r);else{if(s=t.current.alternate,!(r&30)&&!p4(s)&&(e=_f(t,r),e===2&&(i=Iy(t),i!==0&&(r=i,e=tv(t,i))),e===1))throw n=wu,_o(t,0),Qs(t,r),bn(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:so(t,gn,as);break;case 3:if(Qs(t,r),(r&130023424)===r&&(e=lw+500-ht(),10<e)){if(nf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jy(so.bind(null,t,gn,as),e);break}so(t,gn,as);break;case 4:if(Qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f4(r/1960))-r,10<r){t.timeoutHandle=jy(so.bind(null,t,gn,as),r);break}so(t,gn,as);break;case 5:so(t,gn,as);break;default:throw Error(W(329))}}}return bn(t,ht()),t.callbackNode===n?QP.bind(null,t):null}function tv(t,e){var n=Bc;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=_f(t,e),t!==2&&(e=gn,gn=n,e!==null&&nv(e)),t}function nv(t){gn===null?gn=t:gn.push.apply(gn,t)}function p4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qs(t,e){for(e&=~aw,e&=~Tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function Ab(t){if(Ne&6)throw Error(W(327));Ua();var e=nf(t,0);if(!(e&1))return bn(t,ht()),null;var n=_f(t,e);if(t.tag!==0&&n===2){var r=Iy(t);r!==0&&(e=r,n=tv(t,r))}if(n===1)throw n=wu,_o(t,0),Qs(t,e),bn(t,ht()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,so(t,gn,as),bn(t,ht()),null}function cw(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ul=ht()+500,wp&&Wi())}}function Mo(t){oi!==null&&oi.tag===0&&!(Ne&6)&&Ua();var e=Ne;Ne|=1;var n=Gn.transition,r=Ue;try{if(Gn.transition=null,Ue=1,t)return t()}finally{Ue=r,Gn.transition=n,Ne=e,!(Ne&6)&&Wi()}}function uw(){In=Pa.current,Xe(Pa)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WL(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(W0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:ll(),Xe(xn),Xe(tn),Z0();break;case 5:J0(r);break;case 4:ll();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:K0(r.type._context);break;case 22:case 23:uw()}n=n.return}if(kt=t,wt=t=yi(t.current,null),Vt=In=e,Et=0,wu=null,aw=Tp=No=0,gn=Bc=null,co!==null){for(e=0;e<co.length;e++)if(n=co[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}co=null}return t}function XP(t,e){do{var n=wt;try{if(G0(),Ih.current=yf,gf){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}if(Ro=0,Pt=Tt=nt=null,Fc=!1,gu=0,ow.current=null,n===null||n.return===null){Et=1,wu=e,wt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=yb(o);if(m!==null){m.flags&=-257,vb(m,o,a,i,e),m.mode&1&&gb(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){gb(i,c,e),dw();break e}l=Error(W(426))}}else if(Je&&a.mode&1){var b=yb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vb(b,o,a,i,e),H0(cl(l,a));break e}}i=l=cl(l,a),Et!==4&&(Et=2),Bc===null?Bc=[i]:Bc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=DP(i,l,e);ub(i,_);break e;case 1:a=l;var x=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(mi===null||!mi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=jP(i,a,e);ub(i,k);break e}}i=i.return}while(i!==null)}ek(n)}catch(R){e=R,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function JP(){var t=vf.current;return vf.current=yf,t===null?yf:t}function dw(){(Et===0||Et===3||Et===2)&&(Et=4),kt===null||!(No&268435455)&&!(Tp&268435455)||Qs(kt,Vt)}function _f(t,e){var n=Ne;Ne|=2;var r=JP();(kt!==t||Vt!==e)&&(as=null,_o(t,e));do try{m4();break}catch(s){XP(t,s)}while(!0);if(G0(),Ne=n,vf.current=r,wt!==null)throw Error(W(261));return kt=null,Vt=0,Et}function m4(){for(;wt!==null;)ZP(wt)}function g4(){for(;wt!==null&&!BV();)ZP(wt)}function ZP(t){var e=nk(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?ek(t):wt=e,ow.current=null}function ek(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c4(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,wt=null;return}}else if(n=l4(n,e,In),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Et===0&&(Et=5)}function so(t,e,n){var r=Ue,s=Gn.transition;try{Gn.transition=null,Ue=1,y4(t,e,n,r)}finally{Gn.transition=s,Ue=r}return null}function y4(t,e,n,r){do Ua();while(oi!==null);if(Ne&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XV(t,i),t===kt&&(wt=kt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eh||(eh=!0,rk(tf,function(){return Ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gn.transition,Gn.transition=null;var o=Ue;Ue=1;var a=Ne;Ne|=4,ow.current=null,d4(t,n),KP(n,t),VL(My),rf=!!Ny,My=Ny=null,t.current=n,h4(n),$V(),Ne=a,Ue=o,Gn.transition=i}else t.current=n;if(eh&&(eh=!1,oi=t,xf=s),i=t.pendingLanes,i===0&&(mi=null),HV(n.stateNode),bn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wf)throw wf=!1,t=Zy,Zy=null,t;return xf&1&&t.tag!==0&&Ua(),i=t.pendingLanes,i&1?t===ev?$c++:($c=0,ev=t):$c=0,Wi(),null}function Ua(){if(oi!==null){var t=DI(xf),e=Gn.transition,n=Ue;try{if(Gn.transition=null,Ue=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,xf=0,Ne&6)throw Error(W(331));var s=Ne;for(Ne|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Uc(8,h,i)}var p=h.child;if(p!==null)p.return=h,te=p;else for(;te!==null;){h=te;var f=h.sibling,m=h.return;if(HP(h),h===c){te=null;break}if(f!==null){f.return=m,te=f;break}te=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var x=t.current;for(te=x;te!==null;){o=te;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,te=E;else e:for(o=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(R){ct(a,a.return,R)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(Ne=s,Wi(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(pp,t)}catch{}r=!0}return r}finally{Ue=n,Gn.transition=e}}return!1}function Rb(t,e,n){e=cl(n,e),e=DP(t,e,1),t=pi(t,e,1),e=un(),t!==null&&(Qu(t,1,e),bn(t,e))}function ct(t,e,n){if(t.tag===3)Rb(t,t,n);else for(;e!==null;){if(e.tag===3){Rb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=cl(n,t),t=jP(e,t,1),e=pi(e,t,1),t=un(),e!==null&&(Qu(e,1,t),bn(e,t));break}}e=e.return}}function v4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Vt&n)===n&&(Et===4||Et===3&&(Vt&130023424)===Vt&&500>ht()-lw?_o(t,0):aw|=n),bn(t,e)}function tk(t,e){e===0&&(t.mode&1?(e=Wd,Wd<<=1,!(Wd&130023424)&&(Wd=4194304)):e=1);var n=un();t=ws(t,e),t!==null&&(Qu(t,e,n),bn(t,n))}function w4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tk(t,n)}function x4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),tk(t,n)}var nk;nk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,a4(t,e,n);vn=!!(t.flags&131072)}else vn=!1,Je&&e.flags&1048576&&oP(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kh(t,e),t=e.pendingProps;var s=il(e,tn.current);Fa(e,n),s=tw(null,e,r,t,s,n);var i=nw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Q0(e),s.updater=_p,e.stateNode=s,s._reactInternals=e,$y(e,r,t,n),e=Hy(null,e,r,!0,i,n)):(e.tag=0,Je&&i&&z0(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=b4(r),t=ir(r,t),s){case 0:e=Wy(null,e,r,t,n);break e;case 1:e=_b(null,e,r,t,n);break e;case 11:e=wb(null,e,r,t,n);break e;case 14:e=xb(null,e,r,ir(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Wy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),_b(t,e,r,s,n);case 3:e:{if(FP(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hP(t,e),pf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cl(Error(W(423)),e),e=bb(t,e,r,n,s);break e}else if(r!==s){s=cl(Error(W(424)),e),e=bb(t,e,r,n,s);break e}else for(An=fi(e.stateNode.containerInfo.firstChild),Mn=e,Je=!0,cr=null,n=uP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===s){e=xs(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return fP(e),t===null&&Fy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dy(r,s)?o=null:i!==null&&Dy(r,i)&&(e.flags|=32),LP(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Fy(e),null;case 13:return UP(t,e,n);case 4:return X0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),wb(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(hf,r._currentValue),r._currentValue=o,i!==null)if(yr(i.value,o)){if(i.children===s.children&&!xn.current){e=xs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ms(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Uy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fa(e,n),s=Xn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=ir(r,e.pendingProps),s=ir(r.type,s),xb(t,e,r,s,n);case 15:return OP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),kh(t,e),e.tag=1,_n(r)?(t=!0,cf(e)):t=!1,Fa(e,n),MP(e,r,s),$y(e,r,s,n),Hy(null,e,r,!0,t,n);case 19:return BP(t,e,n);case 22:return VP(t,e,n)}throw Error(W(156,e.tag))};function rk(t,e){return AI(t,e)}function _4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new _4(t,e,n,r)}function hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b4(t){if(typeof t=="function")return hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R0)return 11;if(t===N0)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case va:return bo(n.children,s,i,e);case A0:o=8,s|=8;break;case hy:return t=qn(12,n,e,s|2),t.elementType=hy,t.lanes=i,t;case fy:return t=qn(13,n,e,s),t.elementType=fy,t.lanes=i,t;case py:return t=qn(19,n,e,s),t.elementType=py,t.lanes=i,t;case fI:return Ep(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dI:o=10;break e;case hI:o=9;break e;case R0:o=11;break e;case N0:o=14;break e;case Gs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Ep(t,e,n,r){return t=qn(22,t,r,e),t.elementType=fI,t.lanes=n,t.stateNode={isHidden:!1},t}function yg(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function vg(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jm(0),this.expirationTimes=Jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fw(t,e,n,r,s,i,o,a,l){return t=new T4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q0(i),t}function E4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sk(t){if(!t)return Ii;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(_n(n))return sP(t,n,e)}return e}function ik(t,e,n,r,s,i,o,a,l){return t=fw(n,r,!0,t,s,i,o,a,l),t.context=sk(null),n=t.current,r=un(),s=gi(n),i=ms(r,s),i.callback=e??null,pi(n,i,s),t.current.lanes=s,Qu(t,s,r),bn(t,r),t}function Sp(t,e,n,r){var s=e.current,i=un(),o=gi(s);return n=sk(n),e.context===null?e.context=n:e.pendingContext=n,e=ms(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(s,e,o),t!==null&&(pr(t,s,o,i),Ch(t,s,o)),o}function bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pw(t,e){Nb(t,e),(t=t.alternate)&&Nb(t,e)}function S4(){return null}var ok=typeof reportError=="function"?reportError:function(t){console.error(t)};function mw(t){this._internalRoot=t}Cp.prototype.render=mw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Sp(t,e,null,null)};Cp.prototype.unmount=mw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mo(function(){Sp(null,t,null,null)}),e[vs]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=VI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&FI(t)}};function gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function C4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=bf(o);i.call(c)}}var o=ik(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=o,t[vs]=o.current,du(t.nodeType===8?t.parentNode:t),Mo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=bf(l);a.call(c)}}var l=fw(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=l,t[vs]=l.current,du(t.nodeType===8?t.parentNode:t),Mo(function(){Sp(e,l,n,r)}),l}function Pp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bf(o);a.call(l)}}Sp(e,o,t,s)}else o=C4(n,e,t,s,r);return bf(o)}jI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sc(e.pendingLanes);n!==0&&(j0(e,n|1),bn(e,ht()),!(Ne&6)&&(ul=ht()+500,Wi()))}break;case 13:Mo(function(){var r=ws(t,1);if(r!==null){var s=un();pr(r,t,1,s)}}),pw(t,1)}};O0=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var n=un();pr(e,t,134217728,n)}pw(t,134217728)}};OI=function(t){if(t.tag===13){var e=gi(t),n=ws(t,e);if(n!==null){var r=un();pr(n,t,e,r)}pw(t,e)}};VI=function(){return Ue};LI=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Ey=function(t,e,n){switch(e){case"input":if(yy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vp(r);if(!s)throw Error(W(90));mI(r),yy(r,s)}}}break;case"textarea":yI(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};EI=cw;SI=Mo;var I4={usingClientEntryPoint:!1,Events:[Ju,ba,vp,bI,TI,cw]},yc={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P4={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PI(t),t===null?null:t.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||S4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{pp=th.inject(P4),Vr=th}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(e))throw Error(W(200));return E4(t,e,null,n)};Vn.createRoot=function(t,e){if(!gw(t))throw Error(W(299));var n=!1,r="",s=ok;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fw(t,1,!1,null,null,n,!1,r,s),t[vs]=e.current,du(t.nodeType===8?t.parentNode:t),new mw(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=PI(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return Mo(t)};Vn.hydrate=function(t,e,n){if(!Ip(e))throw Error(W(200));return Pp(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!gw(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ok;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ik(e,null,t,1,n??null,s,!1,i,o),t[vs]=e.current,du(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cp(e)};Vn.render=function(t,e,n){if(!Ip(e))throw Error(W(200));return Pp(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Ip(t))throw Error(W(40));return t._reactRootContainer?(Mo(function(){Pp(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};Vn.unstable_batchedUpdates=cw;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ip(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Pp(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ak)}catch(t){console.error(t)}}ak(),aI.exports=Vn;var Ho=aI.exports;const lk=KC(Ho);var ck,Db=Ho;ck=Db.createRoot,Db.hydrateRoot;const k4=1,A4=1e6;let wg=0;function R4(){return wg=(wg+1)%Number.MAX_SAFE_INTEGER,wg.toString()}const xg=new Map,jb=t=>{if(xg.has(t))return;const e=setTimeout(()=>{xg.delete(t),zc({type:"REMOVE_TOAST",toastId:t})},A4);xg.set(t,e)},N4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,k4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?jb(n):t.toasts.forEach(r=>{jb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mh=[];let Dh={toasts:[]};function zc(t){Dh=N4(Dh,t),Mh.forEach(e=>{e(Dh)})}function Qe({...t}){const e=R4(),n=s=>zc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zc({type:"DISMISS_TOAST",toastId:e});return zc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function uk(){const[t,e]=v.useState(Dh);return v.useEffect(()=>(Mh.push(e),()=>{const n=Mh.indexOf(e);n>-1&&Mh.splice(n,1)}),[t]),{...t,toast:Qe,dismiss:n=>zc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function M4(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kp(...t){return e=>t.forEach(n=>M4(n,e))}function $e(...t){return v.useCallback(kp(...t),t)}function D4(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:m,...w}=p,g=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:b,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,j4(s,...e)]}function j4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Do=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(O4);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return u.jsx(rv,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return u.jsx(rv,{...r,ref:e,children:n})});Do.displayName="Slot";var rv=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=L4(n);return v.cloneElement(n,{...V4(r,n.props),ref:e?kp(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});rv.displayName="SlotClone";var dk=({children:t})=>u.jsx(u.Fragment,{children:t});function O4(t){return v.isValidElement(t)&&t.type===dk}function V4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function L4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ap(t){const e=t+"CollectionProvider",[n,r]=D4(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,b=q.useRef(null),_=q.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:_,collectionRef:b,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((m,w)=>{const{scope:g,children:b}=m,_=i(a,g),x=$e(w,_.collectionRef);return u.jsx(Do,{ref:x,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=q.forwardRef((m,w)=>{const{scope:g,children:b,..._}=m,x=q.useRef(null),E=$e(w,x),k=i(c,g);return q.useEffect(()=>(k.itemMap.set(x,{ref:x,..._}),()=>void k.itemMap.delete(x))),u.jsx(Do,{[h]:"",ref:E,children:b})});p.displayName=c;function f(m){const w=i(t+"CollectionConsumer",m);return q.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,R)=>_.indexOf(k.ref.current)-_.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function Cl(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=p=>{var _;const{scope:f,children:m,...w}=p,g=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,b=v.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:b,children:m})};c.displayName=i+"Provider";function h(p,f){var g;const m=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,F4(s,...e)]}function F4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var U4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=U4.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Do:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yw(t,e){t&&Ho.flushSync(()=>t.dispatchEvent(e))}function Ft(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function B4(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $4="DismissableLayer",sv="dismissableLayer.update",z4="dismissableLayer.pointerDownOutside",W4="dismissableLayer.focusOutside",Ob,hk=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ed=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(hk),[h,p]=v.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=$e(e,C=>p(C)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(b),x=h?g.indexOf(h):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,k=x>=_,R=q4(C=>{const S=C.target,I=[...c.branches].some(A=>A.contains(S));!k||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),j=G4(C=>{const S=C.target;[...c.branches].some(A=>A.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return B4(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),v.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ob=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Vb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ob)}},[h,f,n,c]),v.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Vb())},[h,c]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(sv,C),()=>document.removeEventListener(sv,C)},[]),u.jsx(xe.div,{...l,ref:w,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,R.onPointerDownCapture)})});ed.displayName=$4;var H4="DismissableLayerBranch",fk=v.forwardRef((t,e)=>{const n=v.useContext(hk),r=v.useRef(null),s=$e(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(xe.div,{...t,ref:s})});fk.displayName=H4;function q4(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){pk(z4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function G4(t,e=globalThis==null?void 0:globalThis.document){const n=Ft(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&pk(W4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Vb(){const t=new CustomEvent(sv);document.dispatchEvent(t)}function pk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yw(s,i):s.dispatchEvent(i)}var K4=ed,Y4=fk,At=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Q4="Portal",Rp=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);At(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lk.createPortal(u.jsx(xe.div,{...r,ref:e}),o):null});Rp.displayName=Q4;function X4(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var qo=t=>{const{present:e,children:n}=t,r=J4(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=$e(r.ref,Z4(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};qo.displayName="Presence";function J4(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=X4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=nh(r.current);i.current=a==="mounted"?c:"none"},[a]),At(()=>{const c=r.current,h=s.current;if(h!==t){const f=i.current,m=nh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),At(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=m=>{const g=nh(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=m=>{m.target===e&&(i.current=nh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function nh(t){return(t==null?void 0:t.animationName)||"none"}function Z4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=eF({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ft(n),l=v.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,l]}function eF({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Ft(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var tF="VisuallyHidden",td=v.forwardRef((t,e)=>u.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));td.displayName=tF;var nF=td,vw="ToastProvider",[ww,rF,sF]=Ap("Toast"),[mk,Gte]=Cl("Toast",[sF]),[iF,Np]=mk(vw),gk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,h]=v.useState(0),p=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vw}\`. Expected non-empty \`string\`.`),u.jsx(ww.Provider,{scope:e,children:u.jsx(iF,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>h(m=>m+1),[]),onToastRemove:v.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};gk.displayName=vw;var yk="ToastViewport",oF=["F8"],iv="toast.viewportPause",ov="toast.viewportResume",vk=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oF,label:s="Notifications ({hotkey})",...i}=t,o=Np(yk,n),a=rF(n),l=v.useRef(null),c=v.useRef(null),h=v.useRef(null),p=v.useRef(null),f=$e(e,p,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const b=_=>{var E;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),v.useEffect(()=>{const b=l.current,_=p.current;if(w&&b&&_){const x=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(iv);_.dispatchEvent(j),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(ov);_.dispatchEvent(j),o.isClosePausedRef.current=!1}},k=j=>{!b.contains(j.relatedTarget)&&E()},R=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",x),b.addEventListener("focusout",k),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",R),window.addEventListener("blur",x),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",R),window.removeEventListener("blur",x),window.removeEventListener("focus",E)}}},[w,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:b})=>{const x=a().map(E=>{const k=E.ref.current,R=[k,...wF(k)];return b==="forwards"?R:R.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const b=p.current;if(b){const _=x=>{var R,j,C;const E=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!E){const S=document.activeElement,I=x.shiftKey;if(x.target===b&&I){(R=c.current)==null||R.focus();return}const D=g({tabbingDirection:I?"backwards":"forwards"}),N=D.findIndex(z=>z===S);_g(D.slice(N+1))?x.preventDefault():I?(j=c.current)==null||j.focus():(C=h.current)==null||C.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,g]),u.jsxs(Y4,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(av,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});_g(b)}}),u.jsx(ww.Slot,{scope:n,children:u.jsx(xe.ol,{tabIndex:-1,...i,ref:f})}),w&&u.jsx(av,{ref:h,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});_g(b)}})]})});vk.displayName=yk;var wk="ToastFocusProxy",av=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Np(wk,n);return u.jsx(td,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});av.displayName=wk;var Mp="Toast",aF="toast.swipeStart",lF="toast.swipeMove",cF="toast.swipeCancel",uF="toast.swipeEnd",xk=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=xu({prop:r,defaultProp:s,onChange:i});return u.jsx(qo,{present:n||a,children:u.jsx(fF,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ft(t.onPause),onResume:Ft(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});xk.displayName=Mp;var[dF,hF]=mk(Mp,{onClose(){}}),fF=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:m,...w}=t,g=Np(Mp,n),[b,_]=v.useState(null),x=$e(e,z=>_(z)),E=v.useRef(null),k=v.useRef(null),R=s||g.duration,j=v.useRef(0),C=v.useRef(R),S=v.useRef(0),{onToastAdd:I,onToastRemove:A}=g,M=Ft(()=>{var se;(b==null?void 0:b.contains(document.activeElement))&&((se=g.viewport)==null||se.focus()),o()}),D=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(M,z))},[M]);v.useEffect(()=>{const z=g.viewport;if(z){const se=()=>{D(C.current),c==null||c()},Y=()=>{const X=new Date().getTime()-j.current;C.current=C.current-X,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(iv,Y),z.addEventListener(ov,se),()=>{z.removeEventListener(iv,Y),z.removeEventListener(ov,se)}}},[g.viewport,R,l,c,D]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(R)},[i,R,g.isClosePausedRef,D]),v.useEffect(()=>(I(),()=>A()),[I,A]);const N=v.useMemo(()=>b?Ik(b):null,[b]);return g.viewport?u.jsxs(u.Fragment,{children:[N&&u.jsx(pF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),u.jsx(dF,{scope:n,onClose:M,children:Ho.createPortal(u.jsx(ww.ItemSlot,{scope:n,children:u.jsx(K4,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:ee(t.onPointerMove,z=>{if(!E.current)return;const se=z.clientX-E.current.x,Y=z.clientY-E.current.y,X=!!k.current,O=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=O?L(0,se):0,H=O?0:L(0,Y),J=z.pointerType==="touch"?10:2,re={x:G,y:H},be={originalEvent:z,delta:re};X?(k.current=re,rh(lF,p,be,{discrete:!1})):Lb(re,g.swipeDirection,J)?(k.current=re,rh(aF,h,be,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(se)>J||Math.abs(Y)>J)&&(E.current=null)}),onPointerUp:ee(t.onPointerUp,z=>{const se=k.current,Y=z.target;if(Y.hasPointerCapture(z.pointerId)&&Y.releasePointerCapture(z.pointerId),k.current=null,E.current=null,se){const X=z.currentTarget,O={originalEvent:z,delta:se};Lb(se,g.swipeDirection,g.swipeThreshold)?rh(uF,m,O,{discrete:!0}):rh(cF,f,O,{discrete:!0}),X.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),pF=t=>{const{__scopeToast:e,children:n,...r}=t,s=Np(Mp,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return yF(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Rp,{asChild:!0,children:u.jsx(td,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},mF="ToastTitle",_k=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(xe.div,{...r,ref:e})});_k.displayName=mF;var gF="ToastDescription",bk=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(xe.div,{...r,ref:e})});bk.displayName=gF;var Tk="ToastAction",Ek=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Ck,{altText:n,asChild:!0,children:u.jsx(xw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tk}\`. Expected non-empty \`string\`.`),null)});Ek.displayName=Tk;var Sk="ToastClose",xw=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hF(Sk,n);return u.jsx(Ck,{asChild:!0,children:u.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});xw.displayName=Sk;var Ck=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ik(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ik(r))}}),e}function rh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?yw(s,i):s.dispatchEvent(i)}var Lb=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yF(t=()=>{}){const e=Ft(t);At(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vF(t){return t.nodeType===t.ELEMENT_NODE}function wF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _g(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xF=gk,Pk=vk,kk=xk,Ak=_k,Rk=bk,Nk=Ek,Mk=xw;function Dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Dk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Dk(t))&&(r&&(r+=" "),r+=e);return r}const Fb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ub=jk,Dp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ub(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],p=i==null?void 0:i[c];if(h===null)return null;const f=Fb(h)||Fb(p);return s[c][f]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,f]=h;return f===void 0||(c[p]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:f,...m}=h;return Object.entries(m).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...c,p,f]:c},[]);return Ub(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ok=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...bF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ok("lucide",s),...a},[...o.map(([c,h])=>v.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(TF,{ref:i,iconNode:e,className:Ok(`lucide-${_F(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ue("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ue("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ue("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ue("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Sw="-",UF=t=>{const e=$F(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Sw);return a[0]===""&&a.length!==1&&a.shift(),Hk(a,e)||BF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Hk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Hk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},qb=/^\[(.+)\]$/,BF=t=>{if(qb.test(t)){const e=qb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$F=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return WF(Object.entries(t.classGroups),n).forEach(([i,o])=>{cv(o,r,i,e)}),r},cv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Gb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(zF(s)){cv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{cv(o,Gb(e,i),n,r)})})},Gb=(t,e)=>{let n=t;return e.split(Sw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zF=t=>t.isThemeGetter,WF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,HF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},qk="!",qF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,p;for(let b=0;b<a.length;b++){let _=a[b];if(c===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(h,b)),h=b+i;continue}if(_==="/"){p=b;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(h),m=f.startsWith(qk),w=m?f.substring(1):f,g=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},GF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},KF=t=>({cache:HF(t.cacheSize),parseClassName:qF(t),...UF(t)}),YF=/\s+/,QF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(YF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,g=r(w?f.substring(0,m):f);if(!g){if(!w){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=GF(h).join(":"),_=p?b+qk:b,x=_+g;if(i.includes(x))continue;i.push(x);const E=s(g,w);for(let k=0;k<E.length;++k){const R=E[k];i.push(_+R)}a=c+(a.length>0?" "+a:a)}return a};function XF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Gk(e))&&(r&&(r+=" "),r+=n);return r}const Gk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Gk(t[r]))&&(n&&(n+=" "),n+=e);return n};function JF(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,p)=>p(h),t());return n=KF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=QF(l,n);return s(l,h),h}return function(){return i(XF.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Kk=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZF=/^\d+\/\d+$/,e5=new Set(["px","full","screen"]),t5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>Ba(t)||e5.has(t)||ZF.test(t),Us=t=>Il(t,"length",f5),Ba=t=>!!t&&!Number.isNaN(Number(t)),bg=t=>Il(t,"number",Ba),vc=t=>!!t&&Number.isInteger(Number(t)),o5=t=>t.endsWith("%")&&Ba(t.slice(0,-1)),me=t=>Kk.test(t),Bs=t=>t5.test(t),a5=new Set(["length","size","percentage"]),l5=t=>Il(t,a5,Yk),c5=t=>Il(t,"position",Yk),u5=new Set(["image","url"]),d5=t=>Il(t,u5,m5),h5=t=>Il(t,"",p5),wc=()=>!0,Il=(t,e,n)=>{const r=Kk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},f5=t=>n5.test(t)&&!r5.test(t),Yk=()=>!1,p5=t=>s5.test(t),m5=t=>i5.test(t),g5=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),c=Ke("grayscale"),h=Ke("hueRotate"),p=Ke("invert"),f=Ke("gap"),m=Ke("gradientColorStops"),w=Ke("gradientColorStopPositions"),g=Ke("inset"),b=Ke("margin"),_=Ke("opacity"),x=Ke("padding"),E=Ke("saturate"),k=Ke("scale"),R=Ke("sepia"),j=Ke("skew"),C=Ke("space"),S=Ke("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",me,e],D=()=>[me,e],N=()=>["",is,Us],z=()=>["auto",Ba,me],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",me],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ba,me];return{cacheSize:500,separator:":",theme:{colors:[wc],spacing:[is,Us],blur:["none","",Bs,me],brightness:H(),borderColor:[t],borderRadius:["none","","full",Bs,me],borderSpacing:D(),borderWidth:N(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[o5,Us],inset:M(),margin:M(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),me]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vc,me]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",vc,me]}],"grid-cols":[{"grid-cols":[wc]}],"col-start-end":[{col:["auto",{span:["full",vc,me]},me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[wc]}],"row-start-end":[{row:["auto",{span:[vc,me]},me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bg]}],"font-family":[{font:[wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Ba,bg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Us]}],"underline-offset":[{"underline-offset":["auto",is,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),c5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[is,me]}],"outline-w":[{outline:[is,Us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[is,Us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,h5]}],"shadow-color":[{shadow:[wc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[vc,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[is,Us,bg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y5=JF(g5);function le(...t){return y5(jk(t))}const v5=xF,Qk=v.forwardRef(({className:t,...e},n)=>u.jsx(Pk,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Qk.displayName=Pk.displayName;const w5=Dp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xk=v.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(kk,{ref:r,className:le(w5({variant:e}),t),...n}));Xk.displayName=kk.displayName;const x5=v.forwardRef(({className:t,...e},n)=>u.jsx(Nk,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));x5.displayName=Nk.displayName;const Jk=v.forwardRef(({className:t,...e},n)=>u.jsx(Mk,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Ew,{className:"h-4 w-4"})}));Jk.displayName=Mk.displayName;const Zk=v.forwardRef(({className:t,...e},n)=>u.jsx(Ak,{ref:n,className:le("text-sm font-semibold",t),...e}));Zk.displayName=Ak.displayName;const eA=v.forwardRef(({className:t,...e},n)=>u.jsx(Rk,{ref:n,className:le("text-sm opacity-90",t),...e}));eA.displayName=Rk.displayName;function _5(){const{toasts:t}=uk();return u.jsxs(v5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Xk,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Zk,{children:n}),r&&u.jsx(eA,{children:r})]}),s,u.jsx(Jk,{})]},e)}),u.jsx(Qk,{})]})}var b5=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function h(m){(Array.isArray(t)?t:[t]).forEach(w=>{let g=w==="class",b=g&&i?s.map(_=>i[_]||_):s;g?(l.classList.remove(...b),l.classList.add(i&&i[m]?i[m]:m)):l.setAttribute(w,m)}),p(m)}function p(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let m=localStorage.getItem(e)||n,w=o&&m==="system"?f():m;h(w)}catch{}},T5=v.createContext(void 0),E5={setTheme:t=>{},themes:[]},S5=()=>{var t;return(t=v.useContext(T5))!=null?t:E5};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let h=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return v.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${b5.toString()})(${h})`}})});var C5=t=>{switch(t){case"success":return k5;case"info":return R5;case"warning":return A5;case"error":return N5;default:return null}},I5=Array(12).fill(0),P5=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},I5.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),k5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),A5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M5=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},uv=1,D5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:uv++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(O5(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||uv++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Cn=new D5,j5=(t,e)=>{let n=(e==null?void 0:e.id)||uv++;return Cn.addToast({title:t,...e,id:n}),n},O5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",V5=j5,L5=()=>Cn.toasts;Object.assign(V5,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:L5});function F5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}F5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sh(t){return t.label!==void 0}var U5=3,B5="32px",$5=4e3,z5=356,W5=14,H5=20,q5=200;function G5(...t){return t.filter(Boolean).join(" ")}var K5=t=>{var e,n,r,s,i,o,a,l,c,h;let{invert:p,toast:f,unstyled:m,interacting:w,setHeights:g,visibleToasts:b,heights:_,index:x,toasts:E,expanded:k,removeToast:R,defaultRichColors:j,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:A,className:M="",descriptionClassName:D="",duration:N,position:z,gap:se,loadingIcon:Y,expandByDefault:X,classNames:O,icons:L,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:H,cn:J}=t,[re,be]=q.useState(!1),[ze,pe]=q.useState(!1),[ne,Te]=q.useState(!1),[Pe,ye]=q.useState(!1),[Ie,Ee]=q.useState(0),[bt,Rt]=q.useState(0),Fn=q.useRef(null),rn=q.useRef(null),es=x===0,Kl=x+1<=b,mt=f.type,Cr=f.dismissible!==!1,_d=f.className||"",Rm=f.descriptionClassName||"",Ms=q.useMemo(()=>_.findIndex(de=>de.toastId===f.id)||0,[_,f.id]),Yl=q.useMemo(()=>{var de;return(de=f.closeButton)!=null?de:C},[f.closeButton,C]),Ql=q.useMemo(()=>f.duration||N||$5,[f.duration,N]),gt=q.useRef(0),it=q.useRef(0),Xi=q.useRef(0),ts=q.useRef(null),[Xl,Nm]=z.split("-"),Ds=q.useMemo(()=>_.reduce((de,Be,Le)=>Le>=Ms?de:de+Be.height,0),[_,Ms]),Jl=M5(),bd=f.invert||p,Ji=mt==="loading";it.current=q.useMemo(()=>Ms*se+Ds,[Ms,Ds]),q.useEffect(()=>{be(!0)},[]),q.useLayoutEffect(()=>{if(!re)return;let de=rn.current,Be=de.style.height;de.style.height="auto";let Le=de.getBoundingClientRect().height;de.style.height=Be,Rt(Le),g(Bt=>Bt.find(pn=>pn.toastId===f.id)?Bt.map(pn=>pn.toastId===f.id?{...pn,height:Le}:pn):[{toastId:f.id,height:Le,position:f.position},...Bt])},[re,f.title,f.description,g,f.id]);let Ir=q.useCallback(()=>{pe(!0),Ee(it.current),g(de=>de.filter(Be=>Be.toastId!==f.id)),setTimeout(()=>{R(f)},q5)},[f,R,g,it]);q.useEffect(()=>{if(f.promise&&mt==="loading"||f.duration===1/0||f.type==="loading")return;let de,Be=Ql;return k||w||H&&Jl?(()=>{if(Xi.current<gt.current){let Le=new Date().getTime()-gt.current;Be=Be-Le}Xi.current=new Date().getTime()})():Be!==1/0&&(gt.current=new Date().getTime(),de=setTimeout(()=>{var Le;(Le=f.onAutoClose)==null||Le.call(f,f),Ir()},Be)),()=>clearTimeout(de)},[k,w,X,f,Ql,Ir,f.promise,mt,H,Jl]),q.useEffect(()=>{let de=rn.current;if(de){let Be=de.getBoundingClientRect().height;return Rt(Be),g(Le=>[{toastId:f.id,height:Be,position:f.position},...Le]),()=>g(Le=>Le.filter(Bt=>Bt.toastId!==f.id))}},[g,f.id]),q.useEffect(()=>{f.delete&&Ir()},[Ir,f.delete]);function Mm(){return L!=null&&L.loading?q.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},L.loading):Y?q.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},Y):q.createElement(P5,{visible:mt==="loading"})}return q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rn,className:J(M,_d,O==null?void 0:O.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[mt],(n=f==null?void 0:f.classNames)==null?void 0:n[mt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:j,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":re,"data-promise":!!f.promise,"data-removed":ze,"data-visible":Kl,"data-y-position":Xl,"data-x-position":Nm,"data-index":x,"data-front":es,"data-swiping":ne,"data-dismissible":Cr,"data-type":mt,"data-invert":bd,"data-swipe-out":Pe,"data-expanded":!!(k||X&&re),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${ze?Ie:it.current}px`,"--initial-height":X?"auto":`${bt}px`,...S,...f.style},onPointerDown:de=>{Ji||!Cr||(Fn.current=new Date,Ee(it.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(Te(!0),ts.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Be,Le,Bt;if(Pe||!Cr)return;ts.current=null;let pn=Number(((de=rn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),js=new Date().getTime()-((Be=Fn.current)==null?void 0:Be.getTime()),ns=Math.abs(pn)/js;if(Math.abs(pn)>=H5||ns>.11){Ee(it.current),(Le=f.onDismiss)==null||Le.call(f,f),Ir(),ye(!0);return}(Bt=rn.current)==null||Bt.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:de=>{var Be;if(!ts.current||!Cr)return;let Le=de.clientY-ts.current.y,Bt=de.clientX-ts.current.x,pn=(Xl==="top"?Math.min:Math.max)(0,Le),js=de.pointerType==="touch"?10:2;Math.abs(pn)>js?(Be=rn.current)==null||Be.style.setProperty("--swipe-amount",`${Le}px`):Math.abs(Bt)>js&&(ts.current=null)}},Yl&&!f.jsx?q.createElement("button",{"aria-label":G,"data-disabled":Ji,"data-close-button":!0,onClick:Ji||!Cr?()=>{}:()=>{var de;Ir(),(de=f.onDismiss)==null||de.call(f,f)},className:J(O==null?void 0:O.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||q.isValidElement(f.title)?f.jsx||f.title:q.createElement(q.Fragment,null,mt||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:J(O==null?void 0:O.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mm():null,f.type!=="loading"?f.icon||(L==null?void 0:L[mt])||C5(mt):null):null,q.createElement("div",{"data-content":"",className:J(O==null?void 0:O.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:J(O==null?void 0:O.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?q.createElement("div",{"data-description":"",className:J(D,Rm,O==null?void 0:O.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&sh(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:de=>{var Be,Le;sh(f.cancel)&&Cr&&((Le=(Be=f.cancel).onClick)==null||Le.call(Be,de),Ir())},className:J(O==null?void 0:O.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&sh(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:de=>{var Be,Le;sh(f.action)&&(de.defaultPrevented||((Le=(Be=f.action).onClick)==null||Le.call(Be,de),Ir()))},className:J(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Kb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Y5=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:p,visibleToasts:f=U5,toastOptions:m,dir:w=Kb(),gap:g=W5,loadingIcon:b,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:E,cn:k=G5}=t,[R,j]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([n].concat(R.filter(H=>H.position).map(H=>H.position)))),[R,n]),[S,I]=q.useState([]),[A,M]=q.useState(!1),[D,N]=q.useState(!1),[z,se]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=q.useRef(null),X=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=q.useRef(null),L=q.useRef(!1),G=q.useCallback(H=>{var J;(J=R.find(re=>re.id===H.id))!=null&&J.delete||Cn.dismiss(H.id),j(re=>re.filter(({id:be})=>be!==H.id))},[R]);return q.useEffect(()=>Cn.subscribe(H=>{if(H.dismiss){j(J=>J.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{lk.flushSync(()=>{j(J=>{let re=J.findIndex(be=>be.id===H.id);return re!==-1?[...J.slice(0,re),{...J[re],...H},...J.slice(re+1)]:[H,...J]})})})}),[]),q.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{se(H?"dark":"light")})},[l]),q.useEffect(()=>{R.length<=1&&M(!1)},[R]),q.useEffect(()=>{let H=J=>{var re,be;r.every(ze=>J[ze]||J.code===ze)&&(M(!0),(re=Y.current)==null||re.focus()),J.code==="Escape"&&(document.activeElement===Y.current||(be=Y.current)!=null&&be.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),q.useEffect(()=>{if(Y.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[Y.current]),R.length?q.createElement("section",{"aria-label":`${x} ${X}`,tabIndex:-1},C.map((H,J)=>{var re;let[be,ze]=H.split("-");return q.createElement("ol",{key:H,dir:w==="auto"?Kb():w,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":be,"data-x-position":ze,style:{"--front-toast-height":`${((re=S[0])==null?void 0:re.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||B5,"--width":`${z5}px`,"--gap":`${g}px`,...p},onBlur:pe=>{L.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=pe.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},R.filter(pe=>!pe.position&&J===0||pe.position===H).map((pe,ne)=>{var Te,Pe;return q.createElement(K5,{key:pe.id,icons:_,index:ne,toast:pe,defaultRichColors:c,duration:(Te=m==null?void 0:m.duration)!=null?Te:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Pe=m==null?void 0:m.closeButton)!=null?Pe:i,interacting:D,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:G,toasts:R.filter(ye=>ye.position==pe.position),heights:S.filter(ye=>ye.position==pe.position),setHeights:I,expandByDefault:s,gap:g,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:E,cn:k})}))})):null};const Q5=({...t})=>{const{theme:e="system"}=S5();return u.jsx(Y5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var X5=iI.useId||(()=>{}),J5=0;function dl(t){const[e,n]=v.useState(X5());return At(()=>{n(r=>r??String(J5++))},[t]),e?`radix-${e}`:""}const Z5=["top","right","bottom","left"],Pi=Math.min,Pn=Math.max,If=Math.round,ih=Math.floor,ki=t=>({x:t,y:t}),e3={left:"right",right:"left",bottom:"top",top:"bottom"},t3={start:"end",end:"start"};function dv(t,e,n){return Pn(t,Pi(e,n))}function _s(t,e){return typeof t=="function"?t(e):t}function bs(t){return t.split("-")[0]}function Pl(t){return t.split("-")[1]}function Cw(t){return t==="x"?"y":"x"}function Iw(t){return t==="y"?"height":"width"}function Ai(t){return["top","bottom"].includes(bs(t))?"y":"x"}function Pw(t){return Cw(Ai(t))}function n3(t,e,n){n===void 0&&(n=!1);const r=Pl(t),s=Pw(t),i=Iw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Pf(o)),[o,Pf(o)]}function r3(t){const e=Pf(t);return[hv(t),e,hv(e)]}function hv(t){return t.replace(/start|end/g,e=>t3[e])}function s3(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function i3(t,e,n,r){const s=Pl(t);let i=s3(bs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(hv)))),i}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>e3[e])}function o3(t){return{top:0,right:0,bottom:0,left:0,...t}}function tA(t){return typeof t!="number"?o3(t):{top:t,right:t,bottom:t,left:t}}function kf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Yb(t,e,n){let{reference:r,floating:s}=t;const i=Ai(e),o=Pw(e),a=Iw(o),l=bs(e),c=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(Pl(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const a3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=Yb(c,r,l),f=r,m={},w=0;for(let g=0;g<a.length;g++){const{name:b,fn:_}=a[g],{x,y:E,data:k,reset:R}=await _({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=x??h,p=E??p,m={...m,[b]:{...m[b],...k}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:h,y:p}=Yb(c,f,l)),g=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:m}};async function Tu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=_s(e,t),w=tA(m),b=a[f?p==="floating"?"reference":"floating":p],_=kf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),x=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},R=kf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(_.top-R.top+w.top)/k.y,bottom:(R.bottom-_.bottom+w.bottom)/k.y,left:(_.left-R.left+w.left)/k.x,right:(R.right-_.right+w.right)/k.x}}const l3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=_s(t,e)||{};if(c==null)return{};const p=tA(h),f={x:n,y:r},m=Pw(s),w=Iw(m),g=await o.getDimensions(c),b=m==="y",_=b?"top":"left",x=b?"bottom":"right",E=b?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[m]-f[m]-i.floating[w],R=f[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=j?j[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[E]||i.floating[w]);const S=k/2-R/2,I=C/2-g[w]/2-1,A=Pi(p[_],I),M=Pi(p[x],I),D=A,N=C-g[w]-M,z=C/2-g[w]/2+S,se=dv(D,z,N),Y=!l.arrow&&Pl(s)!=null&&z!==se&&i.reference[w]/2-(z<D?A:M)-g[w]/2<0,X=Y?z<D?z-D:z-N:0;return{[m]:f[m]+X,data:{[m]:se,centerOffset:z-se-X,...Y&&{alignmentOffset:X}},reset:Y}}}),c3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=_s(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=bs(s),x=Ai(a),E=bs(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=f||(E||!g?[Pf(a)]:r3(a)),j=w!=="none";!f&&j&&R.push(...i3(a,g,w,k));const C=[a,...R],S=await Tu(e,b),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[_]),p){const z=n3(s,o,k);I.push(S[z[0]],S[z[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(z=>z<=0)){var M,D;const z=(((M=i.flip)==null?void 0:M.index)||0)+1,se=C[z];if(se)return{data:{index:z,overflows:A},reset:{placement:se}};let Y=(D=A.filter(X=>X.overflows[0]<=0).sort((X,O)=>X.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(m){case"bestFit":{var N;const X=(N=A.filter(O=>{if(j){const L=Ai(O.placement);return L===x||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:N[0];X&&(Y=X);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Qb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xb(t){return Z5.some(e=>t[e]>=0)}const u3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_s(t,e);switch(r){case"referenceHidden":{const i=await Tu(e,{...s,elementContext:"reference"}),o=Qb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Xb(o)}}}case"escaped":{const i=await Tu(e,{...s,altBoundary:!0}),o=Qb(i,n.floating);return{data:{escapedOffsets:o,escaped:Xb(o)}}}default:return{}}}}};async function d3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=bs(n),a=Pl(n),l=Ai(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=_s(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*h,y:f*c}:{x:f*c,y:m*h}}const h3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await d3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},f3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:x}=b;return{x:_,y:x}}},...l}=_s(t,e),c={x:n,y:r},h=await Tu(e,l),p=Ai(bs(s)),f=Cw(p);let m=c[f],w=c[p];if(i){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=m+h[b],E=m-h[_];m=dv(x,m,E)}if(o){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",x=w+h[b],E=w-h[_];w=dv(x,w,E)}const g=a.fn({...e,[f]:m,[p]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[p]:o}}}}}},p3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_s(t,e),h={x:n,y:r},p=Ai(s),f=Cw(p);let m=h[f],w=h[p];const g=_s(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=f==="y"?"height":"width",k=i.reference[f]-i.floating[E]+b.mainAxis,R=i.reference[f]+i.reference[E]-b.mainAxis;m<k?m=k:m>R&&(m=R)}if(c){var _,x;const E=f==="y"?"width":"height",k=["top","left"].includes(bs(s)),R=i.reference[p]-i.floating[E]+(k&&((_=o.offset)==null?void 0:_[p])||0)+(k?0:b.crossAxis),j=i.reference[p]+i.reference[E]+(k?0:((x=o.offset)==null?void 0:x[p])||0)-(k?b.crossAxis:0);w<R?w=R:w>j&&(w=j)}return{[f]:m,[p]:w}}}},m3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=_s(t,e),h=await Tu(e,c),p=bs(s),f=Pl(s),m=Ai(s)==="y",{width:w,height:g}=i.floating;let b,_;p==="top"||p==="bottom"?(b=p,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,b=f==="end"?"top":"bottom");const x=g-h.top-h.bottom,E=w-h.left-h.right,k=Pi(g-h[b],x),R=Pi(w-h[_],E),j=!e.middlewareData.shift;let C=k,S=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),j&&!f){const A=Pn(h.left,0),M=Pn(h.right,0),D=Pn(h.top,0),N=Pn(h.bottom,0);m?S=w-2*(A!==0||M!==0?A+M:Pn(h.left,h.right)):C=g-2*(D!==0||N!==0?D+N:Pn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return w!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Vp(){return typeof window<"u"}function kl(t){return nA(t)?(t.nodeName||"").toLowerCase():"#document"}function Dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(nA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nA(t){return Vp()?t instanceof Node||t instanceof Dn(t).Node:!1}function vr(t){return Vp()?t instanceof Element||t instanceof Dn(t).Element:!1}function Gr(t){return Vp()?t instanceof HTMLElement||t instanceof Dn(t).HTMLElement:!1}function Jb(t){return!Vp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dn(t).ShadowRoot}function nd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function g3(t){return["table","td","th"].includes(kl(t))}function Lp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kw(t){const e=Aw(),n=vr(t)?wr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y3(t){let e=Ri(t);for(;Gr(e)&&!hl(e);){if(kw(e))return e;if(Lp(e))return null;e=Ri(e)}return null}function Aw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hl(t){return["html","body","#document"].includes(kl(t))}function wr(t){return Dn(t).getComputedStyle(t)}function Fp(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ri(t){if(kl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jb(t)&&t.host||Zr(t);return Jb(e)?e.host:e}function rA(t){const e=Ri(t);return hl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&nd(e)?e:rA(e)}function Eu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dn(s);if(i){const a=fv(o);return e.concat(o,o.visualViewport||[],nd(s)?s:[],a&&n?Eu(a):[])}return e.concat(s,Eu(s,[],n))}function fv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sA(t){const e=wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=If(n)!==i||If(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Rw(t){return vr(t)?t:t.contextElement}function $a(t){const e=Rw(t);if(!Gr(e))return ki(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=sA(e);let o=(i?If(n.width):n.width)/r,a=(i?If(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const v3=ki(0);function iA(t){const e=Dn(t);return!Aw()||!e.visualViewport?v3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dn(t)?!1:e}function Oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Rw(t);let o=ki(1);e&&(r?vr(r)&&(o=$a(r)):o=$a(t));const a=w3(i,n,r)?iA(i):ki(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=Dn(i),m=r&&vr(r)?Dn(r):r;let w=f,g=fv(w);for(;g&&r&&m!==w;){const b=$a(g),_=g.getBoundingClientRect(),x=wr(g),E=_.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,k=_.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,h*=b.x,p*=b.y,l+=E,c+=k,w=Dn(g),g=fv(w)}}return kf({width:h,height:p,x:l,y:c})}function x3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zr(r),a=e?Lp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ki(1);const h=ki(0),p=Gr(r);if((p||!p&&!i)&&((kl(r)!=="body"||nd(o))&&(l=Fp(r)),Gr(r))){const f=Oo(r);c=$a(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function _3(t){return Array.from(t.getClientRects())}function pv(t,e){const n=Fp(t).scrollLeft;return e?e.left+n:Oo(Zr(t)).left+n}function b3(t){const e=Zr(t),n=Fp(t),r=t.ownerDocument.body,s=Pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pv(t);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=Pn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function T3(t,e){const n=Dn(t),r=Zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Aw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function E3(t,e){const n=Oo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Gr(t)?$a(t):ki(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Zb(t,e,n){let r;if(e==="viewport")r=T3(t,n);else if(e==="document")r=b3(Zr(t));else if(vr(e))r=E3(e,n);else{const s=iA(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return kf(r)}function oA(t,e){const n=Ri(t);return n===e||!vr(n)||hl(n)?!1:wr(n).position==="fixed"||oA(n,e)}function S3(t,e){const n=e.get(t);if(n)return n;let r=Eu(t,[],!1).filter(a=>vr(a)&&kl(a)!=="body"),s=null;const i=wr(t).position==="fixed";let o=i?Ri(t):t;for(;vr(o)&&!hl(o);){const a=wr(o),l=kw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||nd(o)&&!l&&oA(t,o))?r=r.filter(h=>h!==o):s=a,o=Ri(o)}return e.set(t,r),r}function C3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Lp(e)?[]:S3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const p=Zb(e,h,s);return c.top=Pn(p.top,c.top),c.right=Pi(p.right,c.right),c.bottom=Pi(p.bottom,c.bottom),c.left=Pn(p.left,c.left),c},Zb(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I3(t){const{width:e,height:n}=sA(t);return{width:e,height:n}}function P3(t,e,n){const r=Gr(e),s=Zr(e),i=n==="fixed",o=Oo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ki(0);if(r||!r&&!i)if((kl(e)!=="body"||nd(s))&&(a=Fp(e)),r){const m=Oo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=pv(s));let c=0,h=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();h=m.top+a.scrollTop,c=m.left+a.scrollLeft-pv(s,m)}const p=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Tg(t){return wr(t).position==="static"}function eT(t,e){if(!Gr(t)||wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function aA(t,e){const n=Dn(t);if(Lp(t))return n;if(!Gr(t)){let s=Ri(t);for(;s&&!hl(s);){if(vr(s)&&!Tg(s))return s;s=Ri(s)}return n}let r=eT(t,e);for(;r&&g3(r)&&Tg(r);)r=eT(r,e);return r&&hl(r)&&Tg(r)&&!kw(r)?n:r||y3(t)||n}const k3=async function(t){const e=this.getOffsetParent||aA,n=this.getDimensions,r=await n(t.floating);return{reference:P3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A3(t){return wr(t).direction==="rtl"}const R3={convertOffsetParentRelativeRectToViewportRelativeRect:x3,getDocumentElement:Zr,getClippingRect:C3,getOffsetParent:aA,getElementRects:k3,getClientRects:_3,getDimensions:I3,getScale:$a,isElement:vr,isRTL:A3};function N3(t,e){let n=null,r;const s=Zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const m=ih(h),w=ih(s.clientWidth-(c+p)),g=ih(s.clientHeight-(h+f)),b=ih(c),x={rootMargin:-m+"px "+-w+"px "+-g+"px "+-b+"px",threshold:Pn(0,Pi(1,l))||1};let E=!0;function k(R){const j=R[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return o(!0),i}function M3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rw(t),h=s||i?[...c?Eu(c):[],...Eu(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const p=c&&a?N3(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[x]=_;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,g=l?Oo(t):null;l&&b();function b(){const _=Oo(t);g&&(_.x!==g.x||_.y!==g.y||_.width!==g.width||_.height!==g.height)&&n(),g=_,w=requestAnimationFrame(b)}return n(),()=>{var _;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const D3=h3,j3=f3,O3=c3,V3=m3,L3=u3,tT=l3,F3=p3,U3=(t,e,n)=>{const r=new Map,s={platform:R3,...n},i={...s.platform,_c:r};return a3(t,e,{...s,platform:i})};var jh=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Af(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Af(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Af(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function lA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nT(t,e){const n=lA(t);return Math.round(e*n)/n}function Eg(t){const e=v.useRef(t);return jh(()=>{e.current=t}),e}function B3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Af(f,r)||m(r);const[w,g]=v.useState(null),[b,_]=v.useState(null),x=v.useCallback(O=>{O!==j.current&&(j.current=O,g(O))},[]),E=v.useCallback(O=>{O!==C.current&&(C.current=O,_(O))},[]),k=i||w,R=o||b,j=v.useRef(null),C=v.useRef(null),S=v.useRef(h),I=l!=null,A=Eg(l),M=Eg(s),D=Eg(c),N=v.useCallback(()=>{if(!j.current||!C.current)return;const O={placement:e,strategy:n,middleware:f};M.current&&(O.platform=M.current),U3(j.current,C.current,O).then(L=>{const G={...L,isPositioned:D.current!==!1};z.current&&!Af(S.current,G)&&(S.current=G,Ho.flushSync(()=>{p(G)}))})},[f,e,n,M,D]);jh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[c]);const z=v.useRef(!1);jh(()=>(z.current=!0,()=>{z.current=!1}),[]),jh(()=>{if(k&&(j.current=k),R&&(C.current=R),k&&R){if(A.current)return A.current(k,R,N);N()}},[k,R,N,A,I]);const se=v.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:E}),[x,E]),Y=v.useMemo(()=>({reference:k,floating:R}),[k,R]),X=v.useMemo(()=>{const O={position:n,left:0,top:0};if(!Y.floating)return O;const L=nT(Y.floating,h.x),G=nT(Y.floating,h.y);return a?{...O,transform:"translate("+L+"px, "+G+"px)",...lA(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,a,Y.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:N,refs:se,elements:Y,floatingStyles:X}),[h,N,se,Y,X])}const $3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?tT({element:r.current,padding:s}).fn(n):{}:r?tT({element:r,padding:s}).fn(n):{}}}},z3=(t,e)=>({...D3(t),options:[t,e]}),W3=(t,e)=>({...j3(t),options:[t,e]}),H3=(t,e)=>({...F3(t),options:[t,e]}),q3=(t,e)=>({...O3(t),options:[t,e]}),G3=(t,e)=>({...V3(t),options:[t,e]}),K3=(t,e)=>({...L3(t),options:[t,e]}),Y3=(t,e)=>({...$3(t),options:[t,e]});var Q3="Arrow",cA=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});cA.displayName=Q3;var X3=cA;function J3(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:m,...w}=p,g=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:b,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Z3(s,...e)]}function Z3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function e6(t){const[e,n]=v.useState(void 0);return At(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Nw="Popper",[uA,Al]=J3(Nw),[t6,dA]=uA(Nw),hA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return u.jsx(t6,{scope:e,anchor:r,onAnchorChange:s,children:n})};hA.displayName=Nw;var fA="PopperAnchor",pA=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=dA(fA,n),o=v.useRef(null),a=$e(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(xe.div,{...s,ref:a})});pA.displayName=fA;var Mw="PopperContent",[n6,r6]=uA(Mw),mA=v.forwardRef((t,e)=>{var ne,Te,Pe,ye,Ie,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=t,b=dA(Mw,n),[_,x]=v.useState(null),E=$e(e,bt=>x(bt)),[k,R]=v.useState(null),j=e6(k),C=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(c)?c:[c],D=M.length>0,N={padding:A,boundary:M.filter(i6),altBoundary:D},{refs:z,floatingStyles:se,placement:Y,isPositioned:X,middlewareData:O}=B3({strategy:"fixed",placement:I,whileElementsMounted:(...bt)=>M3(...bt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[z3({mainAxis:s+S,alignmentAxis:o}),l&&W3({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?H3():void 0,...N}),l&&q3({...N}),G3({...N,apply:({elements:bt,rects:Rt,availableWidth:Fn,availableHeight:rn})=>{const{width:es,height:Kl}=Rt.reference,mt=bt.floating.style;mt.setProperty("--radix-popper-available-width",`${Fn}px`),mt.setProperty("--radix-popper-available-height",`${rn}px`),mt.setProperty("--radix-popper-anchor-width",`${es}px`),mt.setProperty("--radix-popper-anchor-height",`${Kl}px`)}}),k&&Y3({element:k,padding:a}),o6({arrowWidth:C,arrowHeight:S}),f&&K3({strategy:"referenceHidden",...N})]}),[L,G]=vA(Y),H=Ft(w);At(()=>{X&&(H==null||H())},[X,H]);const J=(ne=O.arrow)==null?void 0:ne.x,re=(Te=O.arrow)==null?void 0:Te.y,be=((Pe=O.arrow)==null?void 0:Pe.centerOffset)!==0,[ze,pe]=v.useState();return At(()=>{_&&pe(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:X?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(ye=O.transformOrigin)==null?void 0:ye.x,(Ie=O.transformOrigin)==null?void 0:Ie.y].join(" "),...((Ee=O.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(n6,{scope:n,placedSide:L,onArrowChange:R,arrowX:J,arrowY:re,shouldHideArrow:be,children:u.jsx(xe.div,{"data-side":L,"data-align":G,...g,ref:E,style:{...g.style,animation:X?void 0:"none"}})})})});mA.displayName=Mw;var gA="PopperArrow",s6={top:"bottom",right:"left",bottom:"top",left:"right"},yA=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=r6(gA,r),o=s6[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(X3,{...s,ref:n,style:{...s.style,display:"block"}})})});yA.displayName=gA;function i6(t){return t!==null}var o6=t=>({name:"transformOrigin",options:t,fn(e){var b,_,x;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=vA(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=o?p:`${f}px`,g=`${-l}px`):c==="top"?(w=o?p:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=o?p:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=o?p:`${m}px`),{data:{x:w,y:g}}}});function vA(t){const[e,n="center"]=t.split("-");return[e,n]}var wA=hA,Dw=pA,jw=mA,Ow=yA,[Up,Yte]=Cl("Tooltip",[Al]),Vw=Al(),xA="TooltipProvider",a6=700,rT="tooltip.open",[l6,_A]=Up(xA),bA=t=>{const{__scopeTooltip:e,delayDuration:n=a6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),u.jsx(l6,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};bA.displayName=xA;var TA="Tooltip",[Qte,Bp]=Up(TA),mv="TooltipTrigger",c6=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bp(mv,n),i=_A(mv,n),o=Vw(n),a=v.useRef(null),l=$e(e,a,s.onTriggerChange),c=v.useRef(!1),h=v.useRef(!1),p=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(Dw,{asChild:!0,...o,children:u.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});c6.displayName=mv;var u6="TooltipPortal",[Xte,d6]=Up(u6,{forceMount:void 0}),fl="TooltipContent",EA=v.forwardRef((t,e)=>{const n=d6(fl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bp(fl,t.__scopeTooltip);return u.jsx(qo,{present:r||o.open,children:o.disableHoverableContent?u.jsx(SA,{side:s,...i,ref:e}):u.jsx(h6,{side:s,...i,ref:e})})}),h6=v.forwardRef((t,e)=>{const n=Bp(fl,t.__scopeTooltip),r=_A(fl,t.__scopeTooltip),s=v.useRef(null),i=$e(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:p}=r,f=v.useCallback(()=>{a(null),p(!1)},[p]),m=v.useCallback((w,g)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},x=g6(_,b.getBoundingClientRect()),E=y6(_,x),k=v6(g.getBoundingClientRect()),R=x6([...E,...k]);a(R),p(!0)},[p]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&h){const w=b=>m(b,h),g=b=>m(b,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",g)}}},[l,h,m,f]),v.useEffect(()=>{if(o){const w=g=>{const b=g.target,_={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(b))||(h==null?void 0:h.contains(b)),E=!w6(_,o);x?f():E&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,c,f]),u.jsx(SA,{...t,ref:i})}),[f6,p6]=Up(TA,{isInside:!1}),SA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bp(fl,n),c=Vw(n),{onClose:h}=l;return v.useEffect(()=>(document.addEventListener(rT,h),()=>document.removeEventListener(rT,h)),[h]),v.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),u.jsx(ed,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:u.jsxs(jw,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(dk,{children:r}),u.jsx(f6,{scope:n,isInside:!0,children:u.jsx(nF,{id:l.contentId,role:"tooltip",children:s||r})})]})})});EA.displayName=fl;var CA="TooltipArrow",m6=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vw(n);return p6(CA,n).isInside?null:u.jsx(Ow,{...s,...r,ref:e})});m6.displayName=CA;function g6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function y6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function v6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function w6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function x6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_6(e)}function _6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var b6=bA,IA=EA;const T6=b6,E6=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(IA,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));E6.displayName=IA.displayName;var $p=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zp=typeof window>"u"||"Deno"in globalThis;function or(){}function S6(t,e){return typeof t=="function"?t(e):t}function C6(t){return typeof t=="number"&&t>=0&&t!==1/0}function I6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sT(t,e){return typeof t=="function"?t(e):t}function P6(t,e){return typeof t=="function"?t(e):t}function iT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Lw(o,e.options))return!1}else if(!Cu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function oT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Su(e.options.mutationKey)!==Su(i))return!1}else if(!Cu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Lw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Su)(t)}function Su(t){return JSON.stringify(t,(e,n)=>gv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Cu(t[n],e[n])):!1}function PA(t,e){if(t===e)return t;const n=aT(t)&&aT(e);if(n||gv(t)&&gv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=PA(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function aT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gv(t){if(!lT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lT(t){return Object.prototype.toString.call(t)==="[object Object]"}function k6(t){return new Promise(e=>{setTimeout(e,t)})}function A6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PA(t,e):e}function R6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function N6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Fw=Symbol();function kA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Fw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,ei,Ya,UC,M6=(UC=class extends $p{constructor(){super();Oe(this,yo);Oe(this,ei);Oe(this,Ya);ve(this,Ya,e=>{if(!zp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ei)||this.setEventListener($(this,Ya))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ei))==null||e.call(this),ve(this,ei,void 0))}setEventListener(e){var n;ve(this,Ya,e),(n=$(this,ei))==null||n.call(this),ve(this,ei,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,yo)!==e&&(ve(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,yo)=="boolean"?$(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,ei=new WeakMap,Ya=new WeakMap,UC),AA=new M6,Qa,ti,Xa,BC,D6=(BC=class extends $p{constructor(){super();Oe(this,Qa,!0);Oe(this,ti);Oe(this,Xa);ve(this,Xa,e=>{if(!zp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,ti)||this.setEventListener($(this,Xa))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ti))==null||e.call(this),ve(this,ti,void 0))}setEventListener(e){var n;ve(this,Xa,e),(n=$(this,ti))==null||n.call(this),ve(this,ti,e(this.setOnline.bind(this)))}setOnline(e){$(this,Qa)!==e&&(ve(this,Qa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Qa)}},Qa=new WeakMap,ti=new WeakMap,Xa=new WeakMap,BC),Rf=new D6;function j6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function O6(t){return Math.min(1e3*2**t,3e4)}function RA(t){return(t??"online")==="online"?Rf.isOnline():!0}var NA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Sg(t){return t instanceof NA}function MA(t){let e=!1,n=0,r=!1,s;const i=j6(),o=g=>{var b;r||(f(new NA(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>AA.isFocused()&&(t.networkMode==="always"||Rf.isOnline())&&t.canRun(),h=()=>RA(t.networkMode)&&t.canRun(),p=g=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var b;s=_=>{(r||c())&&g(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(p).catch(_=>{var j;if(r)return;const x=t.retry??(zp?0:3),E=t.retryDelay??O6,k=typeof E=="function"?E(n,_):E,R=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,_);if(e||!R){f(_);return}n++,(j=t.onFail)==null||j.call(t,n,_),k6(k).then(()=>c()?void 0:m()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():m().then(w),i)}}function V6(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=V6(),vo,$C,DA=($C=class{constructor(){Oe(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C6(this.gcTime)&&ve(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zp?1/0:5*60*1e3))}clearGcTimeout(){$(this,vo)&&(clearTimeout($(this,vo)),ve(this,vo,void 0))}},vo=new WeakMap,$C),Ja,Za,$n,Kt,Gu,wo,ar,os,zC,L6=(zC=class extends DA{constructor(n){super();Oe(this,ar);Oe(this,Ja);Oe(this,Za);Oe(this,$n);Oe(this,Kt);Oe(this,Gu);Oe(this,wo);ve(this,wo,!1),ve(this,Gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,$n,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,Ja,U6(this.options)),this.state=n.state??$(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Kt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,Gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,$n).remove(this)}setData(n,r){const s=A6(this.state.data,n,this.options);return Wt(this,ar,os).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Wt(this,ar,os).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Kt))==null?void 0:s.promise;return(i=$(this,Kt))==null||i.cancel(n),r?r.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ja))}isActive(){return this.observers.some(n=>P6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!I6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,$n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Kt)&&($(this,wo)?$(this,Kt).cancel({revert:!0}):$(this,Kt).cancelRetry()),this.scheduleGc()),$(this,$n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,ar,os).call(this,{type:"invalidate"})}fetch(n,r){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Kt))return $(this,Kt).continueRetry(),$(this,Kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,wo,!0),s.signal)})},o=()=>{const f=kA(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),ve(this,wo,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ve(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Wt(this,ar,os).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var m,w,g,b;Sg(f)&&f.silent||Wt(this,ar,os).call(this,{type:"error",error:f}),Sg(f)||((w=(m=$(this,$n).config).onError)==null||w.call(m,f,this),(b=(g=$(this,$n).config).onSettled)==null||b.call(g,this.state.data,f,this)),this.scheduleGc()};return ve(this,Kt,MA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,w,g,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){l(_);return}(w=(m=$(this,$n).config).onSuccess)==null||w.call(m,f,this),(b=(g=$(this,$n).config).onSettled)==null||b.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Wt(this,ar,os).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Wt(this,ar,os).call(this,{type:"pause"})},onContinue:()=>{Wt(this,ar,os).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Kt).start()}},Ja=new WeakMap,Za=new WeakMap,$n=new WeakMap,Kt=new WeakMap,Gu=new WeakMap,wo=new WeakMap,ar=new WeakSet,os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...F6(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Sg(i)&&i.revert&&$(this,Za)?{...$(this,Za),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,$n).notify({query:this,type:"updated",action:n})})},zC);function F6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rr,WC,B6=(WC=class extends $p{constructor(e={}){super();Oe(this,Rr);this.config=e,ve(this,Rr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Lw(s,n);let o=this.get(i);return o||(o=new L6({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Rr).has(e.queryHash)||($(this,Rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Rr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Rr).get(e)}getAll(){return[...$(this,Rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>iT(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rr=new WeakMap,WC),Nr,on,xo,Mr,Ws,HC,$6=(HC=class extends DA{constructor(n){super();Oe(this,Mr);Oe(this,Nr);Oe(this,on);Oe(this,xo);this.mutationId=n.mutationId,ve(this,on,n.mutationCache),ve(this,Nr,[]),this.state=n.state||z6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,Nr).includes(n)||($(this,Nr).push(n),this.clearGcTimeout(),$(this,on).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,Nr,$(this,Nr).filter(r=>r!==n)),this.scheduleGc(),$(this,on).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():$(this,on).remove(this))}continue(){var n;return((n=$(this,xo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,p,f,m,w,g,b,_,x,E,k,R,j,C,S;ve(this,xo,MA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Wt(this,Mr,Ws).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Wt(this,Mr,Ws).call(this,{type:"pause"})},onContinue:()=>{Wt(this,Mr,Ws).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,on).canRun(this)}));const r=this.state.status==="pending",s=!$(this,xo).canStart();try{if(!r){Wt(this,Mr,Ws).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,on).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Wt(this,Mr,Ws).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const I=await $(this,xo).start();return await((h=(c=$(this,on).config).onSuccess)==null?void 0:h.call(c,I,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,n,this.state.context)),await((w=(m=$(this,on).config).onSettled)==null?void 0:w.call(m,I,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,I,null,n,this.state.context)),Wt(this,Mr,Ws).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(_=$(this,on).config).onError)==null?void 0:x.call(_,I,n,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,I,n,this.state.context)),await((j=(R=$(this,on).config).onSettled)==null?void 0:j.call(R,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{Wt(this,Mr,Ws).call(this,{type:"error",error:I})}}finally{$(this,on).runNext(this)}}},Nr=new WeakMap,on=new WeakMap,xo=new WeakMap,Mr=new WeakSet,Ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{$(this,Nr).forEach(s=>{s.onMutationUpdate(n)}),$(this,on).notify({mutation:this,type:"updated",action:n})})},HC);function z6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sn,Ku,qC,W6=(qC=class extends $p{constructor(e={}){super();Oe(this,Sn);Oe(this,Ku);this.config=e,ve(this,Sn,new Map),ve(this,Ku,Date.now())}build(e,n,r){const s=new $6({mutationCache:this,mutationId:++Ld(this,Ku)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=oh(e),r=$(this,Sn).get(n)??[];r.push(e),$(this,Sn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=oh(e);if($(this,Sn).has(n)){const s=(r=$(this,Sn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,Sn).delete(n):$(this,Sn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,Sn).get(oh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,Sn).get(oh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,Sn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oT(n,r))}findAll(e={}){return this.getAll().filter(n=>oT(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(or))))}},Sn=new WeakMap,Ku=new WeakMap,qC);function oh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cT(t){return{onFetch:(e,n)=>{var h,p,f,m,w;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=kA(e.options,e.fetchOptions),x=async(E,k,R)=>{if(g)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const j={queryKey:e.queryKey,pageParam:k,direction:R?"backward":"forward",meta:e.options.meta};b(j);const C=await _(j),{maxPages:S}=e.options,I=R?N6:R6;return{pages:I(E.pages,C,S),pageParams:I(E.pageParams,k,S)}};if(s&&i.length){const E=s==="backward",k=E?H6:uT,R={pages:i,pageParams:o},j=k(r,R);a=await x(R,j,E)}else{const E=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:uT(r,a);if(l>0&&k==null)break;a=await x(a,k),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function uT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function H6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var at,ni,ri,el,tl,si,nl,rl,GC,q6=(GC=class{constructor(t={}){Oe(this,at);Oe(this,ni);Oe(this,ri);Oe(this,el);Oe(this,tl);Oe(this,si);Oe(this,nl);Oe(this,rl);ve(this,at,t.queryCache||new B6),ve(this,ni,t.mutationCache||new W6),ve(this,ri,t.defaultOptions||{}),ve(this,el,new Map),ve(this,tl,new Map),ve(this,si,0)}mount(){Ld(this,si)._++,$(this,si)===1&&(ve(this,nl,AA.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,at).onFocus())})),ve(this,rl,Rf.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,at).onOnline())})))}unmount(){var t,e;Ld(this,si)._--,$(this,si)===0&&((t=$(this,nl))==null||t.call(this),ve(this,nl,void 0),(e=$(this,rl))==null||e.call(this),ve(this,rl,void 0))}isFetching(t){return $(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ni).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,at).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,at).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(sT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,at).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,at).get(r.queryHash),i=s==null?void 0:s.state.data,o=S6(e,i);if(o!==void 0)return $(this,at).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>$(this,at).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,at).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,at);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,at),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>$(this,at).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(or).catch(or)}invalidateQueries(t={},e={}){return ln.batch(()=>{if($(this,at).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>$(this,at).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,at).build(this,e);return n.isStaleByTime(sT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(or).catch(or)}fetchInfiniteQuery(t){return t.behavior=cT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(or).catch(or)}ensureInfiniteQueryData(t){return t.behavior=cT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rf.isOnline()?$(this,ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,at)}getMutationCache(){return $(this,ni)}getDefaultOptions(){return $(this,ri)}setDefaultOptions(t){ve(this,ri,t)}setQueryDefaults(t,e){$(this,el).set(Su(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,el).values()];let n={};return e.forEach(r=>{Cu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,tl).set(Su(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,tl).values()];let n={};return e.forEach(r=>{Cu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ri).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Fw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ri).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,at).clear(),$(this,ni).clear()}},at=new WeakMap,ni=new WeakMap,ri=new WeakMap,el=new WeakMap,tl=new WeakMap,si=new WeakMap,nl=new WeakMap,rl=new WeakMap,GC),G6=v.createContext(void 0),K6=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(G6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}var li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(li||(li={}));const dT="popstate";function Y6(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return yv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nf(s)}return X6(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q6(){return Math.random().toString(36).substr(2,8)}function hT(t,e){return{usr:t.state,key:t.key,idx:e}}function yv(t,e,n,r){return n===void 0&&(n=null),Iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rl(e):e,{state:n,key:e&&e.key||r||Q6()})}function Nf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function X6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=li.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Iu({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=li.Pop;let b=h(),_=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:_})}function f(b,_){a=li.Push;let x=yv(g.location,b,_);c=h()+1;let E=hT(x,c),k=g.createHref(x);try{o.pushState(E,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&l&&l({action:a,location:g.location,delta:1})}function m(b,_){a=li.Replace;let x=yv(g.location,b,_);c=h();let E=hT(x,c),k=g.createHref(x);o.replaceState(E,"",k),i&&l&&l({action:a,location:g.location,delta:0})}function w(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Nf(b);return x=x.replace(/ $/,"%20"),pt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dT,p),l=b,()=>{s.removeEventListener(dT,p),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(b){return o.go(b)}};return g}var fT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fT||(fT={}));function J6(t,e,n){return n===void 0&&(n="/"),Z6(t,e,n,!1)}function Z6(t,e,n,r){let s=typeof e=="string"?Rl(e):e,i=Uw(s.pathname||"/",n);if(i==null)return null;let o=OA(t);e9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=d9(i);a=c9(o[l],c,r)}return a}function OA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OA(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:a9(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of VA(i.path))s(i,o,l)}),e}function VA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=VA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t9=/^:[\w-]+$/,n9=3,r9=2,s9=1,i9=10,o9=-2,pT=t=>t==="*";function a9(t,e){let n=t.split("/"),r=n.length;return n.some(pT)&&(r+=o9),e&&(r+=r9),n.filter(s=>!pT(s)).reduce((s,i)=>s+(t9.test(i)?n9:i===""?s9:i9),r)}function l9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function c9(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=mT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=mT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:vi([i,p.pathname]),pathnameBase:m9(vi([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=vi([i,p.pathnameBase]))}return o}function mT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let g=a[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[p];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function u9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:f9(n,e):e,search:g9(r),hash:y9(s)}}function f9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bw(t,e){let n=p9(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $w(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Rl(t):(s=Iu({},t),pt(!s.pathname||!s.pathname.includes("?"),Cg("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Cg("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Cg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=h9(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const vi=t=>t.join("/").replace(/\/\/+/g,"/"),m9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LA=["post","put","patch","delete"];new Set(LA);const w9=["get",...LA];new Set(w9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}const zw=v.createContext(null),x9=v.createContext(null),Hi=v.createContext(null),Wp=v.createContext(null),Ns=v.createContext({outlet:null,matches:[],isDataRoute:!1}),FA=v.createContext(null);function _9(t,e){let{relative:n}=e===void 0?{}:e;Nl()||pt(!1);let{basename:r,navigator:s}=v.useContext(Hi),{hash:i,pathname:o,search:a}=BA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Nl(){return v.useContext(Wp)!=null}function Go(){return Nl()||pt(!1),v.useContext(Wp).location}function UA(t){v.useContext(Hi).static||v.useLayoutEffect(t)}function br(){let{isDataRoute:t}=v.useContext(Ns);return t?j9():b9()}function b9(){Nl()||pt(!1);let t=v.useContext(zw),{basename:e,future:n,navigator:r}=v.useContext(Hi),{matches:s}=v.useContext(Ns),{pathname:i}=Go(),o=JSON.stringify(Bw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return UA(()=>{a.current=!0}),v.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=$w(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function T9(){let{matches:t}=v.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function BA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Hi),{matches:s}=v.useContext(Ns),{pathname:i}=Go(),o=JSON.stringify(Bw(s,r.v7_relativeSplatPath));return v.useMemo(()=>$w(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E9(t,e){return S9(t,e)}function S9(t,e,n,r){Nl()||pt(!1);let{navigator:s}=v.useContext(Hi),{matches:i}=v.useContext(Ns),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Go(),h;if(e){var p;let b=typeof e=="string"?Rl(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||pt(!1),h=b}else h=c;let f=h.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=J6(t,{pathname:m}),g=A9(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:vi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:vi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&g?v.createElement(Wp.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:li.Pop}},g):g}function C9(){let t=D9(),e=v9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const I9=v.createElement(C9,null);class P9 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ns.Provider,{value:this.props.routeContext},v.createElement(FA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k9(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(zw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ns.Provider,{value:e},r)}function A9(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||pt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:f,errors:m}=n,w=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let m,w=!1,g=null,b=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,g=p.route.errorElement||I9,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let E;return m?E=g:w?E=b:p.route.Component?E=v.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=h,v.createElement(k9,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?v.createElement(P9,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var $A=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($A||{}),Mf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mf||{});function R9(t){let e=v.useContext(zw);return e||pt(!1),e}function N9(t){let e=v.useContext(x9);return e||pt(!1),e}function M9(t){let e=v.useContext(Ns);return e||pt(!1),e}function zA(t){let e=M9(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function D9(){var t;let e=v.useContext(FA),n=N9(Mf.UseRouteError),r=zA(Mf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j9(){let{router:t}=R9($A.UseNavigateStable),e=zA(Mf.UseNavigateStable),n=v.useRef(!1);return UA(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pu({fromRouteId:e},i)))},[t,e])}function gT(t){let{to:e,replace:n,state:r,relative:s}=t;Nl()||pt(!1);let{future:i,static:o}=v.useContext(Hi),{matches:a}=v.useContext(Ns),{pathname:l}=Go(),c=br(),h=$w(e,Bw(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return v.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:s}),[c,p,s,n,r]),null}function tr(t){pt(!1)}function O9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=li.Pop,navigator:i,static:o=!1,future:a}=t;Nl()&&pt(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Pu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Rl(r));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:w="default"}=r,g=v.useMemo(()=>{let b=Uw(h,l);return b==null?null:{location:{pathname:b,search:p,hash:f,state:m,key:w},navigationType:s}},[l,h,p,f,m,w,s]);return g==null?null:v.createElement(Hi.Provider,{value:c},v.createElement(Wp.Provider,{children:n,value:g}))}function V9(t){let{children:e,location:n}=t;return E9(vv(e),n)}new Promise(()=>{});function vv(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,vv(r.props.children,i));return}r.type!==tr&&pt(!1),!r.props.index||!r.props.children||pt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function L9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function F9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U9(t,e){return t.button===0&&(!e||e==="_self")&&!F9(t)}const B9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$9="6";try{window.__reactRouterVersion=$9}catch{}const z9="startTransition",yT=iI[z9];function W9(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=Y6({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=v.useCallback(p=>{c&&yT?yT(()=>l(p)):l(p)},[l,c]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(O9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const H9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:p}=e,f=L9(e,B9),{basename:m}=v.useContext(Hi),w,g=!1;if(typeof c=="string"&&q9.test(c)&&(w=c,H9))try{let E=new URL(window.location.href),k=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=Uw(k.pathname,m);k.origin===E.origin&&R!=null?c=R+k.search+k.hash:g=!0}catch{}let b=_9(c,{relative:s}),_=G9(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function x(E){r&&r(E),E.defaultPrevented||_(E)}return v.createElement("a",wv({},f,{href:w||b,onClick:g||i?r:x,ref:n,target:l}))});var vT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vT||(vT={}));var wT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wT||(wT={}));function G9(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=br(),c=Go(),h=BA(t,{relative:o});return v.useCallback(p=>{if(U9(p,n)){p.preventDefault();let f=r!==void 0?r:Nf(c)===Nf(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const K9=()=>{};var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Y9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[p],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Y9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new Q9;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),p!==64){const w=c<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X9=function(t){const e=WA(t);return HA.encodeByteArray(e,!0)},Df=function(t){return X9(t).replace(/\./g,"")},qA=function(t){try{return HA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=()=>J9().__FIREBASE_DEFAULTS__,eU=()=>{if(typeof process>"u"||typeof xT>"u")return;const t=xT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qA(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return K9()||Z9()||eU()||tU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GA=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nU=t=>{const e=GA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KA=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config},YA=t=>{var e;return(e=Hp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Df(JSON.stringify(n)),Df(JSON.stringify(o)),""].join(".")}const Hc={};function iU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hc))Hc[e]?t.emulator.push(e):t.prod.push(e);return t}function oU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _T=!1;function XA(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||Hc[t]===e||Hc[t]||_T)return;Hc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=iU().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{_T=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=oU(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),b=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),h(b,g);const k=c();l(x,_),E.append(x,w,b,k),document.body.appendChild(E)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function lU(){var t;const e=(t=Hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dU(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hU(){return!lU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function fU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pU,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?mU(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Tr(s,a,r)}}function mU(t,e){return t.replace(gU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gU=/\{\$([^}]+)}/g;function yU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ts(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bT(i)&&bT(o)){if(!Ts(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vU(t,e){const n=new wU(t,e);return n.subscribe.bind(n)}class wU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ig),s.error===void 0&&(s.error=Ig),s.complete===void 0&&(s.complete=Ig);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=1e3,bU=2,TU=4*60*60*1e3,EU=.5;function TT(t,e=_U,n=bU){const r=e*Math.pow(n,t),s=Math.round(EU*r*(Math.random()-.5)*2);return Math.min(TU,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IU(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CU(t){return t===io?void 0:t}function IU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const kU={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},AU=Se.INFO,RU={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},NU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=RU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=NU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const MU=(t,e)=>e.some(n=>t instanceof n);let ET,ST;function DU(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jU(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tR=new WeakMap,xv=new WeakMap,nR=new WeakMap,Pg=new WeakMap,Ww=new WeakMap;function OU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(wi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tR.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}function VU(t){if(xv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xv.set(t,e)}let _v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LU(t){_v=t(_v)}function FU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kg(this),e,...n);return nR.set(r,e.sort?e.sort():[e]),wi(r)}:jU().includes(t)?function(...e){return t.apply(kg(this),e),wi(tR.get(this))}:function(...e){return wi(t.apply(kg(this),e))}}function UU(t){return typeof t=="function"?FU(t):(t instanceof IDBTransaction&&VU(t),MU(t,DU())?new Proxy(t,_v):t)}function wi(t){if(t instanceof IDBRequest)return OU(t);if(Pg.has(t))return Pg.get(t);const e=UU(t);return e!==t&&(Pg.set(t,e),Ww.set(e,t)),e}const kg=t=>Ww.get(t);function rR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wi(o.result),l.oldVersion,l.newVersion,wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],Ag=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ag.get(e))return Ag.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$U.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BU.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ag.set(e,i),i}LU(t=>({...t,get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bv="@firebase/app",IT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new qp("@firebase/app"),HU="@firebase/app-compat",qU="@firebase/analytics-compat",GU="@firebase/analytics",KU="@firebase/app-check-compat",YU="@firebase/app-check",QU="@firebase/auth",XU="@firebase/auth-compat",JU="@firebase/database",ZU="@firebase/data-connect",eB="@firebase/database-compat",tB="@firebase/functions",nB="@firebase/functions-compat",rB="@firebase/installations",sB="@firebase/installations-compat",iB="@firebase/messaging",oB="@firebase/messaging-compat",aB="@firebase/performance",lB="@firebase/performance-compat",cB="@firebase/remote-config",uB="@firebase/remote-config-compat",dB="@firebase/storage",hB="@firebase/storage-compat",fB="@firebase/firestore",pB="@firebase/ai",mB="@firebase/firestore-compat",gB="firebase",yB="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="[DEFAULT]",vB={[bv]:"fire-core",[HU]:"fire-core-compat",[GU]:"fire-analytics",[qU]:"fire-analytics-compat",[YU]:"fire-app-check",[KU]:"fire-app-check-compat",[QU]:"fire-auth",[XU]:"fire-auth-compat",[JU]:"fire-rtdb",[ZU]:"fire-data-connect",[eB]:"fire-rtdb-compat",[tB]:"fire-fn",[nB]:"fire-fn-compat",[rB]:"fire-iid",[sB]:"fire-iid-compat",[iB]:"fire-fcm",[oB]:"fire-fcm-compat",[aB]:"fire-perf",[lB]:"fire-perf-compat",[cB]:"fire-rc",[uB]:"fire-rc-compat",[dB]:"fire-gcs",[hB]:"fire-gcs-compat",[fB]:"fire-fst",[mB]:"fire-fst-compat",[pB]:"fire-vertex","fire-js":"fire-js",[gB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,wB=new Map,Ev=new Map;function PT(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){const e=t.name;if(Ev.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(const n of jf.values())PT(n,t);for(const n of wB.values())PT(n,t);return!0}function Yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Ko("app","Firebase",xB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=yB;function sR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw xi.create("bad-app-name",{appName:String(s)});if(n||(n=KA()),!n)throw xi.create("no-options");const i=jf.get(s);if(i){if(Ts(n,i.options)&&Ts(r,i.config))return i;throw xi.create("duplicate-app",{appName:s})}const o=new PU(s);for(const l of Ev.values())o.addComponent(l);const a=new _B(n,r,o);return jf.set(s,a),a}function Hw(t=Tv){const e=jf.get(t);if(!e&&t===Tv&&KA())return sR();if(!e)throw xi.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let s=(r=vB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(a.join(" "));return}Kr(new xr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="firebase-heartbeat-database",TB=1,ku="firebase-heartbeat-store";let Rg=null;function iR(){return Rg||(Rg=rR(bB,TB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function EB(t){try{const n=(await iR()).transaction(ku),r=await n.objectStore(ku).get(oR(t));return await n.done,r}catch(e){if(e instanceof Tr)Es.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function kT(t,e){try{const r=(await iR()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,oR(t)),await r.done}catch(n){if(n instanceof Tr)Es.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function oR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=1024,CB=30;class IB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=AT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>CB){const o=AB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AT(),{heartbeatsToSend:r,unsentEntries:s}=PB(this._heartbeatsCache.heartbeats),i=Df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Es.warn(n),""}}}function AT(){return new Date().toISOString().substring(0,10)}function PB(t,e=SB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),RT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function RT(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function AB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){Kr(new xr("platform-logger",e=>new zU(e),"PRIVATE")),Kr(new xr("heartbeat",e=>new IB(e),"PRIVATE")),Kn(bv,IT,t),Kn(bv,IT,"esm2017"),Kn("fire-js","")}RB("");var Or=function(){return Or=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Or.apply(this,arguments)};function sd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function NB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MB=aR,lR=new Ko("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new qp("@firebase/auth");function DB(t,...e){Of.logLevel<=Se.WARN&&Of.warn(`Auth (${Dl}): ${t}`,...e)}function Oh(t,...e){Of.logLevel<=Se.ERROR&&Of.error(`Auth (${Dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,...e){throw Gw(t,...e)}function mr(t,...e){return Gw(t,...e)}function qw(t,e,n){const r=Object.assign(Object.assign({},MB()),{[e]:n});return new Ko("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yr(t,"argument-error"),qw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lR.create(t,...e)}function ce(t,e,...n){if(!t)throw Gw(e,...n)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oh(e),new Error(e)}function Ss(t,e){t||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OB(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OB()||JA()||"connection"in navigator)?navigator.onLine:!0}function LB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=aU()||uU()}get(){return VB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){Ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BB=new id(3e4,6e4);function Yw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jl(t,e,n,r,s={}){return uR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=rd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return cU()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(c.credentials="include"),cR.fetch()(await dR(t,t.config.apiHost,n,a),c)})}async function uR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FB),e);try{const s=new zB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ah(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ah(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qw(t,h,c);Yr(t,h)}}catch(s){if(s instanceof Tr)throw s;Yr(t,"network-request-failed",{message:String(s)})}}async function $B(t,e,n,r,s={}){const i=await jl(t,e,n,r,s);return"mfaPendingCredential"in i&&Yr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kw(t.config,s):`${t.config.apiScheme}://${s}`;return UB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class zB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),BB.get())})}}function ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e){return jl(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HB(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=Qw(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qc(Ng(s.auth_time)),issuedAtTime:qc(Ng(s.iat)),expirationTime:qc(Ng(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function Qw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const s=qA(n);return s?JSON.parse(s):(Oh("Failed to decode base64 JWT payload"),null)}catch(s){return Oh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function MT(t){const e=Qw(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&qB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Au(t,Vf(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?hR(i.providerUserInfo):[],a=YB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function KB(t){const e=Ct(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YB(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hR(t){return t.map(e=>{var{providerId:n}=e,r=sd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e){const n=await uR(t,{},async()=>{const r=rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(l.credentials="include"),cR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XB(t,e){return jl(t,"POST","/v2/accounts:revokeToken",Yw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=MT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await QB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new za;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HB(this,e)}reload(){return KB(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await Au(this,WB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:k,isAnonymous:R,providerData:j,stsTokenManager:C}=n;ce(E&&C,e,"internal-error");const S=za.fromJSON(this.name,C);ce(typeof E=="string",e,"internal-error"),$s(p,e.name),$s(f,e.name),ce(typeof k=="boolean",e,"internal-error"),ce(typeof R=="boolean",e,"internal-error"),$s(m,e.name),$s(w,e.name),$s(g,e.name),$s(b,e.name),$s(_,e.name),$s(x,e.name);const I=new hr({uid:E,auth:e,email:f,emailVerified:k,displayName:p,isAnonymous:R,photoURL:w,phoneNumber:m,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:x});return j&&Array.isArray(j)&&(I.providerData=j.map(A=>Object.assign({},A))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new za;s.updateFromServerResponse(n);const i=new hr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new za;a.updateFromIdToken(r);const l=new hr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Cv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function ps(t){Ss(t instanceof Function,"Expected a class definition");let e=DT.get(t);return e?(Ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fR.type="NONE";const jT=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wa(ps(jT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ps(jT);const o=Vh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const f=await Vf(e,{idToken:h}).catch(()=>{});if(!f)break;p=await hr._fromGetAccountInfoResponse(e,f,h)}else p=hr._fromJSON(e,h);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Wa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wR(e))return"Blackberry";if(xR(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||gR(e))&&!e.includes("edge/"))return"Chrome";if(vR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pR(t=nn()){return/firefox\//i.test(t)}function mR(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gR(t=nn()){return/crios\//i.test(t)}function yR(t=nn()){return/iemobile/i.test(t)}function vR(t=nn()){return/android/i.test(t)}function wR(t=nn()){return/blackberry/i.test(t)}function xR(t=nn()){return/webos/i.test(t)}function Xw(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JB(t=nn()){var e;return Xw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZB(){return dU()&&document.documentMode===10}function _R(t=nn()){return Xw(t)||vR(t)||xR(t)||wR(t)||/windows phone/i.test(t)||yR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e=[]){let n;switch(t){case"Browser":n=OT(nn());break;case"Worker":n=`${OT(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e={}){return jl(t,"GET","/v2/passwordPolicy",Yw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=6;class r8{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:n8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VT(this),this.idTokenSubscription=new VT(this),this.beforeStateQueue=new e8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(To(this));const n=e?Ct(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t8(this),n=new r8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gp(t){return Ct(t)}class VT{constructor(e){this.auth=e,this.observer=null,this.addObserver=vU(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i8(t){Jw=t}function o8(t){return Jw.loadJS(t)}function a8(){return Jw.gapiScript}function l8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e){const n=Yo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ts(i,e??{}))return s;Yr(s,"already-initialized")}return n.initialize({options:e})}function u8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d8(t,e,n){const r=Gp(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TR(e),{host:o,port:a}=h8(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Ts(c,r.config.emulator)&&Ts(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ml(o)?(QA(`${i}//${o}${l}`),XA("Auth",!0)):f8()}function TR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h8(t){const e=TR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:LT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:LT(o)}}}function LT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e){return $B(t,"POST","/v1/accounts:signInWithIdp",Yw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="http://localhost";class Vo extends ER{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Vo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:p8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends od{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends od{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends od{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await hr._fromIdTokenResponse(e,r,s),o=FT(r);return new pl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=FT(r);return new pl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function FT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends Tr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ff(e,n,r,s)}}function SR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,i,e,r):i})}async function m8(t,e,n=!1){const r=await Au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(To(r));const s="reauthenticate";try{const i=await Au(t,SR(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=Qw(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),pl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e,n=!1){if(ur(t.app))return Promise.reject(To(t));const r="signIn",s=await SR(t,r,e),i=await pl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function v8(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function w8(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function x8(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function _8(t){return Ct(t).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,T8=10;class IR extends CR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);ZB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,T8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const E8=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR extends CR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PR.type="SESSION";const kR=PR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await S8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ex("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function I8(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function P8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A8(){return AR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",R8=1,Bf="firebaseLocalStorage",NR="fbase_key";class ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function N8(){const t=indexedDB.deleteDatabase(RR);return new ad(t).toPromise()}function Iv(){const t=indexedDB.open(RR,R8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:NR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await N8(),e(await Iv()))})})}async function UT(t,e,n){const r=Yp(t,!0).put({[NR]:e,value:n});return new ad(r).toPromise()}async function M8(t,e){const n=Yp(t,!1).get(e),r=await new ad(n).toPromise();return r===void 0?null:r.value}function BT(t,e){const n=Yp(t,!0).delete(e);return new ad(n).toPromise()}const D8=800,j8=3;class MR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(A8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P8(),!this.activeServiceWorker)return;this.sender=new C8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iv();return await UT(e,Uf,"1"),await BT(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yp(s,!1).getAll();return new ad(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MR.type="LOCAL";const O8=MR;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){return e?ps(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends ER{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V8(t){return y8(t.auth,new tx(t),t.bypassAuthState)}function L8(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),g8(n,new tx(t),t.bypassAuthState)}async function F8(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),m8(n,new tx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V8;case"linkViaPopup":case"linkViaRedirect":return F8;case"reauthViaPopup":case"reauthViaRedirect":return L8;default:Yr(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new id(2e3,1e4);async function B8(t,e,n){if(ur(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=Gp(t);jB(t,e,Zw);const s=DR(r,n);return new ho(r,"signInViaPopup",e,s).executeNotNull()}class ho extends jR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=ex();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U8.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="pendingRedirect",Lh=new Map;class z8 extends jR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const r=await W8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W8(t,e){const n=G8(e),r=q8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function H8(t,e){Lh.set(t._key(),e)}function q8(t){return ps(t._redirectPersistence)}function G8(t){return Vh($8,t.config.apiKey,t.name)}async function K8(t,e,n=!1){if(ur(t.app))return Promise.reject(To(t));const r=Gp(t),s=DR(r,e),o=await new z8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=10*60*1e3;class Q8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y8&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}}function $T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e={}){return jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e$=/^https?/;async function t$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J8(t);for(const n of e)try{if(n$(n))return}catch{}Yr(t,"unauthorized-domain")}function n$(t){const e=Sv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e$.test(n))return!1;if(Z8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new id(3e4,6e4);function zT(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s$(t){return new Promise((e,n)=>{var r,s,i;function o(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(mr(t,"network-request-failed"))},timeout:r$.get()})}if(!((s=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fr().gapi)===null||i===void 0)&&i.load)o();else{const a=l8("iframefcb");return Fr()[a]=()=>{gapi.load?o():n(mr(t,"network-request-failed"))},o8(`${a8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function i$(t){return Fh=Fh||s$(t),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=new id(5e3,15e3),a$="__/auth/iframe",l$="emulator/auth/iframe",c$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d$(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kw(e,l$):`https://${t.config.authDomain}/${a$}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},s=u$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rd(r).slice(1)}`}async function h$(t){const e=await i$(t),n=Fr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:d$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=Fr().setTimeout(()=>{i(o)},o$.get());function l(){Fr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p$=500,m$=600,g$="_blank",y$="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v$(t,e,n,r=p$,s=m$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},f$),{width:r.toString(),height:s.toString(),top:i,left:o}),c=nn().toLowerCase();n&&(a=gR(c)?g$:n),pR(c)&&(e=e||y$,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(JB(c)&&a!=="_self")return w$(e||"",a),new WT(null);const p=window.open(e||"",a,h);ce(p,t,"popup-blocked");try{p.focus()}catch{}return new WT(p)}function w$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$="__/auth/handler",_$="emulator/auth/handler",b$=encodeURIComponent("fac");async function HT(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:s};if(e instanceof Zw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof od){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${b$}=${encodeURIComponent(l)}`:"";return`${T$(t)}?${rd(a).slice(1)}${c}`}function T$({config:t}){return t.emulator?Kw(t,_$):`https://${t.authDomain}/${x$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class E${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kR,this._completeRedirectFn=K8,this._overrideRedirectResult=H8}async _openPopup(e,n,r,s){var i;Ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await HT(e,n,r,Sv(),s);return v$(e,o,ex())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HT(e,n,r,Sv(),s);return I8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h$(e),r=new Q8(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Mg];o!==void 0&&n(!!o),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||mR()||Xw()}}const S$=E$;var qT="@firebase/auth",GT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P$(t){Kr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bR(t)},c=new s8(r,s,i,l);return u8(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new xr("auth-internal",e=>{const n=Gp(e.getProvider("auth").getImmediate());return(r=>new C$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(qT,GT,I$(t)),Kn(qT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=5*60,A$=YA("authIdTokenMaxAge")||k$;let KT=null;const R$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A$)return;const s=n==null?void 0:n.token;KT!==s&&(KT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function N$(t=Hw()){const e=Yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c8(t,{popupRedirectResolver:S$,persistence:[O8,E8,kR]}),r=YA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=R$(i.toString());w8(n,o,()=>o(n.currentUser)),v8(n,a=>o(a))}}const s=GA("auth");return s&&d8(n,`http://${s}`),n}function M$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",M$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P$("Browser");var D$="firebase",j$="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(D$,j$,"app");const VR="@firebase/installations",nx="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1e4,FR=`w:${nx}`,UR="FIS_v2",O$="https://firebaseinstallations.googleapis.com/v1",V$=60*60*1e3,L$="installations",F$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lo=new Ko(L$,F$,U$);function BR(t){return t instanceof Tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R({projectId:t}){return`${O$}/projects/${t}/installations`}function zR(t){return{token:t.token,requestStatus:2,expiresIn:$$(t.expiresIn),creationTime:Date.now()}}async function WR(t,e){const r=(await e.json()).error;return Lo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function B$(t,{refreshToken:e}){const n=HR(t);return n.append("Authorization",z$(e)),n}async function qR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $$(t){return Number(t.replace("s","000"))}function z$(t){return`${UR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$R(t),s=HR(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:UR,appId:t.appId,sdkVersion:FR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qR(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zR(c.authToken)}}else throw await WR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=/^[cdef][\w-]{21}$/,Pv="";function G$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=K$(t);return q$.test(n)?n:Pv}catch{return Pv}}function K$(t){return H$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Map;function YR(t,e){const n=Qp(t);QR(n,e),Y$(n,e)}function QR(t,e){const n=KR.get(t);if(n)for(const r of n)r(e)}function Y$(t,e){const n=Q$();n&&n.postMessage({key:t,fid:e}),X$()}let fo=null;function Q$(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{QR(t.data.key,t.data.fid)}),fo}function X$(){KR.size===0&&fo&&(fo.close(),fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebase-installations-database",Z$=1,Fo="firebase-installations-store";let Dg=null;function rx(){return Dg||(Dg=rR(J$,Z$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fo)}}})),Dg}async function $f(t,e){const n=Qp(t),s=(await rx()).transaction(Fo,"readwrite"),i=s.objectStore(Fo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&YR(t,e.fid),e}async function XR(t){const e=Qp(t),r=(await rx()).transaction(Fo,"readwrite");await r.objectStore(Fo).delete(e),await r.done}async function Xp(t,e){const n=Qp(t),s=(await rx()).transaction(Fo,"readwrite"),i=s.objectStore(Fo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&YR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t){let e;const n=await Xp(t.appConfig,r=>{const s=ez(r),i=tz(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Pv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ez(t){const e=t||{fid:G$(),registrationStatus:0};return JR(e)}function tz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Lo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rz(t)}:{installationEntry:e}}async function nz(t,e){try{const n=await W$(t,e);return $f(t.appConfig,n)}catch(n){throw BR(n)&&n.customData.serverCode===409?await XR(t.appConfig):await $f(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rz(t){let e=await YT(t.appConfig);for(;e.registrationStatus===1;)await GR(100),e=await YT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sx(t);return r||n}return e}function YT(t){return Xp(t,e=>{if(!e)throw Lo.create("installation-not-found");return JR(e)})}function JR(t){return sz(t)?{fid:t.fid,registrationStatus:0}:t}function sz(t){return t.registrationStatus===1&&t.registrationTime+LR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz({appConfig:t,heartbeatServiceProvider:e},n){const r=oz(t,n),s=B$(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:FR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qR(()=>fetch(r,a));if(l.ok){const c=await l.json();return zR(c)}else throw await WR("Generate Auth Token",l)}function oz(t,{fid:e}){return`${$R(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e=!1){let n;const r=await Xp(t.appConfig,i=>{if(!ZR(i))throw Lo.create("not-registered");const o=i.authToken;if(!e&&cz(o))return i;if(o.requestStatus===1)return n=az(t,e),i;{if(!navigator.onLine)throw Lo.create("app-offline");const a=dz(i);return n=lz(t,a),a}});return n?await n:r.authToken}async function az(t,e){let n=await QT(t.appConfig);for(;n.authToken.requestStatus===1;)await GR(100),n=await QT(t.appConfig);const r=n.authToken;return r.requestStatus===0?ix(t,e):r}function QT(t){return Xp(t,e=>{if(!ZR(e))throw Lo.create("not-registered");const n=e.authToken;return hz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lz(t,e){try{const n=await iz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $f(t.appConfig,r),n}catch(n){if(BR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $f(t.appConfig,r)}throw n}}function ZR(t){return t!==void 0&&t.registrationStatus===2}function cz(t){return t.requestStatus===2&&!uz(t)}function uz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V$}function dz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hz(t){return t.requestStatus===1&&t.requestTime+LR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t){const e=t,{installationEntry:n,registrationPromise:r}=await sx(e);return r?r.catch(console.error):ix(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e=!1){const n=t;return await mz(n),(await ix(n,e)).token}async function mz(t){const{registrationPromise:e}=await sx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){if(!t||!t.options)throw jg("App Configuration");if(!t.name)throw jg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jg(t){return Lo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="installations",yz="installations-internal",vz=t=>{const e=t.getProvider("app").getImmediate(),n=gz(e),r=Yo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wz=t=>{const e=t.getProvider("app").getImmediate(),n=Yo(e,eN).getImmediate();return{getId:()=>fz(n),getToken:s=>pz(n,s)}};function xz(){Kr(new xr(eN,vz,"PUBLIC")),Kr(new xr(yz,wz,"PRIVATE"))}xz();Kn(VR,nx);Kn(VR,nx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="analytics",_z="firebase_id",bz="origin",Tz=60*1e3,Ez="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ox="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new qp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new Ko("analytics","Analytics",Sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){if(!t.startsWith(ox)){const e=jn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function tN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Iz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Pz(t,e){const n=Iz("firebase-js-sdk-policy",{createScriptURL:Cz}),r=document.createElement("script"),s=`${ox}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function kz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Az(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await tN(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Tn.error(a)}t("config",s,i)}async function Rz(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await tN(n);for(const l of o){const c=a.find(p=>p.measurementId===l),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Tn.error(i)}}function Nz(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Rz(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Az(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Tn.error(a)}}return s}function Mz(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Nz(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Dz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ox)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=30,Oz=1e3;class Vz{constructor(e={},n=Oz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nN=new Vz;function Lz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Fz(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Lz(r)},i=Ez.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Uz(t,e=nN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw jn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zz;return setTimeout(async()=>{a.abort()},Tz),rN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function rN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nN){var i;const{appId:o,measurementId:a}=t;try{await Bz(r,e)}catch(l){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Fz(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!$z(c)){if(s.deleteThrottleMetadata(o),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?TT(n,s.intervalMillis,jz):TT(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),Tn.debug(`Calling attemptFetch again in ${h} millis`),rN(t,p,r,s)}}function Bz(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $z(t){if(!(t instanceof Tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class zz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Wz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(){if(ZA())try{await eR()}catch(t){return Tn.warn(jn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qz(t,e,n,r,s,i,o){var a;const l=Uz(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Tn.error(m)),e.push(l);const c=Hz().then(m=>{if(m)return r.getId()}),[h,p]=await Promise.all([l,c]);Dz(i)||Pz(i,h.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[bz]="firebase",f.update=!0,p!=null&&(f[_z]=p),s("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.app=e}_delete(){return delete Gc[this.app.options.appId],Promise.resolve()}}let Gc={},XT=[];const JT={};let Og="dataLayer",Kz="gtag",ZT,sN,eE=!1;function Yz(){const t=[];if(JA()&&t.push("This is a browser extension environment."),fU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function Qz(t,e,n){Yz();const r=t.options.appId;if(!r)throw jn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Gc[r]!=null)throw jn.create("already-exists",{id:r});if(!eE){kz(Og);const{wrappedGtag:i,gtagCore:o}=Mz(Gc,XT,JT,Og,Kz);sN=i,ZT=o,eE=!0}return Gc[r]=qz(t,XT,JT,e,ZT,Og,n),new Gz(t)}function Xz(t=Hw()){t=Ct(t);const e=Yo(t,zf);return e.isInitialized()?e.getImmediate():Jz(t)}function Jz(t,e={}){const n=Yo(t,zf);if(n.isInitialized()){const s=n.getImmediate();if(Ts(e,n.getOptions()))return s;throw jn.create("already-initialized")}return n.initialize({options:e})}function Zz(t,e,n,r){t=Ct(t),Wz(sN,Gc[t.app.options.appId],e,n,r).catch(s=>Tn.error(s))}const tE="@firebase/analytics",nE="0.10.17";function e7(){Kr(new xr(zf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Qz(r,s,n)},"PUBLIC")),Kr(new xr("analytics-internal",t,"PRIVATE")),Kn(tE,nE),Kn(tE,nE,"esm2017");function t(e){try{const n=e.getProvider(zf).getImmediate();return{logEvent:(r,s,i)=>Zz(n,r,s,i)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}e7();var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,iN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(A,M,D){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return S.prototype[M].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var A=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)A[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)A[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],M=C.g[2];var D=C.g[3],N=S+(D^I&(M^D))+A[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=D+(M^S&(I^M))+A[1]+3905402710&4294967295,D=S+(N<<12&4294967295|N>>>20),N=M+(I^D&(S^I))+A[2]+606105819&4294967295,M=D+(N<<17&4294967295|N>>>15),N=I+(S^M&(D^S))+A[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(D^I&(M^D))+A[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(M^S&(I^M))+A[5]+1200080426&4294967295,D=S+(N<<12&4294967295|N>>>20),N=M+(I^D&(S^I))+A[6]+2821735955&4294967295,M=D+(N<<17&4294967295|N>>>15),N=I+(S^M&(D^S))+A[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(D^I&(M^D))+A[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(M^S&(I^M))+A[9]+2336552879&4294967295,D=S+(N<<12&4294967295|N>>>20),N=M+(I^D&(S^I))+A[10]+4294925233&4294967295,M=D+(N<<17&4294967295|N>>>15),N=I+(S^M&(D^S))+A[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(D^I&(M^D))+A[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(M^S&(I^M))+A[13]+4254626195&4294967295,D=S+(N<<12&4294967295|N>>>20),N=M+(I^D&(S^I))+A[14]+2792965006&4294967295,M=D+(N<<17&4294967295|N>>>15),N=I+(S^M&(D^S))+A[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(M^D&(I^M))+A[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^M&(S^I))+A[6]+3225465664&4294967295,D=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(D^S))+A[11]+643717713&4294967295,M=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(M^D))+A[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^D&(I^M))+A[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^M&(S^I))+A[10]+38016083&4294967295,D=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(D^S))+A[15]+3634488961&4294967295,M=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(M^D))+A[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^D&(I^M))+A[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^M&(S^I))+A[14]+3275163606&4294967295,D=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(D^S))+A[3]+4107603335&4294967295,M=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(M^D))+A[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^D&(I^M))+A[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^M&(S^I))+A[2]+4243563512&4294967295,D=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(D^S))+A[7]+1735328473&4294967295,M=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(M^D))+A[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(I^M^D)+A[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^M)+A[8]+2272392833&4294967295,D=S+(N<<11&4294967295|N>>>21),N=M+(D^S^I)+A[11]+1839030562&4294967295,M=D+(N<<16&4294967295|N>>>16),N=I+(M^D^S)+A[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^D)+A[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^M)+A[4]+1272893353&4294967295,D=S+(N<<11&4294967295|N>>>21),N=M+(D^S^I)+A[7]+4139469664&4294967295,M=D+(N<<16&4294967295|N>>>16),N=I+(M^D^S)+A[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^D)+A[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^M)+A[0]+3936430074&4294967295,D=S+(N<<11&4294967295|N>>>21),N=M+(D^S^I)+A[3]+3572445317&4294967295,M=D+(N<<16&4294967295|N>>>16),N=I+(M^D^S)+A[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^D)+A[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^M)+A[12]+3873151461&4294967295,D=S+(N<<11&4294967295|N>>>21),N=M+(D^S^I)+A[15]+530742520&4294967295,M=D+(N<<16&4294967295|N>>>16),N=I+(M^D^S)+A[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(M^(I|~D))+A[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~M))+A[7]+1126891415&4294967295,D=S+(N<<10&4294967295|N>>>22),N=M+(S^(D|~I))+A[14]+2878612391&4294967295,M=D+(N<<15&4294967295|N>>>17),N=I+(D^(M|~S))+A[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~D))+A[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~M))+A[3]+2399980690&4294967295,D=S+(N<<10&4294967295|N>>>22),N=M+(S^(D|~I))+A[10]+4293915773&4294967295,M=D+(N<<15&4294967295|N>>>17),N=I+(D^(M|~S))+A[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~D))+A[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~M))+A[15]+4264355552&4294967295,D=S+(N<<10&4294967295|N>>>22),N=M+(S^(D|~I))+A[6]+2734768916&4294967295,M=D+(N<<15&4294967295|N>>>17),N=I+(D^(M|~S))+A[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~D))+A[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~M))+A[11]+3174756917&4294967295,D=S+(N<<10&4294967295|N>>>22),N=M+(S^(D|~I))+A[2]+718787259&4294967295,M=D+(N<<15&4294967295|N>>>17),N=I+(D^(M|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,A=this.B,M=this.h,D=0;D<S;){if(M==0)for(;D<=I;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<S;)if(A[M++]=C.charCodeAt(D++),M==this.blockSize){s(this,A),M=0;break}}else for(;D<S;)if(A[M++]=C[D++],M==this.blockSize){s(this,A),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var A=0;32>A;A+=8)C[I++]=this.g[S]>>>A&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],A=!0,M=C.length-1;0<=M;M--){var D=C[M]|0;A&&D==S||(I[M]=D,A=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return b(c(-C));for(var S=[],I=1,A=0;C>=I;A++)S[A]=C/I|0,I*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return b(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),A=p,M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M),N=parseInt(C.substring(M,M+D),S);8>D?(D=c(Math.pow(S,D)),A=A.j(D).add(c(N))):(A=A.j(I),A=A.add(c(N)))}return A}var p=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var A=this.i(I);C+=(0<=A?A:4294967296+A)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(g(this))return"-"+b(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,A="";;){var M=k(I,S).g;I=_(I,M.j(S));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=M,w(I))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=_(this,C),g(C)?-1:w(C)?0:1};function b(C){for(var S=C.g.length,I=[],A=0;A<S;A++)I[A]=~C.g[A];return new o(I,~C.h).add(f)}t.abs=function(){return g(this)?b(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],A=0,M=0;M<=S;M++){var D=A+(this.i(M)&65535)+(C.i(M)&65535),N=(D>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);A=N>>>16,D&=65535,N&=65535,I[M]=N<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,S){return C.add(b(S))}t.j=function(C){if(w(this)||w(C))return p;if(g(this))return g(C)?b(this).j(b(C)):b(b(this).j(C));if(g(C))return b(this.j(b(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],A=0;A<2*S;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<C.g.length;M++){var D=this.i(A)>>>16,N=this.i(A)&65535,z=C.i(M)>>>16,se=C.i(M)&65535;I[2*A+2*M]+=N*se,x(I,2*A+2*M),I[2*A+2*M+1]+=D*se,x(I,2*A+2*M+1),I[2*A+2*M+1]+=N*z,x(I,2*A+2*M+1),I[2*A+2*M+2]+=D*z,x(I,2*A+2*M+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new o(I,0)};function x(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function k(C,S){if(w(S))throw Error("division by zero");if(w(C))return new E(p,p);if(g(C))return S=k(b(C),S),new E(b(S.g),b(S.h));if(g(S))return S=k(C,b(S)),new E(b(S.g),S.h);if(30<C.g.length){if(g(C)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,A=S;0>=A.l(C);)I=R(I),A=R(A);var M=j(I,1),D=j(A,1);for(A=j(A,2),I=j(I,2);!w(A);){var N=D.add(A);0>=N.l(C)&&(M=M.add(I),D=N),A=j(A,1),I=j(I,1)}return S=_(C,M.j(S)),new E(M,S)}for(M=p;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(I),N=D.j(S);g(N)||0<N.l(C);)I-=A,D=c(I),N=D.j(S);w(D)&&(D=f),M=M.add(D),C=_(C,N)}return new E(M,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)&C.i(A);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)|C.i(A);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)^C.i(A);return new o(I,this.h^C.h)};function R(C){for(var S=C.g.length+1,I=[],A=0;A<S;A++)I[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(I,C.h)}function j(C,S){var I=S>>5;S%=32;for(var A=C.g.length-I,M=[],D=0;D<A;D++)M[D]=0<S?C.i(D+I)>>>S|C.i(D+I+1)<<32-S:C.i(D+I);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,_i=o}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oN,Ic,aN,Uh,kv,lN,cN,uN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,y){if(y)e:{var T=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var V=d[P];if(!(V in T))break e;T=T[V]}d=d[d.length-1],P=T[d],y=y(P),y!=P&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function i(d,y){d instanceof String&&(d+="");var T=0,P=!1,V={next:function(){if(!P&&T<d.length){var F=T++;return{value:y(F,d[F]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(d){return d||function(){return i(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function h(d,y,T){return d.call.apply(d.bind,arguments)}function p(d,y,T){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),d.apply(y,V)}}return function(){return d.apply(y,arguments)}}function f(d,y,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function m(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function w(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(P,V,F){for(var K=Array(arguments.length-2),We=2;We<arguments.length;We++)K[We-2]=arguments[We];return y.prototype[V].apply(P,K)}}function g(d){const y=d.length;if(0<y){const T=Array(y);for(let P=0;P<y;P++)T[P]=d[P];return T}return[]}function b(d,y){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(l(P)){const V=d.length||0,F=P.length||0;d.length=V+F;for(let K=0;K<F;K++)d[V+K]=P[K]}else d.push(P)}}class _{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function x(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(d,y,T){for(const P in d)y.call(T,d[P],P,d)}function C(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function S(d){const y={};for(const T in d)y[T]=d[T];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,y){let T,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(T in P)d[T]=P[T];for(let F=0;F<I.length;F++)T=I[F],Object.prototype.hasOwnProperty.call(P,T)&&(d[T]=P[T])}}function M(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function D(d){a.setTimeout(()=>{throw d},0)}function N(){var d=L;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,T){const P=se.get();P.set(y,T),this.h?this.h.next=P:this.g=P,this.h=P}}var se=new _(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let X,O=!1,L=new z,G=()=>{const d=a.Promise.resolve(void 0);X=()=>{d.then(H)}};var H=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){D(T)}var y=se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}O=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return d}();function ze(d,y){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(R){e:{try{k(y.nodeName);var V=!0;break e}catch{}V=!1}V||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ze.aa.h.call(this)}}w(ze,re);var pe={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Pe(d,y,T,P,V){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!P,this.ha=V,this.key=++Te,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ie(d){this.src=d,this.g={},this.h=0}Ie.prototype.add=function(d,y,T,P,V){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var K=bt(d,y,P,V);return-1<K?(y=d[K],T||(y.fa=!1)):(y=new Pe(y,this.src,F,!!P,V),y.fa=T,d.push(y)),y};function Ee(d,y){var T=y.type;if(T in d.g){var P=d.g[T],V=Array.prototype.indexOf.call(P,y,void 0),F;(F=0<=V)&&Array.prototype.splice.call(P,V,1),F&&(ye(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function bt(d,y,T,P){for(var V=0;V<d.length;++V){var F=d[V];if(!F.da&&F.listener==y&&F.capture==!!T&&F.ha==P)return V}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Fn={};function rn(d,y,T,P,V){if(Array.isArray(y)){for(var F=0;F<y.length;F++)rn(d,y[F],T,P,V);return null}return T=Ql(T),d&&d[ne]?d.K(y,T,c(P)?!!P.capture:!!P,V):es(d,y,T,!1,P,V)}function es(d,y,T,P,V,F){if(!y)throw Error("Invalid event type");var K=c(V)?!!V.capture:!!V,We=Ms(d);if(We||(d[Rt]=We=new Ie(d)),T=We.add(y,T,P,K,F),T.proxy)return T;if(P=Kl(),T.proxy=P,P.src=d,P.listener=T,d.addEventListener)be||(V=K),V===void 0&&(V=!1),d.addEventListener(y.toString(),P,V);else if(d.attachEvent)d.attachEvent(_d(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Kl(){function d(T){return y.call(d.src,d.listener,T)}const y=Rm;return d}function mt(d,y,T,P,V){if(Array.isArray(y))for(var F=0;F<y.length;F++)mt(d,y[F],T,P,V);else P=c(P)?!!P.capture:!!P,T=Ql(T),d&&d[ne]?(d=d.i,y=String(y).toString(),y in d.g&&(F=d.g[y],T=bt(F,T,P,V),-1<T&&(ye(F[T]),Array.prototype.splice.call(F,T,1),F.length==0&&(delete d.g[y],d.h--)))):d&&(d=Ms(d))&&(y=d.g[y.toString()],d=-1,y&&(d=bt(y,T,P,V)),(T=-1<d?y[d]:null)&&Cr(T))}function Cr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ne])Ee(y.i,d);else{var T=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(T,P,d.capture):y.detachEvent?y.detachEvent(_d(T),P):y.addListener&&y.removeListener&&y.removeListener(P),(T=Ms(y))?(Ee(T,d),T.h==0&&(T.src=null,y[Rt]=null)):ye(d)}}}function _d(d){return d in Fn?Fn[d]:Fn[d]="on"+d}function Rm(d,y){if(d.da)d=!0;else{y=new ze(y,this);var T=d.listener,P=d.ha||d.src;d.fa&&Cr(d),d=T.call(P,y)}return d}function Ms(d){return d=d[Rt],d instanceof Ie?d:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ql(d){return typeof d=="function"?d:(d[Yl]||(d[Yl]=function(y){return d.handleEvent(y)}),d[Yl])}function gt(){J.call(this),this.i=new Ie(this),this.M=this,this.F=null}w(gt,J),gt.prototype[ne]=!0,gt.prototype.removeEventListener=function(d,y,T,P){mt(this,d,y,T,P)};function it(d,y){var T,P=d.F;if(P)for(T=[];P;P=P.F)T.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new re(y,d);else if(y instanceof re)y.target=y.target||d;else{var V=y;y=new re(P,d),A(y,V)}if(V=!0,T)for(var F=T.length-1;0<=F;F--){var K=y.g=T[F];V=Xi(K,P,!0,y)&&V}if(K=y.g=d,V=Xi(K,P,!0,y)&&V,V=Xi(K,P,!1,y)&&V,T)for(F=0;F<T.length;F++)K=y.g=T[F],V=Xi(K,P,!1,y)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],P=0;P<T.length;P++)ye(T[P]);delete d.g[y],d.h--}}this.F=null},gt.prototype.K=function(d,y,T,P){return this.i.add(String(d),y,!1,T,P)},gt.prototype.L=function(d,y,T,P){return this.i.add(String(d),y,!0,T,P)};function Xi(d,y,T,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var V=!0,F=0;F<y.length;++F){var K=y[F];if(K&&!K.da&&K.capture==T){var We=K.listener,Nt=K.ha||K.src;K.fa&&Ee(d.i,K),V=We.call(Nt,P)!==!1&&V}}return V&&!P.defaultPrevented}function ts(d,y,T){if(typeof d=="function")T&&(d=f(d,T));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function Xl(d){d.g=ts(()=>{d.g=null,d.i&&(d.i=!1,Xl(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Nm extends J{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(d){J.call(this),this.h=d,this.g={}}w(Ds,J);var Jl=[];function bd(d){j(d.g,function(y,T){this.g.hasOwnProperty(T)&&Cr(y)},d),d.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),bd(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=a.JSON.stringify,Ir=a.JSON.parse,Mm=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function de(){}de.prototype.h=null;function Be(d){return d.h||(d.h=d.i())}function Le(){}var Bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){re.call(this,"d")}w(pn,re);function js(){re.call(this,"c")}w(js,re);var ns={},O1=null;function Td(){return O1=O1||new gt}ns.La="serverreachability";function V1(d){re.call(this,ns.La,d)}w(V1,re);function Zl(d){const y=Td();it(y,new V1(y))}ns.STAT_EVENT="statevent";function L1(d,y){re.call(this,ns.STAT_EVENT,d),this.stat=y}w(L1,re);function sn(d){const y=Td();it(y,new L1(y,d))}ns.Ma="timingevent";function F1(d,y){re.call(this,ns.Ma,d),this.size=y}w(F1,re);function ec(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function tc(){this.g=!0}tc.prototype.xa=function(){this.g=!1};function DO(d,y,T,P,V,F){d.info(function(){if(d.g)if(F)for(var K="",We=F.split("&"),Nt=0;Nt<We.length;Nt++){var Me=We[Nt].split("=");if(1<Me.length){var $t=Me[0];Me=Me[1];var zt=$t.split("_");K=2<=zt.length&&zt[1]=="type"?K+($t+"="+Me+"&"):K+($t+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+y+`
`+T+`
`+K})}function jO(d,y,T,P,V,F,K){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+y+`
`+T+`
`+F+" "+K})}function na(d,y,T,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+VO(d,T)+(P?" "+P:"")})}function OO(d,y){d.info(function(){return"TIMEOUT: "+y})}tc.prototype.info=function(){};function VO(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var P=T[d];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Ji(T)}catch{return y}}var Ed={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},U1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dm;function Sd(){}w(Sd,de),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},Dm=new Sd;function Os(d,y,T,P){this.j=d,this.i=y,this.l=T,this.R=P||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B1}function B1(){this.i=null,this.g="",this.h=!1}var $1={},jm={};function Om(d,y,T){d.L=1,d.v=kd(rs(y)),d.m=T,d.P=!0,z1(d,null)}function z1(d,y){d.F=Date.now(),Cd(d),d.A=rs(d.v);var T=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),r_(T.i,"t",P),d.C=0,T=d.j.J,d.h=new B1,d.g=__(d.j,T?y:null,!d.m),0<d.O&&(d.M=new Nm(f(d.Y,d,d.g),d.O)),y=d.U,T=d.g,P=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(Jl[0]=V.toString()),V=Jl);for(var F=0;F<V.length;F++){var K=rn(T,V[F],P||y.handleEvent,!1,y.h||y);if(!K)break;y.g[K.key]=K}y=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Zl(),DO(d.i,d.u,d.A,d.l,d.R,d.m)}Os.prototype.ca=function(d){d=d.target;const y=this.M;y&&ss(d)==3?y.j():this.Y(d)},Os.prototype.Y=function(d){try{if(d==this.g)e:{const zt=ss(this.g);var y=this.g.Ba();const ia=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||u_(this.g)))){this.J||zt!=4||y==7||(y==8||0>=ia?Zl(3):Zl(2)),Vm(this);var T=this.g.Z();this.X=T;t:if(W1(this)){var P=u_(this.g);d="";var V=P.length,F=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),nc(this);var K="";break t}this.h.i=new a.TextDecoder}for(y=0;y<V;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(F&&y==V-1)});P.length=0,this.h.g+=d,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=T==200,jO(this.i,this.u,this.A,this.l,this.R,zt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Nt=this.g;if((We=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(We)){var Me=We;break t}}Me=null}if(T=Me)na(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lm(this,T);else{this.o=!1,this.s=3,sn(12),Zi(this),nc(this);break e}}if(this.P){T=!0;let Zn;for(;!this.J&&this.C<K.length;)if(Zn=LO(this,K),Zn==jm){zt==4&&(this.s=4,sn(14),T=!1),na(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==$1){this.s=4,sn(15),na(this.i,this.l,K,"[Invalid Chunk]"),T=!1;break}else na(this.i,this.l,Zn,null),Lm(this,Zn);if(W1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||K.length!=0||this.h.h||(this.s=1,sn(16),T=!1),this.o=this.o&&T,!T)na(this.i,this.l,K,"[Invalid Chunked Response]"),Zi(this),nc(this);else if(0<K.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Wm($t),$t.M=!0,sn(11))}}else na(this.i,this.l,K,null),Lm(this,K);zt==4&&Zi(this),this.o&&!this.J&&(zt==4?y_(this.j,this):(this.o=!1,Cd(this)))}else tV(this.g),T==400&&0<K.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Zi(this),nc(this)}}}catch{}finally{}};function W1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function LO(d,y){var T=d.C,P=y.indexOf(`
`,T);return P==-1?jm:(T=Number(y.substring(T,P)),isNaN(T)?$1:(P+=1,P+T>y.length?jm:(y=y.slice(P,P+T),d.C=P+T,y)))}Os.prototype.cancel=function(){this.J=!0,Zi(this)};function Cd(d){d.S=Date.now()+d.I,H1(d,d.I)}function H1(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ec(f(d.ba,d),y)}function Vm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Os.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(OO(this.i,this.A),this.L!=2&&(Zl(),sn(17)),Zi(this),this.s=2,nc(this)):H1(this,this.S-d)};function nc(d){d.j.G==0||d.J||y_(d.j,d)}function Zi(d){Vm(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,bd(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Lm(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||Fm(T.h,d))){if(!d.K&&Fm(T.h,d)&&T.G==3){try{var P=T.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)jd(T),Md(T);else break e;zm(T),sn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=ec(f(T.Za,T),6e3));if(1>=K1(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else to(T,11)}else if((d.K||T.g==d)&&jd(T),!x(y))for(V=T.Da.g.parse(y),y=0;y<V.length;y++){let Me=V[y];if(T.T=Me[0],Me=Me[1],T.G==2)if(Me[0]=="c"){T.K=Me[1],T.ia=Me[2];const $t=Me[3];$t!=null&&(T.la=$t,T.j.info("VER="+T.la));const zt=Me[4];zt!=null&&(T.Aa=zt,T.j.info("SVER="+T.Aa));const ia=Me[5];ia!=null&&typeof ia=="number"&&0<ia&&(P=1.5*ia,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Zn=d.g;if(Zn){const Vd=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vd){var F=P.h;F.g||Vd.indexOf("spdy")==-1&&Vd.indexOf("quic")==-1&&Vd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Um(F,F.h),F.h=null))}if(P.D){const Hm=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hm&&(P.ya=Hm,Ge(P.I,P.D,Hm))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var K=d;if(P.qa=x_(P,P.J?P.ia:null,P.W),K.K){Y1(P.h,K);var We=K,Nt=P.L;Nt&&(We.I=Nt),We.B&&(Vm(We),Cd(We)),P.g=K}else m_(P);0<T.i.length&&Dd(T)}else Me[0]!="stop"&&Me[0]!="close"||to(T,7);else T.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?to(T,7):$m(T):Me[0]!="noop"&&T.l&&T.l.ta(Me),T.v=0)}}Zl(4)}catch{}}var FO=class{constructor(d,y){this.g=d,this.map=y}};function q1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function G1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function K1(d){return d.h?1:d.g?d.g.size:0}function Fm(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Um(d,y){d.g?d.g.add(y):d.h=y}function Y1(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}q1.prototype.cancel=function(){if(this.i=Q1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Q1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return g(d.i)}function UO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],T=d.length,P=0;P<T;P++)y.push(d[P]);return y}y=[],T=0;for(P in d)y[T++]=d[P];return y}function BO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const P in d)y[T++]=P;return y}}}function X1(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=BO(d),P=UO(d),V=P.length,F=0;F<V;F++)y.call(void 0,P[F],T&&T[F],d)}var J1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $O(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var P=d[T].indexOf("="),V=null;if(0<=P){var F=d[T].substring(0,P);V=d[T].substring(P+1)}else F=d[T];y(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function eo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof eo){this.h=d.h,Id(this,d.j),this.o=d.o,this.g=d.g,Pd(this,d.s),this.l=d.l;var y=d.i,T=new ic;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Z1(this,T),this.m=d.m}else d&&(y=String(d).match(J1))?(this.h=!1,Id(this,y[1]||"",!0),this.o=rc(y[2]||""),this.g=rc(y[3]||"",!0),Pd(this,y[4]),this.l=rc(y[5]||"",!0),Z1(this,y[6]||"",!0),this.m=rc(y[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}eo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(sc(y,e_,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(sc(y,e_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(sc(T,T.charAt(0)=="/"?HO:WO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",sc(T,GO)),d.join("")};function rs(d){return new eo(d)}function Id(d,y,T){d.j=T?rc(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Pd(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Z1(d,y,T){y instanceof ic?(d.i=y,KO(d.i,d.h)):(T||(y=sc(y,qO)),d.i=new ic(y,d.h))}function Ge(d,y,T){d.i.set(y,T)}function kd(d){return Ge(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function rc(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function sc(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,zO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function zO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var e_=/[#\/\?@]/g,WO=/[#\?:]/g,HO=/[#\?]/g,qO=/[#\?@]/g,GO=/#/g;function ic(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Vs(d){d.g||(d.g=new Map,d.h=0,d.i&&$O(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=ic.prototype,t.add=function(d,y){Vs(this),this.i=null,d=ra(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function t_(d,y){Vs(d),y=ra(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function n_(d,y){return Vs(d),y=ra(d,y),d.g.has(y)}t.forEach=function(d,y){Vs(this),this.g.forEach(function(T,P){T.forEach(function(V){d.call(y,V,P,this)},this)},this)},t.na=function(){Vs(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let P=0;P<y.length;P++){const V=d[P];for(let F=0;F<V.length;F++)T.push(y[P])}return T},t.V=function(d){Vs(this);let y=[];if(typeof d=="string")n_(this,d)&&(y=y.concat(this.g.get(ra(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return Vs(this),this.i=null,d=ra(this,d),n_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function r_(d,y,T){t_(d,y),0<T.length&&(d.i=null,d.g.set(ra(d,y),g(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var P=y[T];const F=encodeURIComponent(String(P)),K=this.V(P);for(P=0;P<K.length;P++){var V=F;K[P]!==""&&(V+="="+encodeURIComponent(String(K[P]))),d.push(V)}}return this.i=d.join("&")};function ra(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function KO(d,y){y&&!d.j&&(Vs(d),d.i=null,d.g.forEach(function(T,P){var V=P.toLowerCase();P!=V&&(t_(this,P),r_(this,V,T))},d)),d.j=y}function YO(d,y){const T=new tc;if(a.Image){const P=new Image;P.onload=m(Ls,T,"TestLoadImage: loaded",!0,y,P),P.onerror=m(Ls,T,"TestLoadImage: error",!1,y,P),P.onabort=m(Ls,T,"TestLoadImage: abort",!1,y,P),P.ontimeout=m(Ls,T,"TestLoadImage: timeout",!1,y,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function QO(d,y){const T=new tc,P=new AbortController,V=setTimeout(()=>{P.abort(),Ls(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(F=>{clearTimeout(V),F.ok?Ls(T,"TestPingServer: ok",!0,y):Ls(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),Ls(T,"TestPingServer: error",!1,y)})}function Ls(d,y,T,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(T)}catch{}}function XO(){this.g=new Mm}function JO(d,y,T){const P=T||"";try{X1(d,function(V,F){let K=V;c(V)&&(K=Ji(V)),y.push(P+F+"="+encodeURIComponent(K))})}catch(V){throw y.push(P+"type="+encodeURIComponent("_badmap")),V}}function Ad(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Ad,de),Ad.prototype.g=function(){return new Rd(this.l,this.j)},Ad.prototype.i=function(d){return function(){return d}}({});function Rd(d,y){gt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Rd,gt),t=Rd.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ac(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function s_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?oc(this):ac(this),this.readyState==3&&s_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,oc(this))},t.Qa=function(d){this.g&&(this.response=d,oc(this))},t.ga=function(){this.g&&oc(this)};function oc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ac(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function ac(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Rd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function i_(d){let y="";return j(d,function(T,P){y+=P,y+=":",y+=T,y+=`\r
`}),y}function Bm(d,y,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=i_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Ge(d,y,T))}function ot(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,gt);var ZO=/^https?$/i,eV=["POST","PUT"];t=ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dm.g(),this.v=this.o?Be(this.o):Be(Dm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(F){o_(this,F);return}if(d=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)T.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())T.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eV,y,void 0))||P||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of T)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c_(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){o_(this,F)}};function o_(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,a_(d),Nd(d)}function a_(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,it(this,"complete"),it(this,"abort"),Nd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nd(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l_(this):this.bb())},t.bb=function(){l_(this)};function l_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ss(d)!=4||d.Z()!=2)){if(d.u&&ss(d)==4)ts(d.Ea,0,d);else if(it(d,"readystatechange"),ss(d)==4){d.h=!1;try{const K=d.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var P;if(P=K===0){var V=String(d.D).match(J1)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!ZO.test(V?V.toLowerCase():"")}T=P}if(T)it(d,"complete"),it(d,"success");else{d.m=6;try{var F=2<ss(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",a_(d)}}finally{Nd(d)}}}}function Nd(d,y){if(d.g){c_(d);const T=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||it(d,"ready");try{T.onreadystatechange=P}catch{}}}function c_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ir(y)}};function u_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(d){const y={};d=(d.g&&2<=ss(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(x(d[P]))continue;var T=M(d[P]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=y[V]||[];y[V]=F,F.push(T)}C(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lc(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function d_(d){this.Aa=0,this.i=[],this.j=new tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lc("baseRetryDelayMs",5e3,d),this.cb=lc("retryDelaySeedMs",1e4,d),this.Wa=lc("forwardChannelMaxRetries",2,d),this.wa=lc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new q1(d&&d.concurrentRequestLimit),this.Da=new XO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=d_.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,P){sn(0),this.W=d,this.H=y||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=x_(this,null,this.W),Dd(this)};function $m(d){if(h_(d),d.G==3){var y=d.U++,T=rs(d.I);if(Ge(T,"SID",d.K),Ge(T,"RID",y),Ge(T,"TYPE","terminate"),cc(d,T),y=new Os(d,d.j,y),y.L=2,y.v=kd(rs(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=__(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Cd(y)}w_(d)}function Md(d){d.g&&(Wm(d),d.g.cancel(),d.g=null)}function h_(d){Md(d),d.u&&(a.clearTimeout(d.u),d.u=null),jd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Dd(d){if(!G1(d.h)&&!d.s){d.s=!0;var y=d.Ga;X||G(),O||(X(),O=!0),L.add(y,d),d.B=0}}function nV(d,y){return K1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ec(f(d.Ga,d,y),v_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Os(this,this.j,d);let F=this.o;if(this.S&&(F?(F=S(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=p_(this,V,y),T=rs(this.I),Ge(T,"RID",d),Ge(T,"CVER",22),this.D&&Ge(T,"X-HTTP-Session-Id",this.D),cc(this,T),F&&(this.O?y="headers="+encodeURIComponent(String(i_(F)))+"&"+y:this.m&&Bm(T,this.m,F)),Um(this.h,V),this.Ua&&Ge(T,"TYPE","init"),this.P?(Ge(T,"$req",y),Ge(T,"SID","null"),V.T=!0,Om(V,T,null)):Om(V,T,y),this.G=2}}else this.G==3&&(d?f_(this,d):this.i.length==0||G1(this.h)||f_(this))};function f_(d,y){var T;y?T=y.l:T=d.U++;const P=rs(d.I);Ge(P,"SID",d.K),Ge(P,"RID",T),Ge(P,"AID",d.T),cc(d,P),d.m&&d.o&&Bm(P,d.m,d.o),T=new Os(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=p_(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Um(d.h,T),Om(T,P,y)}function cc(d,y){d.H&&j(d.H,function(T,P){Ge(y,P,T)}),d.l&&X1({},function(T,P){Ge(y,P,T)})}function p_(d,y,T){T=Math.min(d.i.length,T);var P=d.l?f(d.l.Na,d.l,d):null;e:{var V=d.i;let F=-1;for(;;){const K=["count="+T];F==-1?0<T?(F=V[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let We=!0;for(let Nt=0;Nt<T;Nt++){let Me=V[Nt].g;const $t=V[Nt].map;if(Me-=F,0>Me)F=Math.max(0,V[Nt].g-100),We=!1;else try{JO($t,K,"req"+Me+"_")}catch{P&&P($t)}}if(We){P=K.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,P}function m_(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;X||G(),O||(X(),O=!0),L.add(y,d),d.v=0}}function zm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ec(f(d.Fa,d),v_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,g_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ec(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Md(this),g_(this))};function Wm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function g_(d){d.g=new Os(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=rs(d.qa);Ge(y,"RID","rpc"),Ge(y,"SID",d.K),Ge(y,"AID",d.T),Ge(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ge(y,"TO",d.ja),Ge(y,"TYPE","xmlhttp"),cc(d,y),d.m&&d.o&&Bm(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=kd(rs(y)),T.m=null,T.P=!0,z1(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Md(this),zm(this),sn(19))};function jd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function y_(d,y){var T=null;if(d.g==y){jd(d),Wm(d),d.g=null;var P=2}else if(Fm(d.h,y))T=y.D,Y1(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var V=d.B;P=Td(),it(P,new F1(P,T)),Dd(d)}else m_(d);else if(V=y.s,V==3||V==0&&0<y.X||!(P==1&&nV(d,y)||P==2&&zm(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),V){case 1:to(d,5);break;case 4:to(d,10);break;case 3:to(d,6);break;default:to(d,2)}}}function v_(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function to(d,y){if(d.j.info("Error code "+y),y==2){var T=f(d.fb,d),P=d.Xa;const V=!P;P=new eo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Id(P,"https"),kd(P),V?YO(P.toString(),T):QO(P.toString(),T)}else sn(2);d.G=0,d.l&&d.l.sa(y),w_(d),h_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function w_(d){if(d.G=0,d.ka=[],d.l){const y=Q1(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function x_(d,y,T){var P=T instanceof eo?rs(T):new eo(T);if(P.g!="")y&&(P.g=y+"."+P.g),Pd(P,P.s);else{var V=a.location;P=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;var F=new eo(null);P&&Id(F,P),y&&(F.g=y),V&&Pd(F,V),T&&(F.l=T),P=F}return T=d.D,y=d.ya,T&&y&&Ge(P,T,y),Ge(P,"VER",d.la),cc(d,P),P}function __(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ot(new Ad({eb:T})):new ot(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b_(){}t=b_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Od(){}Od.prototype.g=function(d,y){return new En(d,y)};function En(d,y){gt.call(this),this.g=new d_(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!x(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new sa(this)}w(En,gt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){$m(this.g)},En.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Ji(d),d=T);y.i.push(new FO(y.Ya++,d)),y.G==3&&Dd(y)},En.prototype.N=function(){this.g.l=null,delete this.j,$m(this.g),delete this.g,En.aa.N.call(this)};function T_(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(T_,pn);function E_(){js.call(this),this.status=1}w(E_,js);function sa(d){this.g=d}w(sa,b_),sa.prototype.ua=function(){it(this.g,"a")},sa.prototype.ta=function(d){it(this.g,new T_(d))},sa.prototype.sa=function(d){it(this.g,new E_)},sa.prototype.ra=function(){it(this.g,"b")},Od.prototype.createWebChannel=Od.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,uN=function(){return new Od},cN=function(){return Td()},lN=ns,kv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ed.NO_ERROR=0,Ed.TIMEOUT=8,Ed.HTTP_ERROR=6,Uh=Ed,U1.COMPLETE="complete",aN=U1,Le.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ic=Le,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,oN=ot}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",iE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new qp("@firebase/firestore");function ha(){return Uo.logLevel}function Z(t,...e){if(Uo.logLevel<=Se.DEBUG){const n=e.map(ax);Uo.debug(`Firestore (${Ol}): ${t}`,...n)}}function Cs(t,...e){if(Uo.logLevel<=Se.ERROR){const n=e.map(ax);Uo.error(`Firestore (${Ol}): ${t}`,...n)}}function Ni(t,...e){if(Uo.logLevel<=Se.WARN){const n=e.map(ax);Uo.warn(`Firestore (${Ol}): ${t}`,...n)}}function ax(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dN(t,r,n)}function dN(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||dN(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class n7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r7{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new hN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class s7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Av(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return we(r,s);{const i=fN(),o=l7(i.encode(aE(t,n)),i.encode(aE(e,n)));return o!==0?o:we(r,s)}}n+=r>65535?2:1}return we(t.length,e.length)}function aE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function l7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return we(t[n],e[n]);return we(t.length,e.length)}function ml(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ar.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),s=Ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class He extends Ar{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const c7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Ar{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return c7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Ot([lE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(He.fromString(e))}static fromName(e){return new ie(He.fromString(e).popFirst(5))}static empty(){return new ie(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u7(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cE(t){if(!ie.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uE(t){if(ie.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function ld(t,e){if(!mN(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,hE=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hE);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ld(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:_t("string",Ae._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ae(0,0))}static max(){return new he(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function d7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Mi(s,ie.empty(),e)}function h7(t){return new Mi(t.readTime,t.key,Ru)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(he.min(),ie.empty(),Ru)}static max(){return new Mi(he.max(),ie.empty(),Ru)}}function f7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==p7)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function g7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Zp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=-1;function em(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function y7(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="";function v7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fE(e)),e=w7(t.get(n),e);return fE(e)}function w7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case gN:n+="";break;default:n+=i}}return n}function fE(t){return t+gN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new St(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vN("Invalid base64 string: "+i):i}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const x7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=x7.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="server_timestamp",xN="__type__",_N="__previous_value__",bN="__local_write_time__";function ux(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xN])===null||n===void 0?void 0:n.stringValue)===wN}function tm(t){const e=t.mapValue.fields[_N];return ux(e)?tm(e):e}function Nu(t){const e=Di(t.mapValue.fields[bN].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Hf="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||Hf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="__type__",EN="__max__",uh={mapValue:{fields:{__type__:{stringValue:EN}}}},SN="__vector__",qf="value";function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ux(t)?4:T7(t)?9007199254740991:b7(t)?10:11:oe(28295,{value:t})}function Xr(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Di(s.timestampValue),a=Di(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ji(s.bytesValue).isEqual(ji(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?Wf(o)===Wf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(pE(o)!==pE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Du(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gE(t.timestampValue,e.timestampValue);case 4:return gE(Nu(t),Nu(e));case 5:return Av(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ji(i),l=ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=we(a[c],l[c]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(dt(i.latitude),dt(o.latitude));return a!==0?a:we(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const p=i.fields||{},f=o.fields||{},m=(a=p[qf])===null||a===void 0?void 0:a.arrayValue,w=(l=f[qf])===null||l===void 0?void 0:l.arrayValue,g=we(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:yE(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uh.mapValue&&o===uh.mapValue)return 0;if(i===uh.mapValue)return 1;if(o===uh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=Av(l[p],h[p]);if(f!==0)return f;const m=gl(a[l[p]],c[h[p]]);if(m!==0)return m}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{le:n})}}function gE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Di(t),r=Di(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function yE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gl(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function yl(t){return Rv(t)}function Rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rv(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Bh(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Bh(e):16;case 5:return 2*t.stringValue.length;case 6:return ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Bh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return qi(r.fields,(i,o)=>{s+=i.length+Bh(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function vE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nv(t){return!!t&&"integerValue"in t}function dx(t){return!!t&&"arrayValue"in t}function wE(t){return!!t&&"nullValue"in t}function xE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $h(t){return!!t&&"mapValue"in t}function b7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TN])===null||n===void 0?void 0:n.stringValue)===SN}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Kc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yn(Kc(this.value))}}function CN(t){const e=[];return qi(t.fields,(n,r)=>{const s=new Ot([n]);if($h(r)){const i=CN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,he.min(),he.min(),he.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Xt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Xt(e,2,n,he.min(),he.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,he.min(),he.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.position=e,this.inclusive=n}}function _E(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=gl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function E7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{}class xt extends IN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C7(e,n,r):n==="array-contains"?new k7(e,r):n==="in"?new A7(e,r):n==="not-in"?new R7(e,r):n==="array-contains-any"?new N7(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new I7(e,r):new P7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends IN{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new _r(e,n)}matches(e){return PN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function PN(t){return t.op==="and"}function kN(t){return S7(t)&&PN(t)}function S7(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Mv(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(kN(t))return t.filters.map(e=>Mv(e)).join(",");{const e=t.filters.map(n=>Mv(n)).join(",");return`${t.op}(${e})`}}function AN(t,e){return t instanceof xt?function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&Xr(r.value,s.value)}(t,e):t instanceof _r?function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&AN(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function RN(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(RN).join(" ,")+"}"}(t):"Filter"}class C7 extends xt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class I7 extends xt{constructor(e,n){super(e,"in",n),this.keys=NN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P7 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=NN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class k7 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dx(n)&&Du(n.arrayValue,this.value)}}class A7 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class R7 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class N7 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function TE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new M7(t,e,n,r,s,i,o)}function hx(t){const e=fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yl(r)).join(",")),e.Pe=n}return e.Pe}function fx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function Dv(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function D7(t,e,n,r,s,i,o,a){return new Fl(t,e,n,r,s,i,o,a)}function px(t){return new Fl(t)}function EE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MN(t){return t.collectionGroup!==null}function Yc(t){const e=fe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new ju(i,r))}),n.has(Ot.keyField().canonicalString())||e.Te.push(new ju(Ot.keyField(),r))}return e.Te}function Ur(t){const e=fe(t);return e.Ie||(e.Ie=j7(e,Yc(t))),e.Ie}function j7(t,e){if(t.limitType==="F")return TE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ju(s.field,i)});const n=t.endAt?new Gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gf(t.startAt.position,t.startAt.inclusive):null;return TE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return fx(Ur(t),Ur(e))&&t.limitType===e.limitType}function DN(t){return`${hx(Ur(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>RN(s)).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>yl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>yl(s)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=_E(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yc(r),s)||r.endAt&&!function(o,a,l){const c=_E(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yc(r),s))}(t,e)}function O7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jN(t){return(e,n)=>{let r=!1;for(const s of Yc(t)){const i=V7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function V7(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gl(l,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=new st(ie.comparator);function Is(){return L7}const ON=new st(ie.comparator);function Pc(...t){let e=ON;for(const n of t)e=e.insert(n.key,n);return e}function VN(t){let e=ON;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return Qc()}function LN(){return Qc()}function Qc(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const F7=new st(ie.comparator),U7=new St(ie.comparator);function Ce(...t){let e=U7;for(const n of t)e=e.add(n);return e}const B7=new St(we);function $7(){return B7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function FN(t){return{integerValue:""+t}}function z7(t,e){return y7(e)?FN(e):mx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function W7(t,e,n){return t instanceof Kf?function(s,i){const o={fields:{[xN]:{stringValue:wN},[bN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ux(i)&&(i=tm(i)),i&&(o.fields[_N]=i),{mapValue:o}}(n,e):t instanceof vl?BN(t,e):t instanceof Ou?$N(t,e):function(s,i){const o=UN(s,i),a=SE(o)+SE(s.Ee);return Nv(o)&&Nv(s.Ee)?FN(a):mx(s.serializer,a)}(t,e)}function H7(t,e,n){return t instanceof vl?BN(t,e):t instanceof Ou?$N(t,e):n}function UN(t,e){return t instanceof Yf?function(r){return Nv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Kf extends sm{}class vl extends sm{constructor(e){super(),this.elements=e}}function BN(t,e){const n=zN(e);for(const r of t.elements)n.some(s=>Xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends sm{constructor(e){super(),this.elements=e}}function $N(t,e){let n=zN(e);for(const r of t.elements)n=n.filter(s=>!Xr(s,r));return{arrayValue:{values:n}}}class Yf extends sm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function SE(t){return dt(t.integerValue||t.doubleValue)}function zN(t){return dx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n){this.field=e,this.transform=n}}function G7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof vl&&s instanceof vl||r instanceof Ou&&s instanceof Ou?ml(r.elements,s.elements,Xr):r instanceof Yf&&s instanceof Yf?Xr(r.Ee,s.Ee):r instanceof Kf&&s instanceof Kf}(t.transform,e.transform)}class K7{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function WN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qN(t.key,gr.none()):new cd(t.key,t.data,gr.none());{const n=t.data,r=yn.empty();let s=new St(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gi(t.key,r,new Rn(s.toArray()),gr.none())}}function Y7(t,e,n){t instanceof cd?function(s,i,o){const a=s.value.clone(),l=IE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(s,i,o){if(!zh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=IE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(HN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xc(t,e,n,r){return t instanceof cd?function(i,o,a,l){if(!zh(i.precondition,o))return a;const c=i.value.clone(),h=PE(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(i,o,a,l){if(!zh(i.precondition,o))return a;const c=PE(i.fieldTransforms,l,o),h=o.data;return h.setAll(HN(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return zh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Q7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=UN(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ml(r,s,(i,o)=>G7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends im{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gi extends im{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function HN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IE(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,H7(o,a,n[s]))}return r}function PE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,W7(i,o,e))}return r}class qN extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X7 extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Y7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=WN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,r)=>CE(n,r))&&ml(this.baseMutations,e.baseMutations,(n,r)=>CE(n,r))}}class gx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return F7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,ke;function tW(t){switch(t){case U.OK:return oe(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function GN(t){if(t===void 0)return Cs("GRPC error has no .code"),U.UNKNOWN;switch(t){case yt.OK:return U.OK;case yt.CANCELLED:return U.CANCELLED;case yt.UNKNOWN:return U.UNKNOWN;case yt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case yt.INTERNAL:return U.INTERNAL;case yt.UNAVAILABLE:return U.UNAVAILABLE;case yt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case yt.NOT_FOUND:return U.NOT_FOUND;case yt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case yt.ABORTED:return U.ABORTED;case yt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case yt.DATA_LOSS:return U.DATA_LOSS;default:return oe(39323,{code:t})}}(ke=yt||(yt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=new _i([4294967295,4294967295],0);function kE(t){const e=fN().encode(t),n=new iN;return n.update(e),new Uint8Array(n.digest())}function AE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _i([n,r],0),new _i([s,i],0)]}class yx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(r<0)throw new kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=_i.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(_i.fromNumber(r)));return s.compare(nW)===1&&(s=new _i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=kE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=kE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(he.min(),s,new st(we),Is(),Ce())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class KN{constructor(e,n){this.targetId=e,this.De=n}}class YN{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class RE{constructor(){this.ve=0,this.Ce=NE(),this.Fe=Ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ce(),n=Ce(),r=Ce();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new ud(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=NE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rW{constructor(e){this.We=e,this.Ge=new Map,this.ze=Is(),this.je=dh(),this.Je=dh(),this.He=new st(we)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Dv(i))if(r===0){const o=new ie(i.path);this.Xe(n,o,Xt.newNoDocument(o,he.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(l){if(l instanceof vN)return Ni("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yx(o,s,i)}catch(l){return Ni(l instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Dv(a.target)){const l=new ie(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Xt.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=Ce();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new om(e,n,this.He,this.ze,r);return this.ze=Is(),this.je=dh(),this.Je=dh(),this.He=new st(we),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new RE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new St(we),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new St(we),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new RE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function dh(){return new st(ie.comparator)}function NE(){return new st(ie.comparator)}const sW={asc:"ASCENDING",desc:"DESCENDING"},iW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oW={and:"AND",or:"OR"};class aW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vv(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lW(t,e){return Qf(t,e.toTimestamp())}function Br(t){return Ve(!!t,49232),he.fromTimestamp(function(n){const r=Di(n);return new Ae(r.seconds,r.nanos)}(t))}function vx(t,e){return Lv(t,e).canonicalString()}function Lv(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XN(t){const e=He.fromString(t);return Ve(n2(e),10190,{key:e.toString()}),e}function Fv(t,e){return vx(t.databaseId,e.path)}function Vg(t,e){const n=XN(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(ZN(n))}function JN(t,e){return vx(t.databaseId,e)}function cW(t){const e=XN(t);return e.length===4?He.emptyPath():ZN(e)}function Uv(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZN(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ME(t,e,n){return{name:Fv(t,e),fields:n.value.mapValue.fields}}function uW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Ut.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:GN(c.code);return new Q(h,c.message||"")}(o);n=new YN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vg(t,r.document.name),i=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):he.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Wh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vg(t,r.document),i=r.readTime?Br(r.readTime):he.min(),o=Xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Wh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vg(t,r.document),i=r.removedTargetIds||[];n=new Wh([],i,s,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new eW(s,i),a=r.targetId;n=new KN(a,o)}}return n}function dW(t,e){let n;if(e instanceof cd)n={update:ME(t,e.key,e.value)};else if(e instanceof qN)n={delete:Fv(t,e.key)};else if(e instanceof Gi)n={update:ME(t,e.key,e.data),updateMask:xW(e.fieldMask)};else{if(!(e instanceof X7))return oe(16599,{Rt:e.type});n={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Kf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yf)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:lW(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function hW(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Br(s.updateTime):Br(i);return o.isEqual(he.min())&&(o=Br(i)),new K7(o,s.transformResults||[])}(n,e))):[]}function fW(t,e){return{documents:[JN(t,e.path)]}}function pW(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JN(t,s);const i=function(c){if(c.length!==0)return t2(_r.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:pa(f.field),direction:yW(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Vv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function mW(t){let e=cW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=e2(p);return f instanceof _r&&kN(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(w){return new ju(ma(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,em(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,m=p.values||[];return new Gf(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,m=p.values||[];return new Gf(m,f)}(n.endAt)),D7(e,s,o,i,a,"F",l,c)}function gW(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ma(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ma(n.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ma(n.unaryFilter.field);return xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ma(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return xt.create(ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>e2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function yW(t){return sW[t]}function vW(t){return iW[t]}function wW(t){return oW[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ma(t){return Ot.fromServerFormat(t.fieldPath)}function t2(t){return t instanceof xt?function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:vW(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(s=>t2(s));return r.length===1?r[0]:{compositeFilter:{op:wW(n.op),filters:r}}}(t):oe(54877,{filter:t})}function xW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.gt=e}}function bW(t){const e=mW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(){this.Dn=new EW}addToCollectionParentIndex(e,n){return this.Dn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Mi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class EW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r2=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(r2,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new wl(0)}static ur(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",SW=1048576;function OE([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class CW{constructor(e){this.Tr=e,this.buffer=new St(OE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Z(jE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?Z(jE,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Rr(3e5)})}}class PW{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Zp.ue);const r=new CW(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(DE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),ha()<=Se.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function kW(t,e){return new PW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xc(r.mutation,s,Rn.empty(),Ae.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=po();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Is();const o=Qc(),a=function(){return Qc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Gi)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Xc(h.mutation,c,h.mutation.getFieldMask(),Ae.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new RW(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qc();let s=new st((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const p=(s.get(a.batchId)||Ce()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=LN();h.forEach(f=>{if(!i.has(f)){const m=WN(n.get(f),r.get(f));m!==null&&p.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(po());let a=Ru,l=i;return o.next(c=>B.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ce())).next(h=>({batchId:a,changes:VN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Pc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(p,f){return new Fl(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let a=Pc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Xc(h.mutation,c,Rn.empty(),Ae.now()),rm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return B.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:bW(s.bundledQuery),readTime:Br(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(){this.overlays=new st(ie.comparator),this.kr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=po();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=po(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new st((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=po(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=po(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return B.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z7(n,r));let i=this.kr.get(n);i===void 0&&(i=Ce(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.qr=new St(It.Qr),this.$r=new St(It.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new It(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ie(new He([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ie(new He([])),r=new It(n,e),s=new It(n,e+1);let i=Ce();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ie.comparator(e.key,n.key)||we(e.Hr,n.Hr)}static Ur(e,n){return we(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new St(It.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?cx:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(we);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new It(new ie(i),0);let a=new St(we);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),B.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new It(n,0),s=this.Yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.ni=e,this.docs=function(){return new st(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Is();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Xt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Is();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||f7(h7(h),r)<=0||(s.has(h.key)||rm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ri(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LW(this)}getSize(e){return B.resolve(this.size)}}class LW extends AW{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.persistence=e,this.ii=new Qo(n=>hx(n),fx),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new wx,this.targetCount=0,this._i=wl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),B.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.hr(n),B.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.ai={},this.overlays={},this.ui=new Zp(0),this.ci=!1,this.ci=!0,this.li=new jW,this.referenceDelegate=e(this),this.hi=new FW(this),this.indexManager=new TW,this.remoteDocumentCache=function(s){return new VW(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new _W(n),this.Ti=new MW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new OW(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new UW(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class UW extends m7{constructor(e){super(),this.currentSequenceNumber=e}}class xx{constructor(e){this.persistence=e,this.Ai=new wx,this.Ri=null}static Vi(e){return new xx(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{const s=ie.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return B.or([()=>B.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xf{constructor(e,n){this.persistence=e,this.gi=new Qo(r=>v7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kW(this,n)}static Vi(e,n){return new Xf(e,n)}Ii(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return B.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bh(e.data.value)),n}Sr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _x(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return hU()?8:g7(nn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BW;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ha()<=Se.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(ha()<=Se.DEBUG&&Z("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ha()<=Se.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):B.resolve())}ps(e,n){if(EE(n))return B.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ov(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Ov(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return EE(n)||s.isEqual(he.min())?B.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?B.resolve(null):(ha()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fa(n)),this.vs(e,o,n,d7(s,Ru)).next(a=>a))})}bs(e,n){let r=new St(jN(e));return n.forEach((s,i)=>{rm(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return ha()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",fa(n)),this.gs.getDocumentsMatchingQuery(e,n,Mi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="LocalStore",zW=3e8;class WW{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new st(we),this.Ms=new Qo(i=>hx(i),fx),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NW(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function HW(t,e,n,r){return new WW(t,e,n,r)}async function i2(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ce();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function qW(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,f=p.keys();let m=B.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(g=>{const b=c.docVersions.get(w);Ve(b!==null,48541),g.version.compareTo(b)<0&&(p.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),h.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function o2(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function GW(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,p)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ut.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(p,m),function(g,b,_){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=zW?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,h)&&a.push(n.hi.updateTargetData(i,m))});let l=Is(),c=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(KW(i,o,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(he.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function KW(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Is();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(bx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function YW(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QW(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Bv(t,e,n){const r=fe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ll(o))throw o;Z(bx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function VE(t,e,n){const r=fe(t);let s=he.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const p=fe(l),f=p.Ms.get(h);return f!==void 0?B.resolve(p.Fs.get(f)):p.hi.getTargetData(c,h)}(r,o,Ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ce())).next(a=>(XW(r,O7(e),a),{documents:a,qs:i})))}function XW(t,e,n){let r=t.xs.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class LE{constructor(){this.activeTargetIds=$7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JW{constructor(){this.Fo=new LE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new LE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class UE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Z(FE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Z(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function $v(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",eH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tH{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Hf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=$v(),a=this.Go(e,n.toUriEncodedString());Z(Lg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),h=Ml(c);return this.jo(e,a,l,r,h).then(p=>(Z(Lg,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ni(Lg,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=eH[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class rH extends tH{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=$v();return new Promise((a,l)=>{const c=new oN;c.setWithCredentials(!0),c.listenOnce(aN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Uh.NO_ERROR:const p=c.getResponseJson();Z(Gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Uh.TIMEOUT:Z(Gt,`RPC '${e}' ${o} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const f=c.getStatus();if(Z(Gt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const g=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(w.status);l(new Q(g,w.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Z(Gt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Gt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}P_(e,n,r){const s=$v(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uN(),a=cN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(Gt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.T_(p);let f=!1,m=!1;const w=new nH({Ho:b=>{m?Z(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Z(Gt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),Z(Gt,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Yo:()=>p.close()}),g=(b,_,x)=>{b.listen(_,E=>{try{x(E)}catch(k){setTimeout(()=>{throw k},0)}})};return g(p,Ic.EventType.OPEN,()=>{m||(Z(Gt,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),g(p,Ic.EventType.CLOSE,()=>{m||(m=!0,Z(Gt,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(p))}),g(p,Ic.EventType.ERROR,b=>{m||(m=!0,Ni(Gt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),w.__(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),g(p,Ic.EventType.MESSAGE,b=>{var _;if(!m){const x=b.data[0];Ve(!!x,16349);const E=x,k=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(k){Z(Gt,`RPC '${e}' stream ${s} received error:`,k);const R=k.status;let j=function(I){const A=yt[I];if(A!==void 0)return GN(A)}(R),C=k.message;j===void 0&&(j=U.INTERNAL,C="Unknown error status: "+R+" with message "+k.message),m=!0,w.__(new Q(j,C)),p.close()}else Z(Gt,`RPC '${e}' stream ${s} received:`,x),w.a_(x)}}),g(a,lN.STAT_EVENT,b=>{b.stat===kv.PROXY?Z(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===kv.NOPROXY&&Z(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new aW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class l2{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new a2(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Z(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Z(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sH extends l2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=uW(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Br(o.readTime):he.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Uv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dv(l)?{documents:fW(i,l)}:{query:pW(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QN(i,o.resumeToken);const c=Vv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Qf(i,o.snapshotVersion.toTimestamp());const c=Vv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=gW(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Uv(this.serializer),n.removeTarget=e,this.k_(n)}}class iH extends l2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hW(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Uv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dW(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{}class aH extends oH{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Lv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Lv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class lH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Cs(n),this._a=!1):Z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class cH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Xo(this)&&(Z(Bo,"Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.Ia.add(4),await dd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await lm(c)}(this))})}),this.Aa=new lH(r,s)}}async function lm(t){if(Xo(t))for(const e of t.da)await e(!0)}async function dd(t){for(const e of t.da)await e(!1)}function c2(t,e){const n=fe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Cx(n)?Sx(n):Ul(n).x_()&&Ex(n,e))}function Tx(t,e){const n=fe(t),r=Ul(n);n.Ta.delete(e),r.x_()&&u2(n,e),n.Ta.size===0&&(r.x_()?r.B_():Xo(n)&&n.Aa.set("Unknown"))}function Ex(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).H_(e)}function u2(t,e){t.Ra.$e(e),Ul(t).Y_(e)}function Sx(t){t.Ra=new rW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Aa.aa()}function Cx(t){return Xo(t)&&!Ul(t).M_()&&t.Ta.size>0}function Xo(t){return fe(t).Ia.size===0}function d2(t){t.Ra=void 0}async function uH(t){t.Aa.set("Online")}async function dH(t){t.Ta.forEach((e,n)=>{Ex(t,e)})}async function hH(t,e){d2(t),Cx(t)?(t.Aa.la(e),Sx(t)):t.Aa.set("Unknown")}async function fH(t,e,n){if(t.Aa.set("Online"),e instanceof YN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){Z(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jf(t,r)}else if(e instanceof Wh?t.Ra.Ye(e):e instanceof KN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(he.min()))try{const r=await o2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ta.get(c);h&&i.Ta.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ta.get(l);if(!h)return;i.Ta.set(l,h.withResumeToken(Ut.EMPTY_BYTE_STRING,h.snapshotVersion)),u2(i,l);const p=new ci(h.target,l,c,h.sequenceNumber);Ex(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Bo,"Failed to raise snapshot:",r),await Jf(t,r)}}async function Jf(t,e,n){if(!Ll(e))throw e;t.Ia.add(1),await dd(t),t.Aa.set("Offline"),n||(n=()=>o2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Bo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await lm(t)})}function h2(t,e){return e().catch(n=>Jf(t,n,e))}async function cm(t){const e=fe(t),n=Vi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cx;for(;pH(e);)try{const s=await YW(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,mH(e,s)}catch(s){await Jf(e,s)}f2(e)&&p2(e)}function pH(t){return Xo(t)&&t.Pa.length<10}function mH(t,e){t.Pa.push(e);const n=Vi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function f2(t){return Xo(t)&&!Vi(t).M_()&&t.Pa.length>0}function p2(t){Vi(t).start()}async function gH(t){Vi(t).na()}async function yH(t){const e=Vi(t);for(const n of t.Pa)e.X_(n.mutations)}async function vH(t,e,n){const r=t.Pa.shift(),s=gx.from(r,e,n);await h2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cm(t)}async function wH(t,e){e&&Vi(t).Z_&&await async function(r,s){if(function(o){return tW(o)&&o!==U.ABORTED}(s.code)){const i=r.Pa.shift();Vi(r).N_(),await h2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cm(r)}}(t,e),f2(t)&&p2(t)}async function $E(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Z(Bo,"RemoteStore received new credentials");const r=Xo(n);n.Ia.add(3),await dd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await lm(n)}async function xH(t,e){const n=fe(t);e?(n.Ia.delete(2),await lm(n)):e||(n.Ia.add(2),await dd(n),n.Aa.set("Unknown"))}function Ul(t){return t.Va||(t.Va=function(n,r,s){const i=fe(n);return i.ia(),new sH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:uH.bind(null,t),e_:dH.bind(null,t),n_:hH.bind(null,t),J_:fH.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Cx(t)?Sx(t):t.Aa.set("Unknown")):(await t.Va.stop(),d2(t))})),t.Va}function Vi(t){return t.ma||(t.ma=function(n,r,s){const i=fe(n);return i.ia(),new iH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:gH.bind(null,t),n_:wH.bind(null,t),ea:yH.bind(null,t),ta:vH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await cm(t)):(await t.ma.stop(),t.Pa.length>0&&(Z(Bo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ix(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Px(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Ll(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.fa=new st(ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class xl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xl(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class bH{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=WE(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function WE(){return new Qo(t=>DN(t),nm)}async function m2(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new _H,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Px(o,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&kx(n)}async function g2(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TH(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&kx(n)}function EH(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function kx(t){t.Da.forEach(e=>{e.next()})}var zv,HE;(HE=zv||(zv={})).Fa="default",HE.Cache="cache";class y2{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.key=e}}class w2{constructor(e){this.key=e}}class SH{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ce(),this.mutatedKeys=Ce(),this.Xa=jN(e),this.eu=new qa(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new zE,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),m=rm(this.query,p)?p:null,w=!!f&&this.mutatedKeys.has(f.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?w!==g&&(r.track({type:3,doc:m}),b=!0):this.iu(f,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,p)=>function(m,w){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:b})}};return g(m)-g(w)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new xl(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new w2(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new v2(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ce();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return xl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ax="SyncEngine";class CH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IH{constructor(e){this.key=e,this.lu=!1}}class PH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Qo(a=>DN(a),nm),this.Tu=new Map,this.Iu=new Set,this.du=new st(ie.comparator),this.Eu=new Map,this.Au=new wx,this.Ru={},this.Vu=new Map,this.mu=wl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kH(t,e,n=!0){const r=S2(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await x2(r,e,n,!0),s}async function AH(t,e){const n=S2(t);await x2(n,e,!0,!1)}async function x2(t,e,n,r){const s=await QW(t.localStore,Ur(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await RH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&c2(t.remoteStore,s),a}async function RH(t,e,n,r,s){t.gu=(p,f,m)=>async function(g,b,_,x){let E=b.view.nu(_);E.Ds&&(E=await VE(g.localStore,b.query,!1).then(({documents:C})=>b.view.nu(C,E)));const k=x&&x.targetChanges.get(b.targetId),R=x&&x.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(E,g.isPrimaryClient,k,R);return GE(g,b.targetId,j._u),j.snapshot}(t,p,f,m);const i=await VE(t.localStore,e,!0),o=new SH(e,i.qs),a=o.nu(i.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);GE(t,n,c._u);const h=new CH(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function NH(t,e,n){const r=fe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!nm(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Tx(r.remoteStore,s.targetId),Wv(r,s.targetId)}).catch(Vl)):(Wv(r,s.targetId),await Bv(r.localStore,s.targetId,!0))}async function MH(t,e){const n=fe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tx(n.remoteStore,r.targetId))}async function DH(t,e,n){const r=BH(t);try{const s=await function(o,a){const l=fe(o),c=Ae.now(),h=a.reduce((m,w)=>m.add(w.key),Ce());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Is(),g=Ce();return l.Os.getEntries(m,h).next(b=>{w=b,w.forEach((_,x)=>{x.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(b=>{p=b;const _=[];for(const x of a){const E=Q7(x,p.get(x.key).overlayedDocument);E!=null&&_.push(new Gi(x.key,E,CN(E.value.mapValue),gr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(b=>{f=b;const _=b.applyToLocalDocumentSet(p,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:f.batchId,changes:VN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new st(we)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await hd(r,s.changes),await cm(r.remoteStore)}catch(s){const i=Px(s,"Failed to persist write");n.reject(i)}}async function _2(t,e){const n=fe(t);try{const r=await GW(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Ve(o.lu,14607):s.removedDocuments.size>0&&(Ve(o.lu,42227),o.lu=!1))}),await hd(n,r,e)}catch(r){await Vl(r)}}function qE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const f of p.wa)f.va(a)&&(c=!0)}),c&&kx(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jH(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new st(ie.comparator);o=o.insert(i,Xt.newNoDocument(i,he.min()));const a=Ce().add(i),l=new om(he.min(),new Map,new st(we),o,a);await _2(r,l),r.du=r.du.remove(i),r.Eu.delete(e),Rx(r)}else await Bv(r.localStore,e,!1).then(()=>Wv(r,e,n)).catch(Vl)}async function OH(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await qW(n.localStore,e);T2(n,r,null),b2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,s)}catch(s){await Vl(s)}}async function VH(t,e,n){const r=fe(t);try{const s=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ve(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);T2(r,e,n),b2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hd(r,s)}catch(s){await Vl(s)}}function b2(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function T2(t,e,n){const r=fe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||E2(t,r)})}function E2(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Tx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Rx(t))}function GE(t,e,n){for(const r of n)r instanceof v2?(t.Au.addReference(r.key,e),LH(t,r)):r instanceof w2?(Z(Ax,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||E2(t,r.key)):oe(19791,{yu:r})}function LH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Z(Ax,"New document in limbo: "+n),t.Iu.add(r),Rx(t))}function Rx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ie(He.fromString(e)),r=t.mu.next();t.Eu.set(r,new IH(n)),t.du=t.du.insert(n,r),c2(t.remoteStore,new ci(Ur(px(n.path)),r,"TargetPurposeLimboResolution",Zp.ue))}}async function hd(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){s.push(c);const p=_x.Es(l.targetId,c);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,f=>B.forEach(f.Is,m=>h.persistence.referenceDelegate.addReference(p,f.targetId,m)).next(()=>B.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(p,f.targetId,m)))))}catch(p){if(!Ll(p))throw p;Z(bx,"Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const m=h.Fs.get(f),w=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(f,g)}}}(r.localStore,i))}async function FH(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Z(Ax,"User change. New user:",e.toKey());const r=await i2(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hd(n,r.Bs)}}function UH(t,e){const n=fe(t),r=n.Eu.get(e);if(r&&r.lu)return Ce().add(r.key);{let s=Ce();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function S2(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jH.bind(null,e),e.hu.J_=TH.bind(null,e.eventManager),e.hu.pu=EH.bind(null,e.eventManager),e}function BH(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VH.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return HW(this.persistence,new $W,e.initialUser,this.serializer)}Du(e){return new s2(xx.Vi,this.serializer)}bu(e){return new JW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class $H extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ve(this.persistence.referenceDelegate instanceof Xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IW(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new s2(r=>Xf.Vi(r,n),this.serializer)}}class Hv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FH.bind(null,this.syncEngine),await xH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bH}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(i){return new rH(i)}(e.databaseInfo);return function(i,o,a,l){return new aH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new cH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return UE.C()?new UE:new ZW}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const p=new PH(s,i,o,a,l,c);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);Z(Bo,"RemoteStore shutting down."),i.Ia.add(5),await dd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hv.provider={build:()=>new Hv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class zH{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=lx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(Li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(Li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Px(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await i2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ni("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ni("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function KE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WH(t);Z(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$E(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>$E(e.remoteStore,s)),t._onlineComponents=e}async function WH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Li,"Using user provided OfflineComponentProvider");try{await Ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await Ug(t,new Zf)}}else Z(Li,"Using default OfflineComponentProvider"),await Ug(t,new $H(void 0));return t._offlineComponents}async function I2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Li,"Using user provided OnlineComponentProvider"),await KE(t,t._uninitializedComponentsProvider._online)):(Z(Li,"Using default OnlineComponentProvider"),await KE(t,new Hv))),t._onlineComponents}function HH(t){return I2(t).then(e=>e.syncEngine)}async function P2(t){const e=await I2(t),n=e.eventManager;return n.onListen=kH.bind(null,e.syncEngine),n.onUnlisten=NH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MH.bind(null,e.syncEngine),n}function qH(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new C2({next:f=>{h.Ou(),o.enqueueAndForget(()=>g2(i,p));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new y2(px(a.path),h,{includeMetadataChanges:!0,ka:!0});return m2(i,p)}(await P2(t),t.asyncQueue,e,n,r)),r.promise}function GH(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new C2({next:f=>{h.Ou(),o.enqueueAndForget(()=>g2(i,p)),f.fromCache&&l.source==="server"?c.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new y2(a,h,{includeMetadataChanges:!0,ka:!0});return m2(i,p)}(await P2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firestore.googleapis.com",QE=!0;class XE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A2,this.ssl=QE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SW)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t7;switch(r.type){case"firstParty":return new i7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YE.get(n);r&&(Z("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())}(this),Promise.resolve()}}function KH(t,e,n,r={}){var s;t=Qr(t,um);const i=Ml(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(QA(`https://${l}`),XA("Firestore",!0)),o.host!==A2&&o.host!==l&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Ts(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Yt.MOCK_USER;else{h=sU(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Yt(f)}t._authCredentials=new n7(new hN(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ld(n,ft._jsonSchema))return new ft(e,r||null,new ie(He.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:_t("string",ft._jsonSchemaVersion),referencePath:_t("string")};class bi extends Jo{constructor(e,n,r){super(e,n,px(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ie(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function ep(t,e,...n){if(t=Ct(t),pN("collection","path",e),t instanceof um){const r=He.fromString(e,...n);return uE(r),new bi(t,null,r)}{if(!(t instanceof ft||t instanceof bi))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return uE(r),new bi(t.firestore,null,r)}}function Zo(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=lx.newId()),pN("doc","path",e),t instanceof um){const r=He.fromString(e,...n);return cE(r),new ft(t,null,new ie(r))}{if(!(t instanceof ft||t instanceof bi))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return cE(r),new ft(t.firestore,t instanceof bi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new a2(this,"async_queue_retry"),this.oc=()=>{const r=Fg();r&&Z(JE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Fg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Fg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new gs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ll(e))throw e;Z(JE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Cs("INTERNAL UNHANDLED ERROR: ",eS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Ix.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&oe(47125,{hc:eS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function eS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bl extends um{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function YH(t,e){const n=typeof t=="object"?t:Hw(),r=typeof t=="string"?t:Hf,s=Yo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nU("firestore");i&&KH(s,...i)}return s}function Nx(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QH(t),t._firestoreClient}function QH(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new _7(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,k2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zH(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Ut.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ld(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:_t("string",Hn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(ld(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:_t("string",$r._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ld(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new zr(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:_t("string",zr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=/^__.*__$/;class JH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class R2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:t})}}class fm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(N2(this.Ec)&&XH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}Dc(e,n,r,s=!1){return new fm({Ec:e,methodName:n,bc:r,path:Ot.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=am(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M2(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);Dx("Data must be an object, but it was:",o,r);const a=D2(r,o);let l,c;if(i.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=qv(e,p,n);if(!o.contains(f))throw new Q(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);O2(h,f)||h.push(f)}l=new Rn(h),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new JH(new yn(a),l,c)}class mm extends hm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}function eq(t,e,n){return new fm({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mx extends hm{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=eq(this,e,!0),r=this.vc.map(i=>$l(i,n)),s=new vl(r);return new q7(e.path,s)}isEqual(e){return e instanceof Mx&&Ts(this.vc,e.vc)}}function tq(t,e,n,r){const s=t.Dc(1,e,n);Dx("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();qi(r,(l,c)=>{const h=jx(e,l,n);c=Ct(c);const p=s.gc(h);if(c instanceof mm)i.push(h);else{const f=$l(c,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new Rn(i);return new R2(o,a,s.fieldTransforms)}function nq(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[qv(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(qv(e,i[f])),l.push(i[f+1]);const c=[],h=yn.empty();for(let f=a.length-1;f>=0;--f)if(!O2(c,a[f])){const m=a[f];let w=l[f];w=Ct(w);const g=o.gc(m);if(w instanceof mm)c.push(m);else{const b=$l(w,g);b!=null&&(c.push(m),h.set(m,b))}}const p=new Rn(c);return new R2(h,p,o.fieldTransforms)}function rq(t,e,n,r=!1){return $l(n,t.Dc(r?4:3,e))}function $l(t,e){if(j2(t=Ct(t)))return Dx("Unsupported field value:",e,t),D2(t,e);if(t instanceof hm)return function(r,s){if(!N2(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=$l(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:Qf(s.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(s.serializer,i)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:QN(s.serializer,r._byteString)};if(r instanceof ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof zr)return function(o,a){return{mapValue:{fields:{[TN]:{stringValue:SN},[qf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return mx(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Jp(r)}`)}(t,e)}function D2(t,e){const n={};return yN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,(r,s)=>{const i=$l(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function j2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof $r||t instanceof Hn||t instanceof ft||t instanceof hm||t instanceof zr)}function Dx(t,e,n){if(!j2(n)||!mN(n)){const r=Jp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function qv(t,e,n){if((e=Ct(e))instanceof dm)return e._internalPath;if(typeof e=="string")return jx(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const sq=new RegExp("[~\\*/\\[\\]]");function jx(t,e,n){if(e.search(sq)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+t+l)}function O2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iq extends V2{data(){return super.data()}}function gm(t,e){return typeof e=="string"?jx(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ox{}class L2 extends Ox{}function Gv(t,e,...n){let r=[];e instanceof Ox&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Vx).length,a=i.filter(l=>l instanceof ym).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ym extends L2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ym(e,n,r)}_apply(e){const n=this._parse(e);return U2(e._query,n),new Jo(e.firestore,e.converter,jv(e._query,n))}_parse(e){const n=pm(e.firestore);return function(i,o,a,l,c,h,p){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rS(p,h);const w=[];for(const g of p)w.push(nS(l,i,g));f={arrayValue:{values:w}}}else f=nS(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rS(p,h),f=rq(a,o,p,h==="in"||h==="not-in");return xt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tS(t,e,n){const r=e,s=gm("where",t);return ym._create(s,r,n)}class Vx extends Ox{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)U2(o,l),o=jv(o,l)}(e._query,n),new Jo(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lx extends L2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lx(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(i,o)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Fl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function F2(t,e="asc"){const n=e,r=gm("orderBy",t);return Lx._create(r,n)}function nS(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MN(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ie.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vE(t,new ie(r))}if(n instanceof ft)return vE(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(n)}.`)}function rS(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aq{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[qf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>dt(o.doubleValue));return new zr(i)}convertGeoPoint(e){return new $r(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ve(n2(r),9688,{name:e});const s=new Mu(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||Cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends V2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:_t("string",Eo._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Hh extends Eo{data(e={}){return super.data(e)}}class Ga{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Hh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Hh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:lq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){t=Qr(t,ft);const e=Qr(t.firestore,Bl);return qH(Nx(e),t._key).then(n=>dq(e,t,n))}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:_t("string",Ga._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class z2 extends aq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function Kv(t){t=Qr(t,Jo);const e=Qr(t.firestore,Bl),n=Nx(e),r=new z2(e);return oq(t._query),GH(n,t._query).then(s=>new Ga(e,r,t,s))}function cq(t,e,n){t=Qr(t,ft);const r=Qr(t.firestore,Bl),s=B2(t.converter,e,n);return Ux(r,[M2(pm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gr.none())])}function Fx(t,e,n,...r){t=Qr(t,ft);const s=Qr(t.firestore,Bl),i=pm(s);let o;return o=typeof(e=Ct(e))=="string"||e instanceof dm?nq(i,"updateDoc",t._key,e,n,r):tq(i,"updateDoc",t._key,e),Ux(s,[o.toMutation(t._key,gr.exists(!0))])}function uq(t,e){const n=Qr(t.firestore,Bl),r=Zo(t),s=B2(t.converter,e);return Ux(n,[M2(pm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function Ux(t,e){return function(r,s){const i=new gs;return r.asyncQueue.enqueueAndForget(async()=>DH(await HH(r),s,i)),i.promise}(Nx(t),e)}function dq(t,e,n){const r=n.docs.get(e._key),s=new z2(t);return new Eo(t,s,e._key,r,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}function hq(...t){return new Mx("arrayUnion",t)}(function(e,n=!0){(function(s){Ol=s})(Dl),Kr(new xr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Bl(new r7(r.getProvider("auth-internal")),new o7(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Kn(sE,iE,e),Kn(sE,iE,"esm2017")})();const fq={apiKey:"AIzaSyB0bz5OFEtNkhRZzn6qeWGrZTjiWddGnmE",authDomain:"studybudy-37a66.firebaseapp.com",projectId:"studybudy-37a66",storageBucket:"studybudy-37a66.firebasestorage.app",messagingSenderId:"728482955285",appId:"1:728482955285:web:ee0369ba07db3acf1e4e1c",measurementId:"G-EKFTDELND9"},Bx=sR(fq);typeof window<"u"&&window.location.hostname!=="localhost"&&Xz(Bx);const Bg=N$(Bx),Jr=YH(Bx),W2=new cs;W2.setCustomParameters({prompt:"select_account"});const pq=async(t,e)=>{try{const n=Zo(Jr,"users",t);await cq(n,{...e,id:t,createdAt:Ae.now()},{merge:!0}),console.log("User created successfully:",t)}catch(n){throw console.error("Error creating user:",n),n.code==="permission-denied"?new Error("Permission denied. Please check Firestore security rules."):n}},sS=async t=>{try{const e=Zo(Jr,"users",t),n=await $2(e);if(n.exists()){const r=n.data();return console.log("User data retrieved:",r.email),r}return console.log("User not found:",t),null}catch(e){throw console.error("Error getting user:",e),e.code==="permission-denied"?new Error("Permission denied. Please check Firestore security rules."):e}},mq=async(t,e)=>{try{const n=Zo(Jr,"users",t);await Fx(n,{subscription:e}),console.log("User subscription updated:",t)}catch(n){throw console.error("Error updating subscription:",n),n.code==="permission-denied"?new Error("Permission denied. Please check Firestore security rules."):n}},H2=v.createContext(void 0),Er=()=>{const t=v.useContext(H2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gq=({children:t})=>{var p;const[e,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{const f=x8(Bg,async m=>{var w;if(m)try{console.log("Firebase user authenticated:",m.email);let g=await sS(m.uid);if(!g){const b=m.email==="kartikmehta650@gmail.com",_={email:m.email||"",name:m.displayName||((w=m.email)==null?void 0:w.split("@")[0])||"User",role:b?"admin":"user",photoURL:m.photoURL||void 0};console.log("Creating new user:",_),await pq(m.uid,_),g=await sS(m.uid)}g&&(n({id:g.id,email:g.email,name:g.name,role:g.role,photoURL:g.photoURL,createdAt:g.createdAt.toDate().toISOString(),subscription:g.subscription?{...g.subscription,startDate:g.subscription.startDate.toDate().toISOString()}:void 0}),console.log("User data loaded successfully:",g.email,g.role))}catch(g){console.error("Error fetching user data:",g),g.code==="permission-denied"||g.message.includes("Missing or insufficient permissions")?Qe({title:"Setup Required",description:"Please check the FIREBASE_SETUP.md file to configure Firestore security rules.",variant:"destructive"}):Qe({title:"Error",description:"Failed to load user data. Please try again.",variant:"destructive"})}else console.log("No authenticated user"),n(null);s(!1)});return()=>f()},[]);const h={user:e,login:async(f,m)=>(Qe({title:"Authentication Method Changed",description:"Please use Google Sign-In for authentication",variant:"destructive"}),!1),loginWithGoogle:async()=>{try{s(!0),console.log("Starting Google login...");const f=await B8(Bg,W2);return console.log("Google login successful:",f.user.email),Qe({title:"Login Successful",description:`Welcome, ${f.user.displayName||f.user.email}!`}),!0}catch(f){console.error("Google login error:",f);let m="Failed to login with Google";return f.code==="auth/unauthorized-domain"?m="Domain not authorized. Please add this domain to Firebase Auth settings.":f.code==="auth/popup-blocked"?m="Popup blocked. Please allow popups and try again.":f.code==="auth/popup-closed-by-user"&&(m="Login cancelled. Please try again."),Qe({title:"Login Failed",description:m,variant:"destructive"}),!1}finally{s(!1)}},register:async(f,m,w)=>(Qe({title:"Authentication Method Changed",description:"Please use Google Sign-In for authentication",variant:"destructive"}),!1),logout:async()=>{try{await _8(Bg),n(null),console.log("User logged out successfully"),Qe({title:"Logged Out",description:"You have been successfully logged out"})}catch(f){console.error("Logout error:",f),Qe({title:"Logout Error",description:"Failed to logout",variant:"destructive"})}},updateSubscription:async f=>{if(e)try{const m=f?{...f,startDate:new Date(f.startDate)}:void 0;await mq(e.id,m);const w={...e,subscription:f};n(w),Qe({title:"Subscription Updated",description:"Your subscription has been updated successfully"})}catch(m){console.error("Error updating subscription:",m),Qe({title:"Update Failed",description:"Failed to update subscription",variant:"destructive"})}},isAuthenticated:!!e,isAdmin:(e==null?void 0:e.role)==="admin",isPremium:((p=e==null?void 0:e.subscription)==null?void 0:p.status)==="active",loading:r};return u.jsx(H2.Provider,{value:h,children:t})},yq=async t=>{const e=ep(Jr,"tickets");return(await uq(e,{...t,createdAt:Ae.now(),updatedAt:Ae.now(),comments:[]})).id},vq=async(t,e)=>{const n=Zo(Jr,"tickets",t);await Fx(n,{...e,updatedAt:Ae.now()})},iS=async t=>{const e=Zo(Jr,"tickets",t),n=await $2(e);return n.exists()?{id:n.id,...n.data()}:null},wq=async t=>{try{console.log("Attempting to fetch user tickets with index-optimized query");const e=ep(Jr,"tickets"),n=Gv(e,tS("userId","==",t),F2("createdAt","desc")),s=(await Kv(n)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`Successfully fetched ${s.length} tickets for user`),s}catch(e){console.error("Error with indexed query, falling back to simple query:",e);try{const n=ep(Jr,"tickets"),r=Gv(n,tS("userId","==",t)),i=(await Kv(r)).docs.map(o=>({id:o.id,...o.data()}));return i.sort((o,a)=>a.createdAt.seconds-o.createdAt.seconds),console.log(`Fallback: Successfully fetched ${i.length} tickets for user`),i}catch(n){throw console.error("Both indexed and fallback queries failed:",n),n}}},xq=async()=>{const t=ep(Jr,"tickets"),e=Gv(t,F2("createdAt","desc"));return(await Kv(e)).docs.map(r=>({id:r.id,...r.data()}))},_q=async(t,e)=>{const n=Zo(Jr,"tickets",t),r={...e,id:Math.random().toString(36).substr(2,9),createdAt:Ae.now()};await Fx(n,{comments:hq(r),updatedAt:Ae.now()})},q2=v.createContext(void 0),fd=()=>{const t=v.useContext(q2);if(t===void 0)throw new Error("useTickets must be used within a TicketProvider");return t},fh=t=>({...t,createdAt:t.createdAt.toDate().toISOString(),updatedAt:t.updatedAt.toDate().toISOString(),comments:t.comments.map(e=>({...e,createdAt:e.createdAt.toDate().toISOString()}))}),bq=t=>{const{createdAt:e,updatedAt:n,comments:r,...s}=t,i={...s};return e&&(i.createdAt=Ae.fromDate(new Date(e))),n&&(i.updatedAt=Ae.fromDate(new Date(n))),r&&(i.comments=r.map(o=>({...o,createdAt:Ae.fromDate(new Date(o.createdAt))}))),i},Tq=({children:t})=>{const[e,n]=v.useState([]),[r,s]=v.useState(!1),{user:i}=Er(),o=async m=>{try{s(!0),console.log("Creating ticket:",m);const w=await yq({...m,status:"open"});await p(),Qe({title:"Ticket Created",description:"Your ticket has been successfully created"})}catch(w){console.error("Error creating ticket:",w),Qe({title:"Error",description:"Failed to create ticket. Please try again.",variant:"destructive"})}finally{s(!1)}},a=async(m,w)=>{try{s(!0),console.log("Updating ticket:",m,w);const g=bq(w);await vq(m,g),n(b=>b.map(_=>_.id===m?{..._,...w,updatedAt:new Date().toISOString()}:_)),Qe({title:"Ticket Updated",description:"Ticket has been successfully updated"})}catch(g){console.error("Error updating ticket:",g),Qe({title:"Error",description:"Failed to update ticket. Please try again.",variant:"destructive"})}finally{s(!1)}},l=async(m,w)=>{try{console.log("Adding comment to ticket:",m,w),await _q(m,w);const g=await iS(m);g&&n(b=>b.map(_=>_.id===m?fh(g):_))}catch(g){console.error("Error adding comment:",g),Qe({title:"Error",description:"Failed to add comment. Please try again.",variant:"destructive"})}},c=async m=>{try{console.log("Fetching ticket by ID:",m);const w=await iS(m);return w?fh(w):void 0}catch(w){console.error("Error fetching ticket:",w);return}},h=m=>e.filter(w=>w.userId===m),p=async()=>{var m,w;if(!i){console.log("No user authenticated, skipping ticket loading");return}try{if(s(!0),console.log("Loading tickets for user:",i.email,i.role),i.role==="admin"){console.log("Loading all tickets for admin");const b=(await xq()).map(fh);n(b),console.log("Loaded tickets:",b.length)}else{console.log("Loading user tickets for:",i.id);const b=(await wq(i.id)).map(fh);n(b),console.log("Loaded user tickets:",b.length)}}catch(g){console.error("Error loading tickets:",g),(m=g.message)!=null&&m.includes("index")?Qe({title:"Database Index Required",description:"Please create the required Firebase index. Check the setup instructions.",variant:"destructive"}):(w=g.message)!=null&&w.includes("permission")?Qe({title:"Permission Error",description:"Please check your Firebase security rules and try again.",variant:"destructive"}):Qe({title:"Error Loading Tickets",description:"Failed to load tickets. Please refresh the page and try again.",variant:"destructive"})}finally{s(!1)}};v.useEffect(()=>{i?p():n([])},[i]);const f={tickets:e,createTicket:o,updateTicket:a,addComment:l,getTicketById:c,getUserTickets:h,loading:r};return u.jsx(q2.Provider,{value:f,children:t})},G2=v.createContext(void 0),Eq=()=>{const t=v.useContext(G2);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Sq=({children:t})=>{const[e,n]=v.useState("system"),[r,s]=v.useState("light");return v.useEffect(()=>{const i=localStorage.getItem("theme");i&&n(i)},[]),v.useEffect(()=>{const i=window.document.documentElement,o=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",a=()=>{const l=e==="system"?o():e;s(l),i.classList.remove("light","dark"),i.classList.add(l)};if(a(),localStorage.setItem("theme",e),e==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)");return l.addEventListener("change",a),()=>l.removeEventListener("change",a)}},[e]),u.jsx(G2.Provider,{value:{theme:e,setTheme:n,resolvedTheme:r},children:t})},Cq=Dp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Do:"button";return u.jsx(o,{className:le(Cq({variant:e,size:n,className:t})),ref:i,...s})});ge.displayName="Button";const K2=v.createContext({});function Iq(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const $x=typeof window<"u",Pq=$x?v.useLayoutEffect:v.useEffect,zx=v.createContext(null);function Wx(t,e){t.indexOf(e)===-1&&t.push(e)}function Hx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let np=()=>{};const ks={},Y2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Q2(t){return typeof t=="object"&&t!==null}const X2=t=>/^0[^.\s]+$/u.test(t);function qx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yn=t=>t,kq=(t,e)=>n=>e(t(n)),pd=(...t)=>t.reduce(kq),Vu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Gx{constructor(){this.subscriptions=[]}add(e){return Wx(this.subscriptions,e),()=>Hx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wr=t=>t*1e3,Hr=t=>t/1e3;function J2(t,e){return e?t*(1e3/e):0}const Z2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Aq=1e-7,Rq=12;function Nq(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Z2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Aq&&++a<Rq);return o}function md(t,e,n,r){if(t===e&&n===r)return Yn;const s=i=>Nq(i,0,1,t,n);return i=>i===0||i===1?i:Z2(s(i),e,r)}const eM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tM=t=>e=>1-t(1-e),nM=md(.33,1.53,.69,.99),Kx=tM(nM),rM=eM(Kx),sM=t=>(t*=2)<1?.5*Kx(t):.5*(2-Math.pow(2,-10*(t-1))),Yx=t=>1-Math.sin(Math.acos(t)),iM=tM(Yx),oM=eM(Yx),Mq=md(.42,0,1,1),Dq=md(0,0,.58,1),aM=md(.42,0,.58,1),jq=t=>Array.isArray(t)&&typeof t[0]!="number",lM=t=>Array.isArray(t)&&typeof t[0]=="number",oS={linear:Yn,easeIn:Mq,easeInOut:aM,easeOut:Dq,circIn:Yx,circInOut:oM,circOut:iM,backIn:Kx,backInOut:rM,backOut:nM,anticipate:sM},Oq=t=>typeof t=="string",aS=t=>{if(lM(t)){np(t.length===4);const[e,n,r,s]=t;return md(e,n,r,s)}else if(Oq(t))return np(oS[t]!==void 0),oS[t];return t},ph=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],lS={value:null,addProjectionMetrics:null};function Vq(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(p){o.has(p)&&(h.schedule(p),t()),l++,p(a)}const h={schedule:(p,f=!1,m=!1)=>{const g=m&&s?n:r;return f&&o.add(p),g.has(p)||g.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(a=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&lS.value&&lS.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const Lq=40;function cM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ph.reduce((E,k)=>(E[k]=Vq(i,e?k:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:p,preRender:f,render:m,postRender:w}=o,g=()=>{const E=ks.useManualTiming?s.timestamp:performance.now();n=!1,ks.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,Lq),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),p.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},b=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:ph.reduce((E,k)=>{const R=o[k];return E[k]=(j,C=!1,S=!1)=>(n||b(),R.schedule(j,C,S)),E},{}),cancel:E=>{for(let k=0;k<ph.length;k++)o[ph[k]].cancel(E)},state:s,steps:o}}const{schedule:Ze,cancel:Fi,state:Dt,steps:$g}=cM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let qh;function Fq(){qh=void 0}const wn={now:()=>(qh===void 0&&wn.set(Dt.isProcessing||ks.useManualTiming?Dt.timestamp:performance.now()),qh),set:t=>{qh=t,queueMicrotask(Fq)}},uM=t=>e=>typeof e=="string"&&e.startsWith(t),Qx=uM("--"),Uq=uM("var(--"),Xx=t=>Uq(t)?Bq.test(t.split("/*")[0].trim()):!1,Bq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...zl,transform:t=>Ps(0,1,t)},mh={...zl,default:1},Jc=t=>Math.round(t*1e5)/1e5,Jx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $q(t){return t==null}const zq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zx=(t,e)=>n=>!!(typeof n=="string"&&zq.test(n)&&n.startsWith(t)||e&&!$q(n)&&Object.prototype.hasOwnProperty.call(n,e)),dM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Jx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Wq=t=>Ps(0,255,t),zg={...zl,transform:t=>Math.round(Wq(t))},mo={test:Zx("rgb","red"),parse:dM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zg.transform(t)+", "+zg.transform(e)+", "+zg.transform(n)+", "+Jc(Lu.transform(r))+")"};function Hq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Yv={test:Zx("#"),parse:Hq,transform:mo.transform},gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hs=gd("deg"),qr=gd("%"),ae=gd("px"),qq=gd("vh"),Gq=gd("vw"),cS={...qr,parse:t=>qr.parse(t)/100,transform:t=>qr.transform(t*100)},ka={test:Zx("hsl","hue"),parse:dM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qr.transform(Jc(e))+", "+qr.transform(Jc(n))+", "+Jc(Lu.transform(r))+")"},vt={test:t=>mo.test(t)||Yv.test(t)||ka.test(t),parse:t=>mo.test(t)?mo.parse(t):ka.test(t)?ka.parse(t):Yv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):ka.transform(t),getAnimatableNone:t=>{const e=vt.parse(t);return e.alpha=0,vt.transform(e)}},Kq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jx))==null?void 0:e.length)||0)+(((n=t.match(Kq))==null?void 0:n.length)||0)>0}const hM="number",fM="color",Qq="var",Xq="var(",uS="${}",Jq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(Jq,l=>(vt.test(l)?(r.color.push(i),s.push(fM),n.push(vt.parse(l))):l.startsWith(Xq)?(r.var.push(i),s.push(Qq),n.push(l)):(r.number.push(i),s.push(hM),n.push(parseFloat(l))),++i,uS)).split(uS);return{values:n,split:a,indexes:r,types:s}}function pM(t){return Fu(t).values}function mM(t){const{split:e,types:n}=Fu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===hM?i+=Jc(s[o]):a===fM?i+=vt.transform(s[o]):i+=s[o]}return i}}const Zq=t=>typeof t=="number"?0:vt.test(t)?vt.getAnimatableNone(t):t;function eG(t){const e=pM(t);return mM(t)(e.map(Zq))}const Ui={test:Yq,parse:pM,createTransformer:mM,getAnimatableNone:eG};function Wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Wg(l,a,t+1/3),i=Wg(l,a,t),o=Wg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rp(t,e){return n=>n>0?e:t}const tt=(t,e,n)=>t+(e-t)*n,Hg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},nG=[Yv,mo,ka],rG=t=>nG.find(e=>e.test(t));function dS(t){const e=rG(t);if(!e)return!1;let n=e.parse(t);return e===ka&&(n=tG(n)),n}const hS=(t,e)=>{const n=dS(t),r=dS(e);if(!n||!r)return rp(t,e);const s={...n};return i=>(s.red=Hg(n.red,r.red,i),s.green=Hg(n.green,r.green,i),s.blue=Hg(n.blue,r.blue,i),s.alpha=tt(n.alpha,r.alpha,i),mo.transform(s))},Qv=new Set(["none","hidden"]);function sG(t,e){return Qv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iG(t,e){return n=>tt(t,e,n)}function e1(t){return typeof t=="number"?iG:typeof t=="string"?Xx(t)?rp:vt.test(t)?hS:lG:Array.isArray(t)?gM:typeof t=="object"?vt.test(t)?hS:oG:rp}function gM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>e1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function oG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=e1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function aG(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const lG=(t,e)=>{const n=Ui.createTransformer(e),r=Fu(t),s=Fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Qv.has(t)&&!s.values.length||Qv.has(e)&&!r.values.length?sG(t,e):pd(gM(aG(r,s),s.values),n):rp(t,e)};function yM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tt(t,e,n):e1(t)(t,e)}const cG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ze.update(e,n),stop:()=>Fi(e),now:()=>Dt.isProcessing?Dt.timestamp:wn.now()}},vM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sp=2e4;function t1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sp;)e+=n,r=t.next(e);return e>=sp?1/0:e}function uG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(t1(r),sp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Hr(s)}}const dG=5;function wM(t,e,n){const r=Math.max(e-dG,0);return J2(n-t(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qg=.001;function hG({duration:t=lt.duration,bounce:e=lt.bounce,velocity:n=lt.velocity,mass:r=lt.mass}){let s,i,o=1-e;o=Ps(lt.minDamping,lt.maxDamping,o),t=Ps(lt.minDuration,lt.maxDuration,Hr(t)),o<1?(s=c=>{const h=c*o,p=h*t,f=h-n,m=Xv(c,o),w=Math.exp(-p);return qg-f/m*w},i=c=>{const p=c*o*t,f=p*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-p),g=Xv(Math.pow(c,2),o);return(-s(c)+qg>0?-1:1)*((f-m)*w)/g}):(s=c=>{const h=Math.exp(-c*t),p=(c-n)*t+1;return-qg+h*p},i=c=>{const h=Math.exp(-c*t),p=(n-c)*(t*t);return h*p});const a=5/t,l=pG(s,i,a);if(t=Wr(t),isNaN(l))return{stiffness:lt.stiffness,damping:lt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const fG=12;function pG(t,e,n){let r=n;for(let s=1;s<fG;s++)r=r-t(r)/e(r);return r}function Xv(t,e){return t*Math.sqrt(1-e*e)}const mG=["duration","bounce"],gG=["stiffness","damping","mass"];function fS(t,e){return e.some(n=>t[n]!==void 0)}function yG(t){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...t};if(!fS(t,gG)&&fS(t,mG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:lt.mass,stiffness:s,damping:i}}else{const n=hG(t);e={...e,...n,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function ip(t=lt.visualDuration,e=lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:p,velocity:f,isResolvedFromDuration:m}=yG({...n,velocity:-Hr(n.velocity||0)}),w=f||0,g=c/(2*Math.sqrt(l*h)),b=o-i,_=Hr(Math.sqrt(l/h)),x=Math.abs(b)<5;r||(r=x?lt.restSpeed.granular:lt.restSpeed.default),s||(s=x?lt.restDelta.granular:lt.restDelta.default);let E;if(g<1){const R=Xv(_,g);E=j=>{const C=Math.exp(-g*_*j);return o-C*((w+g*_*b)/R*Math.sin(R*j)+b*Math.cos(R*j))}}else if(g===1)E=R=>o-Math.exp(-_*R)*(b+(w+_*b)*R);else{const R=_*Math.sqrt(g*g-1);E=j=>{const C=Math.exp(-g*_*j),S=Math.min(R*j,300);return o-C*((w+g*_*b)*Math.sinh(S)+R*b*Math.cosh(S))/R}}const k={calculatedDuration:m&&p||null,next:R=>{const j=E(R);if(m)a.done=R>=p;else{let C=R===0?w:0;g<1&&(C=R===0?Wr(w):wM(E,R,j));const S=Math.abs(C)<=r,I=Math.abs(o-j)<=s;a.done=S&&I}return a.value=a.done?o:j,a},toString:()=>{const R=Math.min(t1(k),sp),j=vM(C=>k.next(R*C).value,R,30);return R+"ms "+j},toTransition:()=>{}};return k}ip.applyToOptions=t=>{const e=uG(t,100,ip);return t.ease=e.ease,t.duration=Wr(e.duration),t.type="keyframes",t};function Jv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const p=t[0],f={done:!1,value:p},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let g=n*e;const b=p+g,_=o===void 0?b:o(b);_!==b&&(g=_-p);const x=S=>-g*Math.exp(-S/r),E=S=>_+x(S),k=S=>{const I=x(S),A=E(S);f.done=Math.abs(I)<=c,f.value=f.done?_:A};let R,j;const C=S=>{m(f.value)&&(R=S,j=ip({keyframes:[f.value,w(f.value)],velocity:wM(E,S,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!j&&R===void 0&&(I=!0,k(S),C(S)),R!==void 0&&S>=R?j.next(S-R):(!I&&k(S),f)}}}function vG(t,e,n){const r=[],s=n||ks.mix||yM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Yn:e;a=pd(l,a)}r.push(a)}return r}function wG(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(np(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=vG(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const f=Vu(t[p],t[p+1],h);return a[p](f)};return n?h=>c(Ps(t[0],t[i-1],h)):c}function xG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vu(0,e,r);t.push(tt(n,1,s))}}function _G(t){const e=[0];return xG(e,t.length-1),e}function bG(t,e){return t.map(n=>n*e)}function TG(t,e){return t.map(()=>e||aM).splice(0,t.length-1)}function Zc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=jq(r)?r.map(aS):aS(r),i={done:!1,value:e[0]},o=bG(n&&n.length===e.length?n:_G(e),t),a=wG(o,e,{ease:Array.isArray(s)?s:TG(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const EG=t=>t!==null;function n1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(EG),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const SG={decay:Jv,inertia:Jv,tween:Zc,keyframes:Zc,spring:ip};function xM(t){typeof t.type=="string"&&(t.type=SG[t.type])}class r1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CG=t=>t/100;class s1 extends r1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xM(e);const{type:n=Zc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Zc;l!==Zc&&typeof a[0]!="number"&&(this.mixKeyframes=pd(CG,yM(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=t1(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:p,repeatType:f,repeatDelay:m,type:w,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,k=r;if(p){const S=Math.min(this.currentTime,s)/a;let I=Math.floor(S),A=S%1;!A&&S>=1&&(A=1),A===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(f==="reverse"?(A=1-A,m&&(A-=m/a)):f==="mirror"&&(k=o)),E=Ps(0,1,A)*a}const R=x?{done:!1,value:h[0]}:k.next(E);i&&(R.value=i(R.value));let{done:j}=R;!x&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&w!==Jv&&(R.value=n1(h,this.options,b,this.speed)),g&&g(R.value),C&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Hr(this.calculatedDuration)}get time(){return Hr(this.currentTime)}set time(e){var n;e=Wr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=cG,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function IG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,Zv=t=>{const e=go(Math.atan2(t[1],t[0]));return e0(e)},PG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zv,rotateZ:Zv,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},e0=t=>(t=t%360,t<0&&(t+=360),t),pS=Zv,mS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mS,scaleY:gS,scale:t=>(mS(t)+gS(t))/2,rotateX:t=>e0(go(Math.atan2(t[6],t[5]))),rotateY:t=>e0(go(Math.atan2(-t[2],t[0]))),rotateZ:pS,rotate:pS,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function t0(t){return t.includes("scale")?1:0}function n0(t,e){if(!t||t==="none")return t0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=kG,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PG,s=a}if(!s)return t0(e);const i=r[e],o=s[1].split(",").map(RG);return typeof i=="function"?i(o):o[i]}const AG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return n0(n,e)};function RG(t){return parseFloat(t.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hl=new Set(Wl),yS=t=>t===zl||t===ae,NG=new Set(["x","y","z"]),MG=Wl.filter(t=>!NG.has(t));function DG(t){const e=[];return MG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const So={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>n0(e,"x"),y:(t,{transform:e})=>n0(e,"y")};So.translateX=So.x;So.translateY=So.y;const Co=new Set;let r0=!1,s0=!1,i0=!1;function _M(){if(s0){const t=Array.from(Co).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=DG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}s0=!1,r0=!1,Co.forEach(t=>t.complete(i0)),Co.clear()}function bM(){Co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(s0=!0)})}function jG(){i0=!0,bM(),_M(),i0=!1}class i1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Co.add(this),r0||(r0=!0,Ze.read(bM),Ze.resolveKeyframes(_M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}IG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Co.delete(this)}cancel(){this.state==="scheduled"&&(Co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OG=t=>t.startsWith("--");function VG(t,e,n){OG(e)?t.style.setProperty(e,n):t.style[e]=n}const LG=qx(()=>window.ScrollTimeline!==void 0),FG={};function UG(t,e){const n=qx(t);return()=>FG[e]??n()}const TM=UG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rc([0,.65,.55,1]),circOut:Rc([.55,0,1,.45]),backIn:Rc([.31,.01,.66,-.59]),backOut:Rc([.33,1.53,.69,.99])};function EM(t,e){if(t)return typeof t=="function"?TM()?vM(t,e):"ease-out":lM(t)?Rc(t):Array.isArray(t)?t.map(n=>EM(n,e)||vS.easeOut):vS[t]}function BG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const p=EM(a,s);Array.isArray(p)&&(h.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(h,f)}function SM(t){return typeof t=="function"&&"applyToOptions"in t}function $G({type:t,...e}){return SM(t)&&TM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zG extends r1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,np(typeof e.type!="string");const c=$G(e);this.animation=BG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=n1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):VG(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Hr(Number(e))}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&LG()?(this.animation.timeline=e,Yn):n(this)}}const CM={anticipate:sM,backInOut:rM,circInOut:oM};function WG(t){return t in CM}function HG(t){typeof t.ease=="string"&&WG(t.ease)&&(t.ease=CM[t.ease])}const wS=10;class qG extends zG{constructor(e){HG(e),xM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new s1({...o,autoplay:!1}),l=Wr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-wS).value,a.sample(l).value,wS),a.stop()}}const xS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function GG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xS(s,e),a=xS(i,e);return!o||!a?!1:GG(t)||(n==="spring"||SM(n))&&r}const YG=new Set(["opacity","clipPath","filter","transform"]),QG=qx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XG(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return QG()&&n&&YG.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const JG=40;class ZG extends r1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...p}){var w;super(),this.stop=()=>{var g,b;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=wn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:h,...p},m=(h==null?void 0:h.KeyframeResolver)||i1;this.keyframeResolver=new m(a,(g,b,_)=>this.onKeyframesResolved(g,b,f,!_),l,c,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=wn.now(),KG(e,i,o,a)||((ks.instantAnimations||!l)&&(h==null||h(n1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>JG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&XG(f)?new qG({...f,element:f.motionValue.owner.current}):new s1(f);m.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const eK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tK(t){const e=eK.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function IM(t,e,n=1){const[r,s]=tK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Y2(o)?parseFloat(o):o}return Xx(s)?IM(s,e,n+1):s}function o1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PM=new Set(["width","height","top","left","right","bottom",...Wl]),nK={test:t=>t==="auto",parse:t=>t},kM=t=>e=>e.test(t),AM=[zl,ae,qr,Hs,Gq,qq,nK],_S=t=>AM.find(kM(t));function rK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||X2(t):!0}const sK=new Set(["brightness","contrast","saturate","opacity"]);function iK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jx)||[];if(!r)return t;const s=n.replace(r,"");let i=sK.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oK=/\b([a-z-]*)\(.*?\)/gu,o0={...Ui,getAnimatableNone:t=>{const e=t.match(oK);return e?e.map(iK).join(" "):t}},bS={...zl,transform:Math.round},aK={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:Hs,skewX:Hs,skewY:Hs,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Lu,originX:cS,originY:cS,originZ:ae},a1={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...aK,zIndex:bS,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:bS},lK={...a1,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:o0,WebkitFilter:o0},RM=t=>lK[t];function NM(t,e){let n=RM(t);return n!==o0&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cK=new Set(["auto","none","0"]);function uK(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!cK.has(i)&&Fu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=NM(n,s)}class dK extends i1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Xx(c))){const h=IM(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!PM.has(r)||e.length!==2)return;const[s,i]=e,o=_S(s),a=_S(i);if(o!==a)if(yS(o)&&yS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else So[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||rK(e[s]))&&r.push(s);r.length&&uK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=So[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function MM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const DM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hK(t){return Q2(t)&&"offsetHeight"in t}const TS=30,fK=t=>!isNaN(parseFloat(t));class pK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=wn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TS);return J2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new pK(t,e)}const{schedule:l1,cancel:tne}=cM(queueMicrotask,!1),rr={x:!1,y:!1};function jM(){return rr.x||rr.y}function mK(t){return t==="x"||t==="y"?rr[t]?null:(rr[t]=!0,()=>{rr[t]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}function OM(t,e){const n=MM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ES(t){return!(t.pointerType==="touch"||jM())}function gK(t,e,n={}){const[r,s,i]=OM(t,n),o=a=>{if(!ES(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=p=>{ES(p)&&(c(p),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const VM=(t,e)=>e?t===e?!0:VM(t,e.parentElement):!1,c1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vK(t){return yK.has(t.tagName)||t.tabIndex!==-1}const Gh=new WeakSet;function SS(t){return e=>{e.key==="Enter"&&t(e)}}function Gg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=SS(()=>{if(Gh.has(n))return;Gg(n,"down");const s=SS(()=>{Gg(n,"up")}),i=()=>Gg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CS(t){return c1(t)&&!jM()}function xK(t,e,n={}){const[r,s,i]=OM(t,n),o=a=>{const l=a.currentTarget;if(!CS(a))return;Gh.add(l);const c=e(l,a),h=(m,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),Gh.has(l)&&Gh.delete(l),CS(m)&&typeof c=="function"&&c(m,{success:w})},p=m=>{h(m,l===window||l===document||n.useGlobalTarget||VM(l,m.target))},f=m=>{h(m,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),hK(a)&&(a.addEventListener("focus",c=>wK(c,s)),!vK(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function LM(t){return Q2(t)&&"ownerSVGElement"in t}function _K(t){return LM(t)&&t.tagName==="svg"}const en=t=>!!(t&&t.getVelocity),bK=[...AM,vt,Ui],TK=t=>bK.find(kM(t)),FM=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function EK(t=!0){const e=v.useContext(zx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const UM=v.createContext({strict:!1}),IS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in IS)bl[t]={isEnabled:e=>IS[t].some(n=>!!e[n])};function SK(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const CK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function op(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||CK.has(t)}let BM=t=>!op(t);function IK(t){typeof t=="function"&&(BM=e=>e.startsWith("on")?!op(e):t(e))}try{IK(require("@emotion/is-prop-valid").default)}catch{}function PK(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(BM(s)||n===!0&&op(s)||!e&&!op(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const vm=v.createContext({});function wm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Uu(t){return typeof t=="string"||Array.isArray(t)}const u1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d1=["initial",...u1];function xm(t){return wm(t.animate)||d1.some(e=>Uu(t[e]))}function $M(t){return!!(xm(t)||t.variants)}function kK(t,e){if(xm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(r)?r:void 0}}return t.inherit!==!1?e:{}}function AK(t){const{initial:e,animate:n}=kK(t,v.useContext(vm));return v.useMemo(()=>({initial:e,animate:n}),[PS(e),PS(n)])}function PS(t){return Array.isArray(t)?t.join(" "):t}const Bu={};function RK(t){for(const e in t)Bu[e]=t[e],Qx(e)&&(Bu[e].isCSSVariable=!0)}function zM(t,{layout:e,layoutId:n}){return Hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bu[t]||t==="opacity")}const NK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MK=Wl.length;function DK(t,e,n){let r="",s=!0;for(let i=0;i<MK;i++){const o=Wl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=DM(a,a1[o]);if(!l){s=!1;const h=NK[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function h1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Hl.has(l)){o=!0;continue}else if(Qx(l)){s[l]=c;continue}else{const h=DM(c,a1[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=DK(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}const f1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WM(t,e,n){for(const r in e)!en(e[r])&&!zM(r,n)&&(t[r]=e[r])}function jK({transformTemplate:t},e){return v.useMemo(()=>{const n=f1();return h1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OK(t,e){const n=t.style||{},r={};return WM(r,n,t),Object.assign(r,jK(t,e)),r}function VK(t,e){const n={},r=OK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const LK={offset:"stroke-dashoffset",array:"stroke-dasharray"},FK={offset:"strokeDashoffset",array:"strokeDasharray"};function UK(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?LK:FK;t[i.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[i.array]=`${o} ${a}`}function HM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,h){if(h1(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&UK(p,s,i,o,!1)}const qM=()=>({...f1(),attrs:{}}),GM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BK(t,e,n,r){const s=v.useMemo(()=>{const i=qM();return HM(i,e,GM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};WM(i,t.style,t),s.style={...i,...s.style}}return s}const $K=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p1(t){return typeof t!="string"||t.includes("-")?!1:!!($K.indexOf(t)>-1||/[A-Z]/u.test(t))}function zK(t,e,n,{latestValues:r},s,i=!1){const a=(p1(t)?BK:VK)(e,r,s,t),l=PK(e,typeof t=="string",i),c=t!==v.Fragment?{...l,...a,ref:n}:{},{children:h}=e,p=v.useMemo(()=>en(h)?h.get():h,[h]);return v.createElement(t,{...c,children:p})}function kS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function m1(t,e,n,r){if(typeof e=="function"){const[s,i]=kS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=kS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Kh(t){return en(t)?t.get():t}function WK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:HK(n,r,s,t),renderState:e()}}function HK(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Kh(i[f]);let{initial:o,animate:a}=t;const l=xm(t),c=$M(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!wm(p)){const f=Array.isArray(p)?p:[p];for(let m=0;m<f.length;m++){const w=m1(t,f[m]);if(w){const{transitionEnd:g,transition:b,..._}=w;for(const x in _){let E=_[x];if(Array.isArray(E)){const k=h?E.length-1:0;E=E[k]}E!==null&&(s[x]=E)}for(const x in g)s[x]=g[x]}}}return s}const KM=t=>(e,n)=>{const r=v.useContext(vm),s=v.useContext(zx),i=()=>WK(t,e,r,s);return n?i():Iq(i)};function g1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(en(r[o])||e.style&&en(e.style[o])||zM(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const qK=KM({scrapeMotionValuesFromProps:g1,createRenderState:f1});function YM(t,e,n){const r=g1(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const i=Wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const GK=KM({scrapeMotionValuesFromProps:YM,createRenderState:qM}),KK=Symbol.for("motionComponentSymbol");function Aa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YK(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Aa(n)&&(n.current=r))},[e])}const y1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QK="framerAppearId",QM="data-"+y1(QK),XM=v.createContext({});function XK(t,e,n,r,s){var g,b;const{visualElement:i}=v.useContext(vm),o=v.useContext(UM),a=v.useContext(zx),l=v.useContext(FM).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,p=v.useContext(XM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&JK(c.current,n,s,p);const f=v.useRef(!1);v.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const m=n[QM],w=v.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Pq(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),w.current=!1))}),h}function JK(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Aa(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function JM(t){if(t)return t.options.allowProjection!==!1?t.projection:JM(t.parent)}function Kg(t,{forwardMotionProps:e=!1}={},n,r){n&&SK(n);const s=p1(t)?GK:qK;function i(a,l){let c;const h={...v.useContext(FM),...a,layoutId:ZK(a)},{isStatic:p}=h,f=AK(a),m=s(a,p);if(!p&&$x){eY();const w=tY(h);c=w.MeasureLayout,f.visualElement=XK(t,m,h,r,w.ProjectionNode)}return u.jsxs(vm.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...h}):null,zK(t,a,YK(m,f.visualElement,l),m,p,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(i);return o[KK]=t,o}function ZK({layoutId:t}){const e=v.useContext(K2).id;return e&&t!==void 0?e+"-"+t:t}function eY(t,e){v.useContext(UM).strict}function tY(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nY(t,e){if(typeof Proxy>"u")return Kg;const n=new Map,r=(i,o)=>Kg(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Kg(o,void 0,t,e)),n.get(o))})}function ZM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yg(t){return t===void 0||t===1}function a0({scale:t,scaleX:e,scaleY:n}){return!Yg(t)||!Yg(e)||!Yg(n)}function oo(t){return a0(t)||eD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eD(t){return AS(t.x)||AS(t.y)}function AS(t){return t&&t!=="0%"}function ap(t,e,n){const r=t-n,s=e*r;return n+s}function RS(t,e,n,r,s){return s!==void 0&&(t=ap(t,s,r)),ap(t,n,r)+e}function l0(t,e=0,n=1,r,s){t.min=RS(t.min,e,n,r,s),t.max=RS(t.max,e,n,r,s)}function tD(t,{x:e,y:n}){l0(t.x,e.translate,e.scale,e.originPoint),l0(t.y,n.translate,n.scale,n.originPoint)}const NS=.999999999999,MS=1.0000000000001;function iY(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Na(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tD(t,o)),r&&oo(i.latestValues)&&Na(t,i.latestValues))}e.x<MS&&e.x>NS&&(e.x=1),e.y<MS&&e.y>NS&&(e.y=1)}function Ra(t,e){t.min=t.min+e,t.max=t.max+e}function DS(t,e,n,r,s=.5){const i=tt(t.min,t.max,s);l0(t,e,n,i,r)}function Na(t,e){DS(t.x,e.x,e.scaleX,e.scale,e.originX),DS(t.y,e.y,e.scaleY,e.scale,e.originY)}function nD(t,e){return ZM(sY(t.getBoundingClientRect(),e))}function oY(t,e,n){const r=nD(t,n),{scroll:s}=e;return s&&(Ra(r.x,s.offset.x),Ra(r.y,s.offset.y)),r}const jS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ma=()=>({x:jS(),y:jS()}),OS=()=>({min:0,max:0}),ut=()=>({x:OS(),y:OS()}),lp={current:null},v1={current:!1};function rD(){if(v1.current=!0,!!$x)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lp.current=t.matches;t.addEventListener("change",e),e()}else lp.current=!1}const aY=new WeakMap;function lY(t,e,n){for(const r in e){const s=e[r],i=n[r];if(en(s))t.addValue(r,s);else if(en(i))t.addValue(r,_l(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,_l(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const VS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=wn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=xm(n),this.isVariantNode=$M(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const m=p[f];l[f]!==void 0&&en(m)&&m.set(l[f],!1)}}mount(e){this.current=e,aY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),v1.current||rD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Hl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VS.length;r++){const s=VS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=lY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Y2(r)||X2(r))?r=parseFloat(r):!TK(r)&&Ui.test(n)&&(r=NM(e,n)),this.setBaseTarget(e,en(r)?r.get():r)),en(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=m1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!en(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){l1.render(this.render)}}class sD extends cY{constructor(){super(...arguments),this.KeyframeResolver=dK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iD(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function uY(t){return window.getComputedStyle(t)}class dY extends sD{constructor(){super(...arguments),this.type="html",this.renderInstance=iD}readValueFromInstance(e,n){var r;if(Hl.has(n))return(r=this.projection)!=null&&r.isProjecting?t0(n):AG(e,n);{const s=uY(e),i=(Qx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nD(e,n)}build(e,n,r){h1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return g1(e,n,r)}}const oD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hY(t,e,n,r){iD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(oD.has(s)?s:y1(s),e.attrs[s])}class fY extends sD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hl.has(n)){const r=RM(n);return r&&r.default||0}return n=oD.has(n)?n:y1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YM(e,n,r)}build(e,n,r){HM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){hY(e,n,r,s)}mount(e){this.isSVGTag=GM(e.tagName),super.mount(e)}}const pY=(t,e)=>p1(t)?new fY(e):new dY(e,{allowProjection:t!==v.Fragment});function $u(t,e,n){const r=t.getProps();return m1(r,e,n!==void 0?n:r.custom,t)}const c0=t=>Array.isArray(t);function mY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function gY(t){return c0(t)?t[t.length-1]||0:t}function yY(t,e){const n=$u(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=gY(i[o]);mY(t,o,a)}}function vY(t){return!!(en(t)&&t.add)}function u0(t,e){const n=t.getValue("willChange");if(vY(n))return n.add(e);if(!n&&ks.WillChange){const r=new ks.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aD(t){return t.props[QM]}const wY=t=>t!==null;function xY(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(wY),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const _Y={type:"spring",stiffness:500,damping:25,restSpeed:10},bY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TY={type:"keyframes",duration:.8},EY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SY=(t,{keyframes:e})=>e.length>2?TY:Hl.has(t)?t.startsWith("scale")?bY(e[1]):_Y:EY;function CY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const w1=(t,e,n,r={},s,i)=>o=>{const a=o1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Wr(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};CY(a)||Object.assign(h,SY(t,h)),h.duration&&(h.duration=Wr(h.duration)),h.repeatDelay&&(h.repeatDelay=Wr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(ks.instantAnimations||ks.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,p&&!i&&e.get()!==void 0){const f=xY(h.keyframes,a);if(f!==void 0){Ze.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new s1(h):new ZG(h)};function IY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const p=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||c&&IY(c,h))continue;const m={delay:n,...o1(i||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const _=aD(t);if(_){const x=window.MotionHandoffAnimation(_,h,Ze);x!==null&&(m.startTime=x,g=!0)}}u0(t,h),p.start(w1(h,p,f,t.shouldReduceMotion&&PM.has(h)?{type:!1}:m,t,g));const b=p.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{Ze.update(()=>{o&&yY(t,o)})}),l}function d0(t,e,n={}){var l;const r=$u(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(lD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:f}=s;return PY(t,e,c,h,p,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,h]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function PY(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,h=typeof r=="function",p=h?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(t.variantChildren).sort(kY).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(d0(f,e,{...o,delay:n+(h?0:r)+p(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function kY(t,e){return t.sortNodePosition(e)}function AY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>d0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=d0(t,e,n);else{const s=typeof e=="function"?$u(t,e,n.custom):e;r=Promise.all(lD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function cD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const RY=d1.length;function uD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RY;n++){const r=d1[n],s=t.props[r];(Uu(s)||s===!1)&&(e[r]=s)}return e}const NY=[...u1].reverse(),MY=u1.length;function DY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>AY(t,n,r)))}function jY(t){let e=DY(t),n=LS(),r=!0;const s=l=>(c,h)=>{var f;const p=$u(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:w,...g}=p;c={...c,...g,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=uD(t.parent)||{},p=[],f=new Set;let m={},w=1/0;for(let b=0;b<MY;b++){const _=NY[b],x=n[_],E=c[_]!==void 0?c[_]:h[_],k=Uu(E),R=_===l?x.isActive:null;R===!1&&(w=b);let j=E===h[_]&&E!==c[_]&&k;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...m},!x.isActive&&R===null||!E&&!x.prevProp||wm(E)||typeof E=="boolean")continue;const C=OY(x.prevProp,E);let S=C||_===l&&x.isActive&&!j&&k||b>w&&k,I=!1;const A=Array.isArray(E)?E:[E];let M=A.reduce(s(_),{});R===!1&&(M={});const{prevResolvedValues:D={}}=x,N={...D,...M},z=X=>{S=!0,f.has(X)&&(I=!0,f.delete(X)),x.needsAnimating[X]=!0;const O=t.getValue(X);O&&(O.liveStyle=!1)};for(const X in N){const O=M[X],L=D[X];if(m.hasOwnProperty(X))continue;let G=!1;c0(O)&&c0(L)?G=!cD(O,L):G=O!==L,G?O!=null?z(X):f.add(X):O!==void 0&&f.has(X)?z(X):x.protectedKeys[X]=!0}x.prevProp=E,x.prevResolvedValues=M,x.isActive&&(m={...m,...M}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&C)||I)&&p.push(...A.map(X=>({animation:X,options:{type:_}})))}if(f.size){const b={};if(typeof c.initial!="boolean"){const _=$u(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}f.forEach(_=>{const x=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),b[_]=x??null}),p.push({animation:b})}let g=!!p.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(p):Promise.resolve()}function a(l,c){var p;if(n[l].isActive===c)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=LS(),r=!0}}}function OY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cD(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LS(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VY extends Ki{constructor(e){super(e),e.animationState||(e.animationState=jY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let LY=0;class FY extends Ki{constructor(){super(...arguments),this.id=LY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UY={animation:{Feature:VY},exit:{Feature:FY}};function zu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const BY=t=>e=>c1(e)&&t(e,yd(e));function eu(t,e,n,r){return zu(t,e,BY(n),r)}const dD=1e-4,$Y=1-dD,zY=1+dD,hD=.01,WY=0-hD,HY=0+hD;function cn(t){return t.max-t.min}function qY(t,e,n){return Math.abs(t-e)<=n}function FS(t,e,n,r=.5){t.origin=r,t.originPoint=tt(e.min,e.max,t.origin),t.scale=cn(n)/cn(e),t.translate=tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$Y&&t.scale<=zY||isNaN(t.scale))&&(t.scale=1),(t.translate>=WY&&t.translate<=HY||isNaN(t.translate))&&(t.translate=0)}function tu(t,e,n,r){FS(t.x,e.x,n.x,r?r.originX:void 0),FS(t.y,e.y,n.y,r?r.originY:void 0)}function US(t,e,n){t.min=n.min+e.min,t.max=t.min+cn(e)}function GY(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+cn(e)}function nu(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function Bn(t){return[t("x"),t("y")]}const fD=({current:t})=>t?t.ownerDocument.defaultView:null,$S=(t,e)=>Math.abs(t-e);function KY(t,e){const n=$S(t.x,e.x),r=$S(t.y,e.y);return Math.sqrt(n**2+r**2)}class pD{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=KY(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:g}=f,{timestamp:b}=Dt;this.history.push({...g,timestamp:b});const{onStart:_,onMove:x}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Qg(m,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xg(f.type==="pointercancel"?this.lastMoveEventInfo:Qg(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),g&&g(f,_)},!c1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=yd(e),l=Qg(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Dt;this.history=[{...c,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Xg(l,this.history)),this.removeListeners=pd(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fi(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function zS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xg({point:t},e){return{point:t,delta:zS(t,mD(e)),offset:zS(t,YY(e)),velocity:QY(e,.1)}}function YY(t){return t[0]}function mD(t){return t[t.length-1]}function QY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=mD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Wr(e)));)n--;if(!r)return{x:0,y:0};const i=Hr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function XY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?tt(n,t,r.max):Math.min(t,n)),t}function WS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JY(t,{top:e,left:n,bottom:r,right:s}){return{x:WS(t.x,n,s),y:WS(t.y,e,r)}}function HS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZY(t,e){return{x:HS(t.x,e.x),y:HS(t.y,e.y)}}function eQ(t,e){let n=.5;const r=cn(t),s=cn(e);return s>r?n=Vu(e.min,e.max-r,t.min):r>s&&(n=Vu(t.min,t.max-s,e.min)),Ps(0,1,n)}function tQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const h0=.35;function nQ(t=h0){return t===!1?t=0:t===!0&&(t=h0),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:GS(t,e),max:GS(t,n)}}function GS(t,e){return typeof t=="number"?t:t[e]||0}const rQ=new WeakMap;class sQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(p).point)},o=(p,f)=>{const{drag:m,dragPropagation:w,onDragStart:g}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mK(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(_=>{let x=this.getAxisMotionValue(_).get()||0;if(qr.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[_];k&&(x=cn(k)*(parseFloat(x)/100))}}this.originPoint[_]=x}),g&&Ze.postRender(()=>g(p,f)),u0(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:g,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=iQ(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),b&&b(p,f)},l=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f,this.stop(p,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Bn(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new pD(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:fD(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ze.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!gh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=XY(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=JY(r.layoutBox,e):this.constraints=!1,this.elastic=nQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Aa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=oY(r,s.root,this.visualElement.getTransformPagePoint());let o=ZY(s.layout.layoutBox,i);if(n){const a=n(rY(o));this.hasMutatedConstraints=!!a,a&&(o=ZM(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Bn(h=>{if(!gh(h,n,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return u0(this.visualElement,e),r.start(w1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!gh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-tt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Aa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=eQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(o=>{if(!gh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(tt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;rQ.set(this.visualElement,this);const e=this.visualElement.current,n=eu(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Aa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ze.read(r);const o=zu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bn(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=h0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oQ extends Ki{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new sQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KS=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class aQ extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new pD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:KS(e),onStart:KS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ze.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=YS(t,e.target.x),r=YS(t,e.target.y);return`${n}% ${r}%`}},lQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ui.parse(t);if(s.length>5)return r;const i=Ui.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=tt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let QS=!1;class cQ extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;RK(uQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),QS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,QS=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gD(t){const[e,n]=EK(),r=v.useContext(K2);return u.jsx(cQ,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(XM),isPresent:e,safeToRemove:n})}const uQ={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:lQ};function dQ(t,e,n){const r=en(t)?t:_l(t);return r.start(w1("",r,e,n)),r.animation}const hQ=(t,e)=>t.depth-e.depth;class fQ{constructor(){this.children=[],this.isDirty=!1}add(e){Wx(this.children,e),this.isDirty=!0}remove(e){Hx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hQ),this.isDirty=!1,this.children.forEach(e)}}function pQ(t,e){const n=wn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Fi(r),t(i-e))};return Ze.setup(r,!0),()=>Fi(r)}const yD=["TopLeft","TopRight","BottomLeft","BottomRight"],mQ=yD.length,XS=t=>typeof t=="string"?parseFloat(t):t,JS=t=>typeof t=="number"||ae.test(t);function gQ(t,e,n,r,s,i){s?(t.opacity=tt(0,n.opacity??1,yQ(r)),t.opacityExit=tt(e.opacity??1,0,vQ(r))):i&&(t.opacity=tt(e.opacity??1,n.opacity??1,r));for(let o=0;o<mQ;o++){const a=`border${yD[o]}Radius`;let l=ZS(e,a),c=ZS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||JS(l)===JS(c)?(t[a]=Math.max(tt(XS(l),XS(c),r),0),(qr.test(c)||qr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=tt(e.rotate||0,n.rotate||0,r))}function ZS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yQ=vD(0,.5,iM),vQ=vD(.5,.95,Yn);function vD(t,e,n){return r=>r<t?0:r>e?1:n(Vu(t,e,r))}function eC(t,e){t.min=e.min,t.max=e.max}function Un(t,e){eC(t.x,e.x),eC(t.y,e.y)}function tC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nC(t,e,n,r,s){return t-=e,t=ap(t,1/n,r),s!==void 0&&(t=ap(t,1/s,r)),t}function wQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(qr.test(e)&&(e=parseFloat(e),e=tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=tt(i.min,i.max,r);t===i&&(a-=e),t.min=nC(t.min,e,n,a,s),t.max=nC(t.max,e,n,a,s)}function rC(t,e,[n,r,s],i,o){wQ(t,e[n],e[r],e[s],e.scale,i,o)}const xQ=["x","scaleX","originX"],_Q=["y","scaleY","originY"];function sC(t,e,n,r){rC(t.x,e,xQ,n?n.x:void 0,r?r.x:void 0),rC(t.y,e,_Q,n?n.y:void 0,r?r.y:void 0)}function iC(t){return t.translate===0&&t.scale===1}function wD(t){return iC(t.x)&&iC(t.y)}function oC(t,e){return t.min===e.min&&t.max===e.max}function bQ(t,e){return oC(t.x,e.x)&&oC(t.y,e.y)}function aC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xD(t,e){return aC(t.x,e.x)&&aC(t.y,e.y)}function lC(t){return cn(t.x)/cn(t.y)}function cC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TQ{constructor(){this.members=[]}add(e){Wx(this.members,e),e.scheduleRender()}remove(e){if(Hx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:p,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Jg=["","X","Y","Z"],SQ=1e3;let CQ=0;function Zg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _D(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_D(r)}function bD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=CQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kQ),this.nodes.forEach(MQ),this.nodes.forEach(DQ),this.nodes.forEach(AQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=LM(o)&&!_K(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,p=0;const f=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{p=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,h&&h(),h=pQ(f,250),Yh.hasAnimatedSinceResize&&(Yh.hasAnimatedSinceResize=!1,this.nodes.forEach(hC)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||FQ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!xD(this.targetLayout,m),x=!p&&f;if(this.options.layoutRoot||this.resumeFrom||x||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...o1(w,"layout"),onPlay:g,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,x)}else p||hC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_D(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NQ),this.nodes.forEach(IQ),this.nodes.forEach(PQ)):this.nodes.forEach(dC),this.clearAllSnapshots();const a=wn.now();Dt.delta=Ps(0,1e3/60,a-Dt.timestamp),Dt.timestamp=a,Dt.isProcessing=!0,$g.update.process(Dt),$g.preRender.process(Dt),$g.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RQ),this.sharedNodes.forEach(OQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||oo(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),UQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ut();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(BQ))){const{scroll:h}=this.root;h&&(Ra(a.x,h.offset.x),Ra(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=ut();if(Un(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:f}=h;h!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Un(a,o),Ra(a.x,p.offset.x),Ra(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const l=ut();Un(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Na(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oo(h.latestValues)&&Na(l,h.latestValues)}return oo(this.latestValues)&&Na(l,this.latestValues),l}removeTransform(o){const a=ut();Un(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!oo(c.latestValues))continue;a0(c.latestValues)&&c.updateSnapshot();const h=ut(),p=c.measurePageBox();Un(h,p),sC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return oo(this.latestValues)&&sC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),nu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),tD(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),nu(this.relativeTargetOrigin,this.target,m.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||a0(this.parent.latestValues)||eD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Un(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;iY(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ut());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tC(this.prevProjectionDelta.x,this.projectionDelta.x),tC(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!cC(this.projectionDelta.x,this.prevProjectionDelta.x)||!cC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ma(),this.projectionDelta=Ma(),this.projectionDeltaWithTransform=Ma()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},p=Ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ut(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,g=m!==w,b=this.getStack(),_=!b||b.members.length<=1,x=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(LQ));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const R=k/1e3;fC(p.x,o.x,R),fC(p.y,o.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VQ(this.relativeTarget,this.relativeTargetOrigin,f,R),E&&bQ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ut()),Un(E,this.relativeTarget)),g&&(this.animationValues=h,gQ(h,c,this.latestValues,R,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Yh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=dQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&TD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const p=cn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const f=cn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Un(a,l),Na(a,h),tu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new TQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zg("z",o,c,this.animationValues);for(let h=0;h<Jg.length;h++)Zg(`rotate${Jg[h]}`,o,c,this.animationValues),Zg(`skew${Jg[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Kh(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Kh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=EQ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(p=l(h,p)),o.transform=p;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Bu){if(h[w]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:_}=Bu[w],x=p==="none"?h[w]:g(h[w],c);if(b){const E=b.length;for(let k=0;k<E;k++)o[b[k]]=x}else _?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=c===this?Kh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function IQ(t){t.updateLayout()}function PQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Bn(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],m=cn(f);f.min=r[p].min,f.max=f.min+m}):TD(i,e.layoutBox,r)&&Bn(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],m=cn(r[p]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=Ma();tu(a,r,e.layoutBox);const l=Ma();o?tu(l,t.applyTransform(s,!0),e.measuredBox):tu(l,r,e.layoutBox);const c=!wD(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:m}=p;if(f&&m){const w=ut();nu(w,e.layoutBox,f.layoutBox);const g=ut();nu(g,r,m.layoutBox),xD(w,g)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RQ(t){t.clearSnapshot()}function uC(t){t.clearMeasurements()}function dC(t){t.isLayoutDirty=!1}function NQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MQ(t){t.resolveTargetDelta()}function DQ(t){t.calcProjection()}function jQ(t){t.resetSkewAndRotation()}function OQ(t){t.removeLeadSnapshot()}function fC(t,e,n){t.translate=tt(e.translate,0,n),t.scale=tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pC(t,e,n,r){t.min=tt(e.min,n.min,r),t.max=tt(e.max,n.max,r)}function VQ(t,e,n,r){pC(t.x,e.x,n.x,r),pC(t.y,e.y,n.y,r)}function LQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FQ={duration:.45,ease:[.4,0,.1,1]},mC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gC=mC("applewebkit/")&&!mC("chrome/")?Math.round:Yn;function yC(t){t.min=gC(t.min),t.max=gC(t.max)}function UQ(t){yC(t.x),yC(t.y)}function TD(t,e,n){return t==="position"||t==="preserve-aspect"&&!qY(lC(e),lC(n),.2)}function BQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $Q=bD({attachResizeListener:(t,e)=>zu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},ED=bD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ey.current){const t=new $Q({});t.mount(window),t.setOptions({layoutScroll:!0}),ey.current=t}return ey.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zQ={pan:{Feature:aQ},drag:{Feature:oQ,ProjectionNode:ED,MeasureLayout:gD}};function vC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ze.postRender(()=>i(e,yd(e)))}class WQ extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=gK(e,(n,r)=>(vC(this.node,r,"Start"),s=>vC(this.node,s,"End"))))}unmount(){}}class HQ extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pd(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ze.postRender(()=>i(e,yd(e)))}class qQ extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=xK(e,(n,r)=>(wC(this.node,r,"Start"),(s,{success:i})=>wC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f0=new WeakMap,ty=new WeakMap,GQ=t=>{const e=f0.get(t.target);e&&e(t)},KQ=t=>{t.forEach(GQ)};function YQ({root:t,...e}){const n=t||document;ty.has(n)||ty.set(n,{});const r=ty.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(KQ,{root:t,...e})),r[s]}function QQ(t,e,n){const r=YQ(e);return f0.set(t,n),r.observe(t),()=>{f0.delete(t),r.unobserve(t)}}const XQ={some:0,all:1};class JQ extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:XQ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),f=c?h:p;f&&f(l)};return QQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZQ(e,n))&&this.startObserver()}unmount(){}}function ZQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eX={inView:{Feature:JQ},tap:{Feature:qQ},focus:{Feature:HQ},hover:{Feature:WQ}},tX={layout:{ProjectionNode:ED,MeasureLayout:gD}},nX={...UY,...eX,...zQ,...tX},kn=nY(nX,pY);function rX(){!v1.current&&rD();const[t]=v.useState(lp.current);return t}const sX={some:0,all:1};function iX(t,e,{root:n,margin:r,amount:s="some"}={}){const i=MM(t),o=new WeakMap,a=c=>{c.forEach(h=>{const p=o.get(h.target);if(h.isIntersecting!==!!p)if(h.isIntersecting){const f=e(h.target,h);typeof f=="function"?o.set(h.target,f):l.unobserve(h.target)}else typeof p=="function"&&(p(h),o.delete(h.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof s=="number"?s:sX[s]});return i.forEach(c=>l.observe(c)),()=>l.disconnect()}function oX(t,{root:e,margin:n,amount:r,once:s=!1,initial:i=!1}={}){const[o,a]=v.useState(i);return v.useEffect(()=>{if(!t.current||s&&o)return;const l=()=>(a(!0),s?void 0:()=>a(!1)),c={root:e&&e.current||void 0,margin:n,amount:r};return iX(t.current,l,c)},[e,t,n,s,r]),o}const nr={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},aX={hidden:{opacity:0},visible:{opacity:1}},lX={fade:{container:nr,item:{hidden:{opacity:0},visible:{opacity:1}}},slide:{container:nr,item:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}}},scale:{container:nr,item:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}}},blur:{container:nr,item:{hidden:{opacity:0,filter:"blur(4px)"},visible:{opacity:1,filter:"blur(0px)"}}},"blur-slide":{container:nr,item:{hidden:{opacity:0,filter:"blur(4px)",y:20},visible:{opacity:1,filter:"blur(0px)",y:0}}},zoom:{container:nr,item:{hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:20}}}},flip:{container:nr,item:{hidden:{opacity:0,rotateX:-90},visible:{opacity:1,rotateX:0,transition:{type:"spring",stiffness:300,damping:20}}}},bounce:{container:nr,item:{hidden:{opacity:0,y:-50},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:400,damping:10}}}},rotate:{container:nr,item:{hidden:{opacity:0,rotate:-180},visible:{opacity:1,rotate:0,transition:{type:"spring",stiffness:200,damping:15}}}},swing:{container:nr,item:{hidden:{opacity:0,rotate:-10},visible:{opacity:1,rotate:0,transition:{type:"spring",stiffness:300,damping:8}}}}};function ga({children:t,className:e,variants:n,preset:r}){const s=r?lX[r]:{container:nr,item:aX},i=(n==null?void 0:n.container)||s.container,o=(n==null?void 0:n.item)||s.item;return u.jsx(kn.div,{initial:"hidden",animate:"visible",variants:i,className:le(e),children:q.Children.map(t,(a,l)=>u.jsx(kn.div,{variants:o,children:a},l))})}function cX({feature:t,className:e,...n}){const r=dX();return u.jsxs("div",{className:le("relative overflow-hidden p-6",e),...n,children:[u.jsx("div",{className:"pointer-events-none absolute top-0 left-1/2 -mt-2 -ml-20 h-full w-full [mask-image:linear-gradient(white,transparent)]",children:u.jsx("div",{className:"from-foreground/5 to-foreground/1 absolute inset-0 bg-gradient-to-r [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] opacity-100",children:u.jsx(uX,{width:20,height:20,x:"-12",y:"4",squares:r,className:"fill-foreground/5 stroke-foreground/25 absolute inset-0 h-full w-full mix-blend-overlay"})})}),u.jsx(t.icon,{className:"text-foreground/75 size-6",strokeWidth:1,"aria-hidden":!0}),u.jsx("h3",{className:"mt-10 text-sm md:text-base",children:t.title}),u.jsx("p",{className:"text-muted-foreground relative z-20 mt-2 text-xs font-light",children:t.description})]})}function uX({width:t,height:e,x:n,y:r,squares:s,...i}){const o=q.useId();return u.jsxs("svg",{"aria-hidden":"true",...i,children:[u.jsx("defs",{children:u.jsx("pattern",{id:o,width:t,height:e,patternUnits:"userSpaceOnUse",x:n,y:r,children:u.jsx("path",{d:`M.5 ${e}V.5H${t}`,fill:"none"})})}),u.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:`url(#${o})`}),s&&u.jsx("svg",{x:n,y:r,className:"overflow-visible",children:s.map(([a,l],c)=>u.jsx("rect",{strokeWidth:"0",width:t+1,height:e+1,x:a*t,y:l*e},c))})]})}function dX(t){return t=t??5,Array.from({length:t},()=>[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1])}const hX=Math.sqrt(5e3),fX=[{tempId:0,testimonial:"ServiceDesk Pro has revolutionized our support process. The intuitive interface and powerful features make ticket management a breeze.",by:"Sarah Johnson, IT Manager",imgSrc:"https://i.pravatar.cc/150?img=1"},{tempId:1,testimonial:"The real-time tracking and automated workflows have significantly improved our response times and customer satisfaction.",by:"Michael Chen, Operations Director",imgSrc:"https://i.pravatar.cc/150?img=2"},{tempId:2,testimonial:"Outstanding platform! The reporting features provide valuable insights that help us continuously improve our service quality.",by:"Emily Rodriguez, Customer Success Lead",imgSrc:"https://i.pravatar.cc/150?img=3"},{tempId:3,testimonial:"I'm confident my data is safe with ServiceDesk Pro. I can't say that about other providers.",by:"Dan Peterson, CTO at SecureNet",imgSrc:"https://i.pravatar.cc/150?img=4"},{tempId:4,testimonial:"We work 5x faster with ServiceDesk Pro. It's our favorite solution in the market.",by:"Alex Thompson, CEO at TechCorp",imgSrc:"https://i.pravatar.cc/150?img=5"},{tempId:5,testimonial:"ServiceDesk Pro's customer support is unparalleled. They're always there when we need them.",by:"Olivia Martinez, Support Manager",imgSrc:"https://i.pravatar.cc/150?img=6"},{tempId:6,testimonial:"The efficiency gains we've seen since implementing ServiceDesk Pro are off the charts!",by:"Raj Patel, Operations Manager",imgSrc:"https://i.pravatar.cc/150?img=7"},{tempId:7,testimonial:"It's so simple and intuitive, we got the team up to speed in 10 minutes.",by:"Marina Costa, HR Manager",imgSrc:"https://i.pravatar.cc/150?img=8"},{tempId:8,testimonial:"ServiceDesk Pro has transformed how we handle our workflow. It's a game-changer!",by:"Lila Wang, Workflow Specialist",imgSrc:"https://i.pravatar.cc/150?img=9"},{tempId:9,testimonial:"The ROI we've seen with ServiceDesk Pro is incredible. It's paid for itself many times over.",by:"Victor Hayes, Finance Analyst",imgSrc:"https://i.pravatar.cc/150?img=10"}],pX=({position:t,testimonial:e,handleMove:n,cardSize:r})=>{const s=t===0;return u.jsxs("div",{onClick:()=>n(t),className:le("absolute left-1/2 top-1/2 cursor-pointer border-2 p-8 transition-all duration-500 ease-in-out",s?"z-10 bg-primary text-primary-foreground border-primary":"z-0 bg-card text-card-foreground border-border hover:border-primary/50"),style:{width:r,height:r,clipPath:"polygon(50px 0%, calc(100% - 50px) 0%, 100% 50px, 100% 100%, calc(100% - 50px) 100%, 50px 100%, 0 100%, 0 0)",transform:`
          translate(-50%, -50%) 
          translateX(${r/1.5*t}px)
          translateY(${s?-65:t%2?15:-15}px)
          rotate(${s?0:t%2?2.5:-2.5}deg)
        `,boxShadow:s?"0px 8px 0px 4px hsl(var(--border))":"0px 0px 0px 0px transparent"},children:[u.jsx("span",{className:"absolute block origin-top-right rotate-45 bg-border",style:{right:-2,top:48,width:hX,height:2}}),u.jsx("img",{src:e.imgSrc,alt:`${e.by.split(",")[0]}`,className:"mb-4 h-14 w-12 bg-muted object-cover object-top",style:{boxShadow:"3px 3px 0px hsl(var(--background))"}}),u.jsxs("h3",{className:le("text-base sm:text-xl font-medium",s?"text-primary-foreground":"text-foreground"),children:['"',e.testimonial,'"']}),u.jsxs("p",{className:le("absolute bottom-8 left-8 right-8 mt-2 text-sm italic",s?"text-primary-foreground/80":"text-muted-foreground"),children:["- ",e.by]})]})},mX=()=>{const[t,e]=v.useState(365),[n,r]=v.useState(fX),s=i=>{const o=[...n];if(i>0)for(let a=i;a>0;a--){const l=o.shift();if(!l)return;o.push({...l,tempId:Math.random()})}else for(let a=i;a<0;a++){const l=o.pop();if(!l)return;o.unshift({...l,tempId:Math.random()})}r(o)};return v.useEffect(()=>{const i=()=>{const{matches:o}=window.matchMedia("(min-width: 640px)");e(o?365:290)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),u.jsxs("div",{className:"relative w-full overflow-hidden bg-muted/30",style:{height:600},children:[n.map((i,o)=>{const a=n.length%2?o-(n.length+1)/2:o-n.length/2;return u.jsx(pX,{testimonial:i,handleMove:s,position:a,cardSize:t},i.tempId)}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-2",children:[u.jsx("button",{onClick:()=>s(-1),className:le("flex h-14 w-14 items-center justify-center text-2xl transition-colors","bg-background border-2 border-border hover:bg-primary hover:text-primary-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),"aria-label":"Previous testimonial",children:u.jsx(EF,{})}),u.jsx("button",{onClick:()=>s(1),className:le("flex h-14 w-14 items-center justify-center text-2xl transition-colors","bg-background border-2 border-border hover:bg-primary hover:text-primary-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),"aria-label":"Next testimonial",children:u.jsx(bw,{})})]})]})};function gX(t,e){const n=-35+Math.random()*10;return{x:Math.random()*t*1.5-t*.25,y:Math.random()*e*1.5-e*.25,width:30+Math.random()*60,length:e*2.5,angle:n,speed:.6+Math.random()*1.2,opacity:.12+Math.random()*.16,hue:190+Math.random()*70,pulse:Math.random()*Math.PI*2,pulseSpeed:.02+Math.random()*.03}}function yX({className:t,intensity:e="strong"}){const n=v.useRef(null),r=v.useRef([]),s=v.useRef(0),i=20,o={subtle:.7,medium:.85,strong:1};return v.useEffect(()=>{const a=n.current;if(!a)return;const l=a.getContext("2d");if(!l)return;const c=()=>{const m=window.devicePixelRatio||1;a.width=window.innerWidth*m,a.height=window.innerHeight*m,a.style.width=`${window.innerWidth}px`,a.style.height=`${window.innerHeight}px`,l.scale(m,m);const w=i*1.5;r.current=Array.from({length:w},()=>gX(a.width,a.height))};c(),window.addEventListener("resize",c);function h(m,w,g){if(!a)return m;const b=w%3,_=a.width/3;return m.y=a.height+100,m.x=b*_+_/2+(Math.random()-.5)*_*.5,m.width=100+Math.random()*100,m.speed=.5+Math.random()*.4,m.hue=190+w*70/g,m.opacity=.2+Math.random()*.1,m}function p(m,w){m.save(),m.translate(w.x,w.y),m.rotate(w.angle*Math.PI/180);const g=w.opacity*(.8+Math.sin(w.pulse)*.2)*o[e],b=m.createLinearGradient(0,0,0,w.length);b.addColorStop(0,`hsla(${w.hue}, 85%, 65%, 0)`),b.addColorStop(.1,`hsla(${w.hue}, 85%, 65%, ${g*.5})`),b.addColorStop(.4,`hsla(${w.hue}, 85%, 65%, ${g})`),b.addColorStop(.6,`hsla(${w.hue}, 85%, 65%, ${g})`),b.addColorStop(.9,`hsla(${w.hue}, 85%, 65%, ${g*.5})`),b.addColorStop(1,`hsla(${w.hue}, 85%, 65%, 0)`),m.fillStyle=b,m.fillRect(-w.width/2,0,w.width,w.length),m.restore()}function f(){if(!a||!l)return;l.clearRect(0,0,a.width,a.height),l.filter="blur(35px)";const m=r.current.length;r.current.forEach((w,g)=>{w.y-=w.speed,w.pulse+=w.pulseSpeed,w.y+w.length<-100&&h(w,g,m),p(l,w)}),s.current=requestAnimationFrame(f)}return f(),()=>{window.removeEventListener("resize",c),s.current&&cancelAnimationFrame(s.current)}},[e]),u.jsxs("div",{className:le("relative min-h-screen w-full overflow-hidden bg-background dark:bg-background",t),children:[u.jsx("canvas",{ref:n,className:"absolute inset-0",style:{filter:"blur(15px)"}}),u.jsx(kn.div,{className:"absolute inset-0 bg-background/5 dark:bg-background/5",animate:{opacity:[.05,.15,.05]},transition:{duration:10,ease:"easeInOut",repeat:Number.POSITIVE_INFINITY},style:{backdropFilter:"blur(50px)"}}),u.jsx("div",{className:"relative z-10 flex h-screen w-full items-center justify-center"})]})}const ql=v.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ql.displayName="Input";function vX(){const[t,e]=v.useState(""),{toast:n}=uk(),r=v.useRef(null),s=oX(r),i=l=>{l.preventDefault(),t&&(n({title:"Newsletter Subscription",description:"Thank you for subscribing to our newsletter!"}),e(""))},o={visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12,staggerChildren:.1,delayChildren:.1}},hidden:{opacity:0,y:20}},a={visible:l=>({opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12,delay:l*.1}}),hidden:{opacity:0,y:20}};return u.jsx("footer",{className:"bg-background border-t border-border",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[u.jsxs(kn.div,{className:"space-y-4",ref:r,initial:"hidden",animate:s?"visible":"hidden",custom:0,variants:a,children:[u.jsx("h3",{className:"text-xl font-bold",children:"ServiceDesk Pro"}),u.jsx("p",{className:"text-muted-foreground",children:"Modern solutions for customer engagement and support operations."}),u.jsxs("div",{className:"flex space-x-4 pt-2",children:[u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:u.jsx(FF,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:u.jsx(IF,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:u.jsx(AF,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:u.jsx(NF,{className:"h-5 w-5"})})]})]}),u.jsxs(kn.div,{className:"space-y-4",initial:"hidden",animate:s?"visible":"hidden",custom:1,variants:a,children:[u.jsx("h3",{className:"text-xl font-bold",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(dr,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"})}),u.jsx("li",{children:u.jsx(dr,{to:"/dashboard",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Dashboard"})}),u.jsx("li",{children:u.jsx(dr,{to:"/create-ticket",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Create Ticket"})}),u.jsx("li",{children:u.jsx(dr,{to:"/payment",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"})})]})]}),u.jsxs(kn.div,{className:"space-y-4",initial:"hidden",animate:s?"visible":"hidden",custom:2,variants:a,children:[u.jsx("h3",{className:"text-xl font-bold",children:"Resources"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Documentation"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"API Reference"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Blog"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Support"})})]})]}),u.jsxs(kn.div,{className:"space-y-4",initial:"hidden",animate:s?"visible":"hidden",custom:3,variants:a,children:[u.jsx("h3",{className:"text-xl font-bold",children:"Stay Updated"}),u.jsx("p",{className:"text-muted-foreground",children:"Subscribe to our newsletter for the latest updates and news."}),u.jsx("form",{onSubmit:i,className:"space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ql,{type:"email",placeholder:"Your email",value:t,onChange:l=>e(l.target.value),className:"flex-1",required:!0}),u.jsx(ge,{type:"submit",size:"icon",children:u.jsx(Wc,{className:"h-4 w-4"})})]})})]})]}),u.jsx(kn.div,{className:"mt-16 pt-8 border-t border-border",initial:"hidden",animate:s?"visible":"hidden",variants:o,children:u.jsx("div",{className:"flex justify-center mb-8 ",children:u.jsx(kn.div,{className:"text-4xl md:text-8xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white/50 to-white",variants:{visible:{opacity:1,y:0,transition:{duration:.8}},hidden:{opacity:0,y:20}},children:"ServiceDesk Pro"})})}),u.jsxs("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-center text-sm text-muted-foreground",children:[u.jsx("p",{children:" 2025 ServiceDesk Pro. All rights reserved."}),u.jsx("div",{className:"flex gap-4 mt-4 md:mt-0",children:u.jsx("a",{href:"https://github.com/Kartikmehta18",target:"__blank",className:" text-blue-600 hover:text-foreground transition-colors",children:"Developed with  &  Kartikmehta18 "})})]})]})})}const wX={item:{hidden:{opacity:0,filter:"blur(12px)",y:12},visible:{opacity:1,filter:"blur(0px)",y:0,transition:{type:"spring",bounce:.3,duration:1.5}}}};function xC({className:t,delay:e=.1,children:n}){return rX()?u.jsx("div",{className:t,children:n}):u.jsx(kn.div,{initial:{filter:"blur(4px)",translateY:-8,opacity:0},whileInView:{filter:"blur(0px)",translateY:0,opacity:1},viewport:{once:!0},transition:{delay:e,duration:.8},className:t,children:n})}const xX=()=>{const{isAuthenticated:t}=Er(),e=br(),n=[{icon:Op,title:"Smart Ticket Management",description:"Create, track, and manage support tickets with intelligent categorization and priority assignment."},{icon:jo,title:"Real-time Updates",description:"Get instant notifications about ticket status changes and responses from our support team."},{icon:Tw,title:"Team Collaboration",description:"Enable seamless collaboration between users and support agents with internal comments and notes."},{icon:lv,title:"Secure & Reliable",description:"Enterprise-grade security with role-based access control and data encryption."},{icon:Wk,title:"Lightning Fast",description:"Optimized performance ensures quick response times and smooth user experience."},{icon:PF,title:"Global Support",description:"24/7 support across multiple time zones with multilingual assistance."}];return u.jsxs("div",{className:"min-h-screen overflow-hidden",children:[u.jsxs("main",{className:"overflow-hidden",children:[u.jsxs("section",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 z-0",children:u.jsx(yX,{intensity:"medium"})}),u.jsxs("div",{className:"relative z-10 pt-24 md:pt-36",children:[u.jsx("div",{className:"mx-auto max-w-7xl px-6",children:u.jsxs("div",{className:"text-center sm:mx-auto lg:mr-auto lg:mt-0",children:[u.jsxs(ga,{variants:wX,children:[u.jsxs(dr,{to:t?"/dashboard":"/register",className:"hover:bg-background dark:hover:border-t-border bg-muted group mx-auto flex w-fit items-center gap-4 rounded-full border p-1 pl-4 shadow-md shadow-black/5 transition-all duration-300 dark:border-t-white/5 dark:shadow-zinc-950",children:[u.jsx("span",{className:"text-foreground text-sm",children:"World-Class Service Desk Platform"}),u.jsx("span",{className:"dark:border-background block h-4 w-0.5 border-l bg-white dark:bg-zinc-700"}),u.jsx("div",{className:"bg-background group-hover:bg-muted size-6 overflow-hidden rounded-full duration-500",children:u.jsxs("div",{className:"flex w-12 -translate-x-1/2 duration-500 ease-in-out group-hover:translate-x-0",children:[u.jsx("span",{className:"flex size-6",children:u.jsx(Wc,{className:"m-auto size-3"})}),u.jsx("span",{className:"flex size-6",children:u.jsx(Wc,{className:"m-auto size-3"})})]})})]}),u.jsx("h1",{className:"mt-8 max-w-4xl mx-auto text-balance text-6xl md:text-7xl lg:mt-16 xl:text-[5.25rem]",children:"Modern Solutions for Customer Engagement"}),u.jsx("p",{className:"mx-auto mt-8 max-w-2xl text-balance text-lg",children:"Streamline your support operations with our intelligent ticket management system. Built for modern teams who demand excellence."})]}),u.jsxs(ga,{variants:{container:{visible:{transition:{staggerChildren:.05,delayChildren:.75}}},item:{hidden:{opacity:0,filter:"blur(12px)",y:12},visible:{opacity:1,filter:"blur(0px)",y:0,transition:{type:"spring",bounce:.3,duration:1.5}}}},className:"mt-12 flex flex-col items-center justify-center gap-2 md:flex-row",children:[u.jsx("div",{className:"bg-foreground/10 rounded-[14px] border p-0.5",children:u.jsx(ge,{size:"lg",className:"rounded-xl px-5 text-base",onClick:()=>e(t?"/dashboard":"/register"),children:u.jsx("span",{className:"text-nowrap",children:t?"Go to Dashboard":"Start Building"})})}),u.jsx(ge,{size:"lg",variant:"ghost",onClick:()=>e("/payment"),className:"h-10.5 rounded-xl px-5 mx-[2px]",children:u.jsx("span",{className:"text-nowrap",children:"View Plans"})})]})]})}),u.jsx(ga,{variants:{container:{visible:{transition:{staggerChildren:.05,delayChildren:.75}}},item:{hidden:{opacity:0,filter:"blur(12px)",y:12},visible:{opacity:1,filter:"blur(0px)",y:0,transition:{type:"spring",bounce:.3,duration:1.5}}}},children:u.jsxs("div",{className:"relative -mr-56 mt-8 overflow-hidden px-2 sm:mr-0 sm:mt-12 md:mt-20",children:[u.jsx("div",{"aria-hidden":!0,className:"bg-gradient-to-b to-background absolute inset-0 z-10 from-transparent from-35%"}),u.jsxs("div",{className:"inset-shadow-2xs ring-background dark:inset-shadow-white/20 bg-background relative mx-auto max-w-6xl overflow-hidden rounded-2xl border p-4 shadow-lg shadow-zinc-950/15 ring-1",children:[u.jsx("img",{className:"bg-background aspect-15/8 relative hidden rounded-2xl dark:block",src:"/image.png",alt:"dashboard preview",width:"2700",height:"1440"}),u.jsx("img",{className:"z-2 border-border/25 aspect-15/8 relative rounded-2xl border dark:hidden ",src:"/image.png",alt:"dashboard preview",width:"2700",height:"1440"})]})]})})]})]}),u.jsx("section",{className:"py-16 md:py-32",children:u.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-8 px-4",children:[u.jsxs(xC,{className:"mx-auto max-w-3xl text-center",children:[u.jsx("h2",{className:"text-3xl font-bold tracking-wide text-balance md:text-4xl lg:text-5xl xl:font-extrabold",children:"Powerful Features for Modern Support Teams"}),u.jsx("p",{className:"text-muted-foreground mt-4 text-sm tracking-wide text-balance md:text-base",children:"Everything you need to deliver exceptional customer support and streamline your operations."})]}),u.jsx(xC,{delay:.4,className:"grid grid-cols-1 divide-x divide-y divide-dashed border border-dashed sm:grid-cols-2 md:grid-cols-3",children:n.map((r,s)=>u.jsx(cX,{feature:r},s))})]})}),u.jsx("section",{className:"bg-background pb-16 pt-16 md:pb-32",children:u.jsxs("div",{className:"group relative m-auto max-w-5xl px-6",children:[u.jsx("div",{className:"absolute inset-0 z-10 flex scale-95 items-center justify-center opacity-0 duration-500 group-hover:scale-100 group-hover:opacity-100",children:u.jsxs(dr,{to:"/register",className:"block text-sm duration-150 hover:opacity-75",children:[u.jsx("span",{children:"Join Our Customers"}),u.jsx(bw,{className:"ml-1 inline-block size-3"})]})}),u.jsx("div",{className:"group-hover:blur-xs mx-auto mt-12 grid max-w-2xl grid-cols-4 gap-x-12 gap-y-8 transition-all duration-500 group-hover:opacity-50 sm:gap-x-16 sm:gap-y-14",children:["https://html.tailus.io/blocks/customers/nvidia.svg","https://html.tailus.io/blocks/customers/column.svg","https://html.tailus.io/blocks/customers/github.svg","https://html.tailus.io/blocks/customers/nike.svg","https://html.tailus.io/blocks/customers/lemonsqueezy.svg","https://html.tailus.io/blocks/customers/laravel.svg","https://html.tailus.io/blocks/customers/lilly.svg","https://html.tailus.io/blocks/customers/openai.svg"].map((r,s)=>u.jsx("div",{className:"flex",children:u.jsx("img",{className:"mx-auto h-5 w-fit dark:invert",src:r,alt:`Company ${s+1}`,height:"20",width:"auto"})},s))})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx(ga,{preset:"scale",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-600 mb-2",children:"99.9%"}),u.jsx("div",{className:"text-muted-foreground font-medium",children:"Uptime"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl md:text-5xl font-bold text-purple-600 mb-2",children:"10K+"}),u.jsx("div",{className:"text-muted-foreground font-medium",children:"Happy Customers"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl md:text-5xl font-bold text-indigo-600 mb-2",children:"24/7"}),u.jsx("div",{className:"text-muted-foreground font-medium",children:"Support"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl md:text-5xl font-bold text-green-600 mb-2",children:"2min"}),u.jsx("div",{className:"text-muted-foreground font-medium",children:"Avg Response"})]})]})})})}),u.jsx("section",{className:"py-20 bg-background",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Loved by Teams Worldwide"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See what our customers have to say about their experience."})]}),u.jsx(mX,{})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:u.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:u.jsxs(ga,{preset:"slide",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Support Experience?"}),u.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of teams who trust ServiceDesk Pro for their support operations."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:u.jsxs(ge,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 px-8 py-4 text-lg font-semibold",onClick:()=>e("/register"),children:["Start Free Trial",u.jsx(Wc,{className:"ml-2 h-5 w-5"})]})})]})})})]}),u.jsx(vX,{})]})},De=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));De.displayName="Card";const Jt=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));Jt.displayName="CardHeader";const Zt=v.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));Zt.displayName="CardTitle";const As=v.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));As.displayName="CardDescription";const je=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));je.displayName="CardContent";const _X=v.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));_X.displayName="CardFooter";const bX=()=>{const[t,e]=v.useState(!1),{loginWithGoogle:n,loading:r,user:s}=Er(),i=br();v.useEffect(()=>{s&&i("/dashboard")},[s,i]);const o=async()=>{e(!0),await n()&&console.log("Login successful, user will be redirected to dashboard"),e(!1)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(De,{className:"shadow-2xl border-0 dark:bg-gray-800",children:[u.jsxs(Jt,{className:"space-y-4 pb-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:u.jsx(Op,{className:"h-8 w-8 text-white"})})}),u.jsx(Zt,{className:"text-2xl font-bold text-center text-gray-900 dark:text-white",children:"Welcome Back"}),u.jsx(As,{className:"text-center text-gray-600 dark:text-gray-400",children:"Sign in to access your ServiceDesk Pro account"})]}),u.jsxs(je,{children:[u.jsx("div",{className:"space-y-6",children:u.jsx(ge,{onClick:o,disabled:t||r,className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold",children:t||r?u.jsxs(u.Fragment,{children:[u.jsx(Uk,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["New to ServiceDesk Pro?"," ",u.jsx(dr,{to:"/register",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold hover:underline",children:"Create an account"})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-400 font-medium mb-2",children:"New Authentication System:"}),u.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"We now use Google Authentication for better security and user experience."})]})]})]})})})},TX=()=>{const[t,e]=v.useState(!1),{loginWithGoogle:n,loading:r}=Er(),s=br(),i=async()=>{e(!0),await n()&&s("/dashboard"),e(!1)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(De,{className:"shadow-2xl border-0 dark:bg-gray-800",children:[u.jsxs(Jt,{className:"space-y-4 pb-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:u.jsx(Op,{className:"h-8 w-8 text-white"})})}),u.jsx(Zt,{className:"text-2xl font-bold text-center text-gray-900 dark:text-white",children:"Create Account"}),u.jsx(As,{className:"text-center text-gray-600 dark:text-gray-400",children:"Sign up for your ServiceDesk Pro account"})]}),u.jsxs(je,{children:[u.jsx("div",{className:"space-y-6",children:u.jsx(ge,{onClick:i,disabled:t||r,className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold",children:t||r?u.jsxs(u.Fragment,{children:[u.jsx(Uk,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",u.jsx(dr,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold hover:underline",children:"Sign in here"})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[u.jsx("p",{className:"text-sm text-green-800 dark:text-green-400 font-medium mb-2",children:"Secure & Simple:"}),u.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Your account will be created automatically when you sign in with Google for the first time."})]})]})]})})})},EX=Dp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nn({className:t,variant:e,...n}){return u.jsx("div",{className:le(EX({variant:e}),t),...n})}function _C(t,[e,n]){return Math.min(n,Math.max(e,t))}var SX=v.createContext(void 0);function x1(t){const e=v.useContext(SX);return t||e||"ltr"}var ny=0;function SD(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bC()),document.body.insertAdjacentElement("beforeend",t[1]??bC()),ny++,()=>{ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ny--}},[])}function bC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ry="focusScope.autoFocusOnMount",sy="focusScope.autoFocusOnUnmount",TC={bubbles:!1,cancelable:!0},CX="FocusScope",_1=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Ft(s),h=Ft(i),p=v.useRef(null),f=$e(e,g=>l(g)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let g=function(E){if(m.paused||!a)return;const k=E.target;a.contains(k)?p.current=k:qs(p.current,{select:!0})},b=function(E){if(m.paused||!a)return;const k=E.relatedTarget;k!==null&&(a.contains(k)||qs(p.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&qs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){SC.add(m);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(ry,TC);a.addEventListener(ry,c),a.dispatchEvent(_),_.defaultPrevented||(IX(NX(CD(a)),{select:!0}),document.activeElement===g&&qs(a))}return()=>{a.removeEventListener(ry,c),setTimeout(()=>{const _=new CustomEvent(sy,TC);a.addEventListener(sy,h),a.dispatchEvent(_),_.defaultPrevented||qs(g??document.body,{select:!0}),a.removeEventListener(sy,h),SC.remove(m)},0)}}},[a,c,h,m]);const w=v.useCallback(g=>{if(!n&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(b&&_){const x=g.currentTarget,[E,k]=PX(x);E&&k?!g.shiftKey&&_===k?(g.preventDefault(),n&&qs(E,{select:!0})):g.shiftKey&&_===E&&(g.preventDefault(),n&&qs(k,{select:!0})):_===x&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(xe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});_1.displayName=CX;function IX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qs(r,{select:e}),document.activeElement!==n)return}function PX(t){const e=CD(t),n=EC(e,t),r=EC(e.reverse(),t);return[n,r]}function CD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function EC(t,e){for(const n of t)if(!kX(n,{upTo:e}))return n}function kX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AX(t){return t instanceof HTMLInputElement&&"select"in t}function qs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&AX(t)&&e&&t.select()}}var SC=RX();function RX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CC(t,e),t.unshift(e)},remove(e){var n;t=CC(t,e),(n=t[0])==null||n.resume()}}}function CC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NX(t){return t.filter(e=>e.tagName!=="A")}function MX(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var DX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},aa=new WeakMap,yh=new WeakMap,vh={},iy=0,ID=function(t){return t&&(t.host||ID(t.parentNode))},jX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ID(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OX=function(t,e,n,r){var s=jX(e,Array.isArray(t)?t:[t]);vh[n]||(vh[n]=new WeakMap);var i=vh[n],o=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",g=(aa.get(f)||0)+1,b=(i.get(f)||0)+1;aa.set(f,g),i.set(f,b),o.push(f),g===1&&w&&yh.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),a.clear(),iy++,function(){o.forEach(function(p){var f=aa.get(p)-1,m=i.get(p)-1;aa.set(p,f),i.set(p,m),f||(yh.has(p)||p.removeAttribute(r),yh.delete(p)),m||p.removeAttribute(n)}),iy--,iy||(aa=new WeakMap,aa=new WeakMap,yh=new WeakMap,vh={})}},PD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=DX(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),OX(r,s,n,"aria-hidden")):function(){return null}},Qh="right-scroll-bar-position",Xh="width-before-scroll-bar",VX="with-scroll-bars-hidden",LX="--removed-body-scroll-bar-size";function oy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FX(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var UX=typeof window<"u"?v.useLayoutEffect:v.useEffect,IC=new WeakMap;function BX(t,e){var n=FX(null,function(r){return t.forEach(function(s){return oy(s,r)})});return UX(function(){var r=IC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||oy(a,null)}),i.forEach(function(a){s.has(a)||oy(a,o)})}IC.set(n,t)},[t]),n}function $X(t){return t}function zX(t,e){e===void 0&&(e=$X);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function WX(t){t===void 0&&(t={});var e=zX(null);return e.options=Or({async:!0,ssr:!1},t),e}var kD=function(t){var e=t.sideCar,n=sd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Or({},n))};kD.isSideCarExport=!0;function HX(t,e){return t.useMedium(e),kD}var AD=WX(),ay=function(){},_m=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:ay,onWheelCapture:ay,onTouchMoveCapture:ay}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,g=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,x=t.gapMode,E=sd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,R=BX([n,e]),j=Or(Or({},E),s);return v.createElement(v.Fragment,null,h&&v.createElement(k,{sideCar:AD,removeScrollBar:c,shards:p,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Or(Or({},j),{ref:R})):v.createElement(_,Or({},j,{className:l,ref:R}),a))});_m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_m.classNames={fullWidth:Xh,zeroRight:Qh};var qX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qX();return e&&t.setAttribute("nonce",e),t}function KX(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function YX(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QX=function(){var t=0,e=null;return{add:function(n){t==0&&(e=GX())&&(KX(e,n),YX(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XX=function(){var t=QX();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RD=function(){var t=XX(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},JX={left:0,top:0,right:0,gap:0},ly=function(t){return parseInt(t||"",10)||0},ZX=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ly(n),ly(r),ly(s)]},eJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JX;var e=ZX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tJ=RD(),Ka="data-scroll-locked",nJ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ka,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ka,`] {
    `).concat(LX,": ").concat(a,`px;
  }
`)},PC=function(){var t=parseInt(document.body.getAttribute(Ka)||"0",10);return isFinite(t)?t:0},rJ=function(){v.useEffect(function(){return document.body.setAttribute(Ka,(PC()+1).toString()),function(){var t=PC()-1;t<=0?document.body.removeAttribute(Ka):document.body.setAttribute(Ka,t.toString())}},[])},sJ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;rJ();var i=v.useMemo(function(){return eJ(s)},[s]);return v.createElement(tJ,{styles:nJ(i,!e,s,n?"":"!important")})},p0=!1;if(typeof window<"u")try{var wh=Object.defineProperty({},"passive",{get:function(){return p0=!0,!0}});window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{p0=!1}var la=p0?{passive:!1}:!1,iJ=function(t){return t.tagName==="TEXTAREA"},ND=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!iJ(t)&&n[e]==="visible")},oJ=function(t){return ND(t,"overflowY")},aJ=function(t){return ND(t,"overflowX")},kC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MD(t,r);if(s){var i=DD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MD=function(t,e){return t==="v"?oJ(e):aJ(e)},DD=function(t,e){return t==="v"?lJ(e):cJ(e)},uJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},dJ=function(t,e,n,r,s){var i=uJ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,p=0,f=0;do{var m=DD(t,a),w=m[0],g=m[1],b=m[2],_=g-b-i*w;(w||_)&&MD(t,a)&&(p+=_,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(c=!0),c},xh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AC=function(t){return[t.deltaX,t.deltaY]},RC=function(t){return t&&"current"in t?t.current:t},hJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pJ=0,ca=[];function mJ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(pJ++)[0],i=v.useState(RD)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=NB([t.lockRef.current],(t.shards||[]).map(RC),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=xh(g),x=n.current,E="deltaX"in g?g.deltaX:x[0]-_[0],k="deltaY"in g?g.deltaY:x[1]-_[1],R,j=g.target,C=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in g&&C==="h"&&j.type==="range")return!1;var S=kC(C,j);if(!S)return!0;if(S?R=C:(R=C==="v"?"h":"v",S=kC(C,j)),!S)return!1;if(!r.current&&"changedTouches"in g&&(E||k)&&(r.current=R),!R)return!0;var I=r.current||R;return dJ(I,b,g,I==="h"?E:k,!0)},[]),l=v.useCallback(function(g){var b=g;if(!(!ca.length||ca[ca.length-1]!==i)){var _="deltaY"in b?AC(b):xh(b),x=e.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&hJ(R.delta,_)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var E=(o.current.shards||[]).map(RC).filter(Boolean).filter(function(R){return R.contains(b.target)}),k=E.length>0?a(b,E[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(g,b,_,x){var E={name:g,delta:b,target:_,should:x,shadowParent:gJ(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),h=v.useCallback(function(g){n.current=xh(g),r.current=void 0},[]),p=v.useCallback(function(g){c(g.type,AC(g),g.target,a(g,t.lockRef.current))},[]),f=v.useCallback(function(g){c(g.type,xh(g),g.target,a(g,t.lockRef.current))},[]);v.useEffect(function(){return ca.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,la),document.addEventListener("touchmove",l,la),document.addEventListener("touchstart",h,la),function(){ca=ca.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,la),document.removeEventListener("touchmove",l,la),document.removeEventListener("touchstart",h,la)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:fJ(s)}):null,m?v.createElement(sJ,{gapMode:t.gapMode}):null)}function gJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yJ=HX(AD,mJ);var b1=v.forwardRef(function(t,e){return v.createElement(_m,Or({},t,{ref:e,sideCar:yJ}))});b1.classNames=_m.classNames;var vJ=[" ","Enter","ArrowUp","ArrowDown"],wJ=[" ","Enter"],vd="Select",[bm,Tm,xJ]=Ap(vd),[Gl,rne]=Cl(vd,[xJ,Al]),Em=Al(),[_J,Yi]=Gl(vd),[bJ,TJ]=Gl(vd),jD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:p,disabled:f,required:m,form:w}=t,g=Em(e),[b,_]=v.useState(null),[x,E]=v.useState(null),[k,R]=v.useState(!1),j=x1(c),[C=!1,S]=xu({prop:r,defaultProp:s,onChange:i}),[I,A]=xu({prop:o,defaultProp:a,onChange:l}),M=v.useRef(null),D=b?w||!!b.closest("form"):!0,[N,z]=v.useState(new Set),se=Array.from(N).map(Y=>Y.props.value).join(";");return u.jsx(wA,{...g,children:u.jsxs(_J,{required:m,scope:e,trigger:b,onTriggerChange:_,valueNode:x,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:dl(),value:I,onValueChange:A,open:C,onOpenChange:S,dir:j,triggerPointerDownPosRef:M,disabled:f,children:[u.jsx(bm.Provider,{scope:e,children:u.jsx(bJ,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(Y=>{z(X=>new Set(X).add(Y))},[]),onNativeOptionRemove:v.useCallback(Y=>{z(X=>{const O=new Set(X);return O.delete(Y),O})},[]),children:n})}),D?u.jsxs(oj,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:p,value:I,onChange:Y=>A(Y.target.value),disabled:f,form:w,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};jD.displayName=vd;var OD="SelectTrigger",VD=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Em(n),o=Yi(OD,n),a=o.disabled||r,l=$e(e,o.onTriggerChange),c=Tm(n),h=v.useRef("touch"),[p,f,m]=aj(g=>{const b=c().filter(E=>!E.disabled),_=b.find(E=>E.value===o.value),x=lj(b,g,_);x!==void 0&&o.onValueChange(x.value)}),w=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(Dw,{asChild:!0,...i,children:u.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ij(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&w(g)}),onPointerDown:ee(s.onPointerDown,g=>{h.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const b=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&vJ.includes(g.key)&&(w(),g.preventDefault())})})})});VD.displayName=OD;var LD="SelectValue",FD=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Yi(LD,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,p=$e(e,l.onValueNodeChange);return At(()=>{c(h)},[c,h]),u.jsx(xe.span,{...a,ref:p,style:{pointerEvents:"none"},children:ij(l.value)?u.jsx(u.Fragment,{children:o}):i})});FD.displayName=LD;var EJ="SelectIcon",UD=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});UD.displayName=EJ;var SJ="SelectPortal",BD=t=>u.jsx(Rp,{asChild:!0,...t});BD.displayName=SJ;var $o="SelectContent",$D=v.forwardRef((t,e)=>{const n=Yi($o,t.__scopeSelect),[r,s]=v.useState();if(At(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ho.createPortal(u.jsx(zD,{scope:t.__scopeSelect,children:u.jsx(bm.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(WD,{...t,ref:e})});$D.displayName=$o;var sr=10,[zD,Qi]=Gl($o),CJ="SelectContentImpl",WD=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b,..._}=t,x=Yi($o,n),[E,k]=v.useState(null),[R,j]=v.useState(null),C=$e(e,ne=>k(ne)),[S,I]=v.useState(null),[A,M]=v.useState(null),D=Tm(n),[N,z]=v.useState(!1),se=v.useRef(!1);v.useEffect(()=>{if(E)return PD(E)},[E]),SD();const Y=v.useCallback(ne=>{const[Te,...Pe]=D().map(Ee=>Ee.ref.current),[ye]=Pe.slice(-1),Ie=document.activeElement;for(const Ee of ne)if(Ee===Ie||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Te&&R&&(R.scrollTop=0),Ee===ye&&R&&(R.scrollTop=R.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==Ie))return},[D,R]),X=v.useCallback(()=>Y([S,E]),[Y,S,E]);v.useEffect(()=>{N&&X()},[N,X]);const{onOpenChange:O,triggerPointerDownPosRef:L}=x;v.useEffect(()=>{if(E){let ne={x:0,y:0};const Te=ye=>{var Ie,Ee;ne={x:Math.abs(Math.round(ye.pageX)-(((Ie=L.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((Ee=L.current)==null?void 0:Ee.y)??0))}},Pe=ye=>{ne.x<=10&&ne.y<=10?ye.preventDefault():E.contains(ye.target)||O(!1),document.removeEventListener("pointermove",Te),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[E,O,L]),v.useEffect(()=>{const ne=()=>O(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[O]);const[G,H]=aj(ne=>{const Te=D().filter(Ie=>!Ie.disabled),Pe=Te.find(Ie=>Ie.ref.current===document.activeElement),ye=lj(Te,ne,Pe);ye&&setTimeout(()=>ye.ref.current.focus())}),J=v.useCallback((ne,Te,Pe)=>{const ye=!se.current&&!Pe;(x.value!==void 0&&x.value===Te||ye)&&(I(ne),ye&&(se.current=!0))},[x.value]),re=v.useCallback(()=>E==null?void 0:E.focus(),[E]),be=v.useCallback((ne,Te,Pe)=>{const ye=!se.current&&!Pe;(x.value!==void 0&&x.value===Te||ye)&&M(ne)},[x.value]),ze=r==="popper"?m0:HD,pe=ze===m0?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return u.jsx(zD,{scope:n,content:E,viewport:R,onViewportChange:j,itemRefCallback:J,selectedItem:S,onItemLeave:re,itemTextRefCallback:be,focusSelectedItem:X,selectedItemText:A,position:r,isPositioned:N,searchRef:G,children:u.jsx(b1,{as:Do,allowPinchZoom:!0,children:u.jsx(_1,{asChild:!0,trapped:x.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ee(s,ne=>{var Te;(Te=x.trigger)==null||Te.focus({preventScroll:!0}),ne.preventDefault()}),children:u.jsx(ed,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(ze,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ne=>ne.preventDefault(),..._,...pe,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ne=>{const Te=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Te&&ne.key.length===1&&H(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ye=D().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ie=ne.target,Ee=ye.indexOf(Ie);ye=ye.slice(Ee+1)}setTimeout(()=>Y(ye)),ne.preventDefault()}})})})})})})});WD.displayName=CJ;var IJ="SelectItemAlignedPosition",HD=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Yi($o,n),o=Qi($o,n),[a,l]=v.useState(null),[c,h]=v.useState(null),p=$e(e,C=>h(C)),f=Tm(n),m=v.useRef(!1),w=v.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:_,focusSelectedItem:x}=o,E=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&b&&_){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),A=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=A.left-S.left,Ee=I.left-Ie,bt=C.left-Ee,Rt=C.width+bt,Fn=Math.max(Rt,S.width),rn=window.innerWidth-sr,es=_C(Ee,[sr,Math.max(sr,rn-Fn)]);a.style.minWidth=Rt+"px",a.style.left=es+"px"}else{const Ie=S.right-A.right,Ee=window.innerWidth-I.right-Ie,bt=window.innerWidth-C.right-Ee,Rt=C.width+bt,Fn=Math.max(Rt,S.width),rn=window.innerWidth-sr,es=_C(Ee,[sr,Math.max(sr,rn-Fn)]);a.style.minWidth=Rt+"px",a.style.right=es+"px"}const M=f(),D=window.innerHeight-sr*2,N=g.scrollHeight,z=window.getComputedStyle(c),se=parseInt(z.borderTopWidth,10),Y=parseInt(z.paddingTop,10),X=parseInt(z.borderBottomWidth,10),O=parseInt(z.paddingBottom,10),L=se+Y+N+O+X,G=Math.min(b.offsetHeight*5,L),H=window.getComputedStyle(g),J=parseInt(H.paddingTop,10),re=parseInt(H.paddingBottom,10),be=C.top+C.height/2-sr,ze=D-be,pe=b.offsetHeight/2,ne=b.offsetTop+pe,Te=se+Y+ne,Pe=L-Te;if(Te<=be){const Ie=M.length>0&&b===M[M.length-1].ref.current;a.style.bottom="0px";const Ee=c.clientHeight-g.offsetTop-g.offsetHeight,bt=Math.max(ze,pe+(Ie?re:0)+Ee+X),Rt=Te+bt;a.style.height=Rt+"px"}else{const Ie=M.length>0&&b===M[0].ref.current;a.style.top="0px";const bt=Math.max(be,se+g.offsetTop+(Ie?J:0)+pe)+Pe;a.style.height=bt+"px",g.scrollTop=Te-be+g.offsetTop}a.style.margin=`${sr}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,b,_,i.dir,r]);At(()=>E(),[E]);const[k,R]=v.useState();At(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const j=v.useCallback(C=>{C&&w.current===!0&&(E(),x==null||x(),w.current=!1)},[E,x]);return u.jsx(kJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:u.jsx(xe.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});HD.displayName=IJ;var PJ="SelectPopperPosition",m0=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=sr,...i}=t,o=Em(n);return u.jsx(jw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m0.displayName=PJ;var[kJ,T1]=Gl($o,{}),g0="SelectViewport",qD=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Qi(g0,n),o=T1(g0,n),a=$e(e,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(bm.Slot,{scope:n,children:u.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const m=Math.abs(l.current-h.scrollTop);if(m>0){const w=window.innerHeight-sr*2,g=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),_=Math.max(g,b);if(_<w){const x=_+m,E=Math.min(w,x),k=x-E;p.style.height=E+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});qD.displayName=g0;var GD="SelectGroup",[AJ,RJ]=Gl(GD),NJ=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=dl();return u.jsx(AJ,{scope:n,id:s,children:u.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});NJ.displayName=GD;var KD="SelectLabel",YD=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=RJ(KD,n);return u.jsx(xe.div,{id:s.id,...r,ref:e})});YD.displayName=KD;var cp="SelectItem",[MJ,QD]=Gl(cp),XD=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Yi(cp,n),l=Qi(cp,n),c=a.value===r,[h,p]=v.useState(i??""),[f,m]=v.useState(!1),w=$e(e,x=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,x,r,s)}),g=dl(),b=v.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(MJ,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:v.useCallback(x=>{p(E=>E||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(bm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(xe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>m(!0)),onBlur:ee(o.onBlur,()=>m(!1)),onClick:ee(o.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ee(o.onPointerMove,x=>{var E;b.current=x.pointerType,s?(E=l.onItemLeave)==null||E.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,x=>{var E;x.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ee(o.onKeyDown,x=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(wJ.includes(x.key)&&_(),x.key===" "&&x.preventDefault())})})})})});XD.displayName=cp;var Nc="SelectItemText",JD=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Yi(Nc,n),a=Qi(Nc,n),l=QD(Nc,n),c=TJ(Nc,n),[h,p]=v.useState(null),f=$e(e,_=>p(_),l.onItemTextChange,_=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,_,l.value,l.disabled)}),m=h==null?void 0:h.textContent,w=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return At(()=>(g(w),()=>b(w)),[g,b,w]),u.jsxs(u.Fragment,{children:[u.jsx(xe.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ho.createPortal(i.children,o.valueNode):null]})});JD.displayName=Nc;var ZD="SelectItemIndicator",ej=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QD(ZD,n).isSelected?u.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});ej.displayName=ZD;var y0="SelectScrollUpButton",tj=v.forwardRef((t,e)=>{const n=Qi(y0,t.__scopeSelect),r=T1(y0,t.__scopeSelect),[s,i]=v.useState(!1),o=$e(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(rj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});tj.displayName=y0;var v0="SelectScrollDownButton",nj=v.forwardRef((t,e)=>{const n=Qi(v0,t.__scopeSelect),r=T1(v0,t.__scopeSelect),[s,i]=v.useState(!1),o=$e(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(rj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});nj.displayName=v0;var rj=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Qi("SelectScrollButton",n),o=v.useRef(null),a=Tm(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),At(()=>{var h;const c=a().find(p=>p.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),DJ="SelectSeparator",sj=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});sj.displayName=DJ;var w0="SelectArrow",jJ=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Em(n),i=Yi(w0,n),o=Qi(w0,n);return i.open&&o.position==="popper"?u.jsx(Ow,{...s,...r,ref:e}):null});jJ.displayName=w0;function ij(t){return t===""||t===void 0}var oj=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=$e(e,s),o=MX(n);return v.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),u.jsx(td,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});oj.displayName="BubbleSelect";function aj(t){const e=Ft(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function lj(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=OJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function OJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VJ=jD,cj=VD,LJ=FD,FJ=UD,UJ=BD,uj=$D,BJ=qD,dj=YD,hj=XD,$J=JD,zJ=ej,fj=tj,pj=nj,mj=sj;const Io=VJ,Po=LJ,Ti=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(cj,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(FJ,{asChild:!0,children:u.jsx(Lk,{className:"h-4 w-4 opacity-50"})})]}));Ti.displayName=cj.displayName;const gj=v.forwardRef(({className:t,...e},n)=>u.jsx(fj,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(SF,{className:"h-4 w-4"})}));gj.displayName=fj.displayName;const yj=v.forwardRef(({className:t,...e},n)=>u.jsx(pj,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Lk,{className:"h-4 w-4"})}));yj.displayName=pj.displayName;const Ei=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(UJ,{children:u.jsxs(uj,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(gj,{}),u.jsx(BJ,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(yj,{})]})}));Ei.displayName=uj.displayName;const WJ=v.forwardRef(({className:t,...e},n)=>u.jsx(dj,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));WJ.displayName=dj.displayName;const Re=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(hj,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(zJ,{children:u.jsx(_w,{className:"h-4 w-4"})})}),u.jsx($J,{children:e})]}));Re.displayName=hj.displayName;const HJ=v.forwardRef(({className:t,...e},n)=>u.jsx(mj,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));HJ.displayName=mj.displayName;const vj=6048e5,qJ=864e5,NC=Symbol.for("constructDateFrom");function Bi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&NC in t?t[NC](e):t instanceof Date?new t.constructor(e):new Date(e)}function Sr(t,e){return Bi(e||t,t)}let GJ={};function Sm(){return GJ}function Wu(t,e){var a,l,c,h;const n=Sm(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,s=Sr(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function up(t,e){return Wu(t,{...e,weekStartsOn:1})}function wj(t,e){const n=Sr(t,e==null?void 0:e.in),r=n.getFullYear(),s=Bi(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=up(s),o=Bi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=up(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function MC(t){const e=Sr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function KJ(t,...e){const n=Bi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function DC(t,e){const n=Sr(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function YJ(t,e,n){const[r,s]=KJ(n==null?void 0:n.in,t,e),i=DC(r),o=DC(s),a=+i-MC(i),l=+o-MC(o);return Math.round((a-l)/qJ)}function QJ(t,e){const n=wj(t,e),r=Bi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),up(r)}function XJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JJ(t){return!(!XJ(t)&&typeof t!="number"||isNaN(+Sr(t)))}function ZJ(t,e){const n=Sr(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tZ=(t,e,n)=>{let r;const s=eZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iZ={date:cy({formats:nZ,defaultWidth:"full"}),time:cy({formats:rZ,defaultWidth:"full"}),dateTime:cy({formats:sZ,defaultWidth:"full"})},oZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aZ=(t,e,n,r)=>oZ[t];function _c(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const lZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mZ={ordinalNumber:pZ,era:_c({values:lZ,defaultWidth:"wide"}),quarter:_c({values:cZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_c({values:uZ,defaultWidth:"wide"}),day:_c({values:dZ,defaultWidth:"wide"}),dayPeriod:_c({values:hZ,defaultWidth:"wide",formattingValues:fZ,defaultFormattingWidth:"wide"})};function bc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yZ(a,p=>p.test(o)):gZ(a,p=>p.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function gZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vZ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const wZ=/^(\d+)(th|st|nd|rd)?/i,xZ=/\d+/i,_Z={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bZ={any:[/^b/i,/^(a|c)/i]},TZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EZ={any:[/1/i,/2/i,/3/i,/4/i]},SZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RZ={ordinalNumber:vZ({matchPattern:wZ,parsePattern:xZ,valueCallback:t=>parseInt(t,10)}),era:bc({matchPatterns:_Z,defaultMatchWidth:"wide",parsePatterns:bZ,defaultParseWidth:"any"}),quarter:bc({matchPatterns:TZ,defaultMatchWidth:"wide",parsePatterns:EZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bc({matchPatterns:SZ,defaultMatchWidth:"wide",parsePatterns:CZ,defaultParseWidth:"any"}),day:bc({matchPatterns:IZ,defaultMatchWidth:"wide",parsePatterns:PZ,defaultParseWidth:"any"}),dayPeriod:bc({matchPatterns:kZ,defaultMatchWidth:"any",parsePatterns:AZ,defaultParseWidth:"any"})},NZ={code:"en-US",formatDistance:tZ,formatLong:iZ,formatRelative:aZ,localize:mZ,match:RZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MZ(t,e){const n=Sr(t,e==null?void 0:e.in);return YJ(n,ZJ(n))+1}function DZ(t,e){const n=Sr(t,e==null?void 0:e.in),r=+up(n)-+QJ(n);return Math.round(r/vj)+1}function xj(t,e){var h,p,f,m;const n=Sr(t,e==null?void 0:e.in),r=n.getFullYear(),s=Sm(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Bi((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Wu(o,e),l=Bi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Wu(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function jZ(t,e){var a,l,c,h;const n=Sm(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=xj(t,e),i=Bi((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Wu(i,e)}function OZ(t,e){const n=Sr(t,e==null?void 0:e.in),r=+Wu(n,e)-+jZ(n,e);return Math.round(r/vj)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Fe(s,e.length)}},ua={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return zs.y(t,e)},Y:function(t,e,n,r){const s=xj(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Fe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(t,e){const n=wj(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=OZ(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},I:function(t,e,n){const r=DZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zs.d(t,e)},D:function(t,e,n){const r=MZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ua.noon:r===0?s=ua.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ua.evening:r>=12?s=ua.afternoon:r>=4?s=ua.morning:s=ua.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zs.s(t,e)},S:function(t,e){return zs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return VC(r);case"XXXX":case"XX":return ao(r);case"XXXXX":case"XXX":default:return ao(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return VC(r);case"xxxx":case"xx":return ao(r);case"xxxxx":case"xxx":default:return ao(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OC(r,":");case"OOOO":default:return"GMT"+ao(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OC(r,":");case"zzzz":default:return"GMT"+ao(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Fe(r,e.length)},T:function(t,e,n){return Fe(+t,e.length)}};function OC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Fe(i,2)}function VC(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):ao(t,e)}function ao(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Fe(Math.trunc(r/60),2),i=Fe(r%60,2);return n+s+e+i}const LC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_j=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return LC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",LC(r,e)).replace("{{time}}",_j(s,e))},LZ={p:_j,P:VZ},FZ=/^D+$/,UZ=/^Y+$/,BZ=["D","DD","YY","YYYY"];function $Z(t){return FZ.test(t)}function zZ(t){return UZ.test(t)}function WZ(t,e,n){const r=HZ(t,e,n);if(console.warn(r),BZ.includes(t))throw new RangeError(r)}function HZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KZ=/^'([^]*?)'?$/,YZ=/''/g,QZ=/[a-zA-Z]/;function Si(t,e,n){var h,p,f,m;const r=Sm(),s=r.locale??NZ,i=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Sr(t,n==null?void 0:n.in);if(!JJ(a))throw new RangeError("Invalid time value");let l=e.match(GZ).map(w=>{const g=w[0];if(g==="p"||g==="P"){const b=LZ[g];return b(w,s.formatLong)}return w}).join("").match(qZ).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const g=w[0];if(g==="'")return{isToken:!1,value:XZ(w)};if(jC[g])return{isToken:!0,value:w};if(g.match(QZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const g=w.value;(zZ(g)||$Z(g))&&WZ(g,e,String(t));const b=jC[g[0]];return b(a,g,s.localize,c)}).join("")}function XZ(t){const e=t.match(KZ);return e?e[1].replace(YZ,"'"):t}const JZ=()=>{var _;const{user:t,isPremium:e}=Er(),{tickets:n,getUserTickets:r}=fd(),s=br(),[i,o]=v.useState(""),[a,l]=v.useState("all"),[c,h]=v.useState("all"),p=r((t==null?void 0:t.id)||""),f=p.filter(x=>{const E=x.title.toLowerCase().includes(i.toLowerCase())||x.description.toLowerCase().includes(i.toLowerCase()),k=a==="all"||x.status===a,R=c==="all"||x.priority===c;return E&&k&&R}),m=x=>{switch(x){case"open":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800";case"resolved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"closed":return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"}},w=x=>{switch(x){case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},g=x=>{switch(x){case"open":return u.jsx(jo,{className:"h-4 w-4"});case"in-progress":return u.jsx(bu,{className:"h-4 w-4"});case"resolved":return u.jsx(_u,{className:"h-4 w-4"});case"closed":return u.jsx(Ef,{className:"h-4 w-4"});default:return u.jsx(hs,{className:"h-4 w-4"})}},b={total:p.length,open:p.filter(x=>x.status==="open").length,inProgress:p.filter(x=>x.status==="in-progress").length,resolved:p.filter(x=>x.status==="resolved").length};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br  from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex mt-20 flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),e&&u.jsxs(Nn,{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white border-0 px-3 py-1",children:[u.jsx(ai,{className:"h-4 w-4 mr-1"}),((_=t==null?void 0:t.subscription)==null?void 0:_.planName)||"Premium"]})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your support tickets and track their progress"}),e&&(t==null?void 0:t.subscription)&&u.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-1",children:[u.jsx(Sf,{className:"h-4 w-4 inline mr-1"}),"Premium subscription active - Enjoy priority support!"]})]})}),u.jsxs("div",{className:"flex gap-3 mt-4 sm:mt-0",children:[!e&&u.jsxs(ge,{onClick:()=>s("/payment"),variant:"outline",className:"border-amber-500 text-amber-600 hover:bg-amber-50",children:[u.jsx(ai,{className:"h-4 w-4 mr-2"}),"Upgrade to Premium"]}),u.jsxs(ge,{onClick:()=>s("/create-ticket"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[u.jsx(Wb,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(De,{className:"border-0 shadow-lg",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tickets"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:b.total})]}),u.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:u.jsx(hs,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Open"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b.open})]}),u.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:u.jsx(jo,{className:"h-6 w-6 text-blue-600"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),u.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:b.inProgress})]}),u.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:u.jsx(bu,{className:"h-6 w-6 text-yellow-600"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:b.resolved})]}),u.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:u.jsx(_u,{className:"h-6 w-6 text-green-600"})})]})})})]}),u.jsx(De,{className:"border-0 shadow-lg mb-8 dark:bg-gray-800",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Bk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4"}),u.jsx(ql,{placeholder:"Search tickets...",value:i,onChange:x=>o(x.target.value),className:"pl-10"})]})}),u.jsxs(Io,{value:a,onValueChange:l,children:[u.jsx(Ti,{className:"w-full lg:w-48",children:u.jsx(Po,{placeholder:"Filter by status"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"all",children:"All Status"}),u.jsx(Re,{value:"open",children:"Open"}),u.jsx(Re,{value:"in-progress",children:"In Progress"}),u.jsx(Re,{value:"resolved",children:"Resolved"}),u.jsx(Re,{value:"closed",children:"Closed"})]})]}),u.jsxs(Io,{value:c,onValueChange:h,children:[u.jsx(Ti,{className:"w-full lg:w-48",children:u.jsx(Po,{placeholder:"Filter by priority"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"all",children:"All Priority"}),u.jsx(Re,{value:"low",children:"Low"}),u.jsx(Re,{value:"medium",children:"Medium"}),u.jsx(Re,{value:"high",children:"High"}),u.jsx(Re,{value:"urgent",children:"Urgent"})]})]})]})})}),u.jsxs(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:[u.jsxs(Jt,{children:[u.jsxs(Zt,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[u.jsx(Fk,{className:"h-5 w-5"}),"Your Tickets (",f.length,")"]}),u.jsx(As,{className:"text-gray-600 dark:text-gray-400",children:"Track and manage all your support tickets"})]}),u.jsx(je,{children:f.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(hs,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:p.length===0?"No tickets yet":"No tickets match your filters"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:p.length===0?"Create your first support ticket to get started":"Try adjusting your search or filter criteria"}),p.length===0&&u.jsxs(ge,{onClick:()=>s("/create-ticket"),children:[u.jsx(Wb,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})]}):u.jsx("div",{className:"space-y-4",children:f.map(x=>u.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer bg-white dark:bg-gray-900",onClick:()=>s(`/ticket/${x.id}`),children:u.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:x.title}),u.jsxs(Nn,{className:m(x.status),children:[g(x.status),u.jsx("span",{className:"ml-1 capitalize",children:x.status.replace("-"," ")})]}),u.jsx(Nn,{className:w(x.priority),children:x.priority.toUpperCase()})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:x.description}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jp,{className:"h-4 w-4"}),"Created ",Si(new Date(x.createdAt),"MMM d, yyyy")]}),u.jsxs("div",{className:"capitalize",children:["Category: ",x.category.replace("-"," ")]}),x.comments.length>0&&u.jsxs("div",{children:[x.comments.length," comment",x.comments.length!==1?"s":""]})]})]})})},x.id))})})]})]})})},ZZ=()=>{const{tickets:t,updateTicket:e}=fd(),n=br(),[r,s]=v.useState(""),[i,o]=v.useState("all"),[a,l]=v.useState("all"),c=t.filter(g=>{const b=g.title.toLowerCase().includes(r.toLowerCase())||g.description.toLowerCase().includes(r.toLowerCase())||g.userName.toLowerCase().includes(r.toLowerCase()),_=i==="all"||g.status===i,x=a==="all"||g.priority===a;return b&&_&&x}),h={total:t.length,open:t.filter(g=>g.status==="open").length,inProgress:t.filter(g=>g.status==="in-progress").length,resolved:t.filter(g=>g.status==="resolved").length,closed:t.filter(g=>g.status==="closed").length,urgent:t.filter(g=>g.priority==="urgent").length},p=g=>{switch(g){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"in-progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=g=>{switch(g){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=g=>{switch(g){case"open":return u.jsx(jo,{className:"h-4 w-4"});case"in-progress":return u.jsx(bu,{className:"h-4 w-4"});case"resolved":return u.jsx(_u,{className:"h-4 w-4"});case"closed":return u.jsx(Ef,{className:"h-4 w-4"});default:return u.jsx(hs,{className:"h-4 w-4"})}},w=(g,b)=>{e(g,{status:b})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto  px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex flex-col mt-20 sm:flex-row justify-between items-start sm:items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and monitor all support tickets across the system"})]}),u.jsxs("div",{className:"flex gap-3 mt-4 sm:mt-0",children:[u.jsxs(ge,{variant:"outline",children:[u.jsx(Vk,{className:"h-4 w-4 mr-2"}),"Reports"]}),u.jsxs(ge,{variant:"outline",children:[u.jsx(zk,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Total"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.total})]}),u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg",children:u.jsx(hs,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Open"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:h.open})]}),u.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg",children:u.jsx(jo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"In Progress"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.inProgress})]}),u.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-lg",children:u.jsx(bu,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Resolved"}),u.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.resolved})]}),u.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg",children:u.jsx(_u,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Closed"}),u.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:h.closed})]}),u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg",children:u.jsx(Ef,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]})})}),u.jsx(De,{className:"border-0 shadow-lg dark:bg-gray-800",children:u.jsx(je,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Urgent"}),u.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.urgent})]}),u.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-2 rounded-lg",children:u.jsx(hs,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})})]}),u.jsx(De,{className:"border-0 shadow-lg mb-8",children:u.jsx(je,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Bk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(ql,{placeholder:"Search tickets, users, or descriptions...",value:r,onChange:g=>s(g.target.value),className:"pl-10"})]})}),u.jsxs(Io,{value:i,onValueChange:o,children:[u.jsx(Ti,{className:"w-full lg:w-48",children:u.jsx(Po,{placeholder:"Filter by status"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"all",children:"All Status"}),u.jsx(Re,{value:"open",children:"Open"}),u.jsx(Re,{value:"in-progress",children:"In Progress"}),u.jsx(Re,{value:"resolved",children:"Resolved"}),u.jsx(Re,{value:"closed",children:"Closed"})]})]}),u.jsxs(Io,{value:a,onValueChange:l,children:[u.jsx(Ti,{className:"w-full lg:w-48",children:u.jsx(Po,{placeholder:"Filter by priority"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"all",children:"All Priority"}),u.jsx(Re,{value:"low",children:"Low"}),u.jsx(Re,{value:"medium",children:"Medium"}),u.jsx(Re,{value:"high",children:"High"}),u.jsx(Re,{value:"urgent",children:"Urgent"})]})]})]})})}),u.jsxs(De,{className:"border-0 shadow-lg",children:[u.jsxs(Jt,{children:[u.jsxs(Zt,{className:"flex items-center gap-2",children:[u.jsx(Fk,{className:"h-5 w-5"}),"All Tickets (",c.length,")"]}),u.jsx(As,{children:"Manage and track all support tickets across the system"})]}),u.jsx(je,{children:c.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(hs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tickets found"}),u.jsx("p",{className:"text-gray-600",children:"No tickets match your current search and filter criteria."})]}):u.jsx("div",{className:"space-y-4",children:c.map(g=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow bg-white",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg cursor-pointer hover:text-blue-600",onClick:()=>n(`/ticket/${g.id}`),children:g.title}),u.jsxs(Nn,{className:p(g.status),children:[m(g.status),u.jsx("span",{className:"ml-1 capitalize",children:g.status.replace("-"," ")})]}),u.jsx(Nn,{className:f(g.priority),children:g.priority.toUpperCase()})]}),u.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:g.description}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Tw,{className:"h-4 w-4"}),g.userName]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jp,{className:"h-4 w-4"}),"Created ",Si(new Date(g.createdAt),"MMM d, yyyy")]}),u.jsxs("div",{className:"capitalize",children:["Category: ",g.category.replace("-"," ")]}),g.comments.length>0&&u.jsxs("div",{children:[g.comments.length," comment",g.comments.length!==1?"s":""]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(Io,{value:g.status,onValueChange:b=>w(g.id,b),children:[u.jsx(Ti,{className:"w-full sm:w-40",children:u.jsx(Po,{})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"open",children:"Open"}),u.jsx(Re,{value:"in-progress",children:"In Progress"}),u.jsx(Re,{value:"resolved",children:"Resolved"}),u.jsx(Re,{value:"closed",children:"Closed"})]})]}),u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>n(`/ticket/${g.id}`),children:"View Details"})]})]})},g.id))})})]})]})})};var eee="Label",bj=v.forwardRef((t,e)=>u.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bj.displayName=eee;var Tj=bj;const tee=Dp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Da=v.forwardRef(({className:t,...e},n)=>u.jsx(Tj,{ref:n,className:le(tee(),t),...e}));Da.displayName=Tj.displayName;const E1=v.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));E1.displayName="Textarea";const nee=()=>{const{user:t}=Er(),{createTicket:e}=fd(),n=br(),[r,s]=v.useState({title:"",description:"",category:"",priority:""}),[i,o]=v.useState(!1),a=p=>{s(f=>({...f,[p.target.name]:p.target.value}))},l=(p,f)=>{s(m=>({...m,[p]:f}))},c=async p=>{p.preventDefault(),t&&(o(!0),e({title:r.title,description:r.description,category:r.category,priority:r.priority,userId:t.id,userName:t.name,userEmail:t.email}),o(!1),n("/dashboard"))},h=r.title&&r.description&&r.category&&r.priority;return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center gap-4 mb-8",children:u.jsxs(ge,{variant:"ghost",onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(Tf,{className:"h-4 w-4"}),"Back to Dashboard"]})}),u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsxs(Jt,{className:"pb-8",children:[u.jsx(Zt,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Support Ticket"}),u.jsx(As,{className:"text-gray-600 dark:text-gray-400",children:"Please provide detailed information about your issue or request to help us assist you better."})]}),u.jsx(je,{children:u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Da,{htmlFor:"title",className:"text-sm font-medium text-gray-900 dark:text-white",children:"Ticket Title *"}),u.jsx(ql,{id:"title",name:"title",value:r.title,onChange:a,placeholder:"Enter a brief, descriptive title for your issue",required:!0,className:"h-12"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Da,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Category *"}),u.jsxs(Io,{value:r.category,onValueChange:p=>l("category",p),children:[u.jsx(Ti,{className:"h-12",children:u.jsx(Po,{placeholder:"Select a category"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"technical",children:"Technical Issue"}),u.jsx(Re,{value:"billing",children:"Billing & Account"}),u.jsx(Re,{value:"general",children:"General Inquiry"}),u.jsx(Re,{value:"feature-request",children:"Feature Request"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Da,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Priority *"}),u.jsxs(Io,{value:r.priority,onValueChange:p=>l("priority",p),children:[u.jsx(Ti,{className:"h-12",children:u.jsx(Po,{placeholder:"Select priority level"})}),u.jsxs(Ei,{children:[u.jsx(Re,{value:"low",children:"Low - General questions"}),u.jsx(Re,{value:"medium",children:"Medium - Standard issues"}),u.jsx(Re,{value:"high",children:"High - Important problems"}),u.jsx(Re,{value:"urgent",children:"Urgent - Critical issues"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Da,{htmlFor:"description",className:"text-sm font-medium text-gray-900 dark:text-white",children:"Description *"}),u.jsx(E1,{id:"description",name:"description",value:r.description,onChange:a,placeholder:"Please provide a detailed description of your issue, including any error messages, steps to reproduce, and expected vs actual behavior...",required:!0,className:"min-h-[150px] resize-y"})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tips for better support:"}),u.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[u.jsx("li",{children:" Be specific about the issue you're experiencing"}),u.jsx("li",{children:" Include any error messages or screenshots if applicable"}),u.jsx("li",{children:" Mention what you were trying to do when the issue occurred"}),u.jsx("li",{children:" Include your browser/device information if relevant"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[u.jsx(ge,{type:"submit",disabled:!h||i,className:"flex-1 sm:flex-none bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 h-12 px-8",children:i?"Creating Ticket...":u.jsxs(u.Fragment,{children:[u.jsx($k,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),u.jsx(ge,{type:"button",variant:"outline",onClick:()=>n("/dashboard"),className:"h-12 px-8",children:"Cancel"})]})]})})]})]})})};var S1="Avatar",[ree,sne]=Cl(S1),[see,Ej]=ree(S1),Sj=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return u.jsx(see,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(xe.span,{...r,ref:e})})});Sj.displayName=S1;var Cj="AvatarImage",Ij=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Ej(Cj,n),a=iee(r,i.referrerPolicy),l=Ft(c=>{s(c),o.onImageLoadingStatusChange(c)});return At(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(xe.img,{...i,ref:e,src:r}):null});Ij.displayName=Cj;var Pj="AvatarFallback",kj=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Ej(Pj,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(xe.span,{...s,ref:e}):null});kj.displayName=Pj;function iee(t,e){const[n,r]=v.useState("idle");return At(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Aj=Sj,Rj=Ij,Nj=kj;const Cm=v.forwardRef(({className:t,...e},n)=>u.jsx(Aj,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Cm.displayName=Aj.displayName;const C1=v.forwardRef(({className:t,...e},n)=>u.jsx(Rj,{ref:n,className:le("aspect-square h-full w-full",t),...e}));C1.displayName=Rj.displayName;const Im=v.forwardRef(({className:t,...e},n)=>u.jsx(Nj,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Im.displayName=Nj.displayName;const oee=()=>{const{id:t}=T9(),{user:e,isAdmin:n}=Er(),{getTicketById:r,addComment:s,updateTicket:i}=fd(),o=br(),[a,l]=v.useState(null),[c,h]=v.useState(!0),[p,f]=v.useState(""),[m,w]=v.useState(!1);if(v.useEffect(()=>{(async()=>{if(t){h(!0);try{const R=await r(t);l(R||null)}catch(R){console.error("Error fetching ticket:",R),l(null)}finally{h(!1)}}})()},[t,r]),c)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:u.jsx(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:u.jsxs(je,{className:"p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading ticket details..."})]})})});if(!a)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:u.jsx(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:u.jsxs(je,{className:"p-8 text-center",children:[u.jsx(hs,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Ticket Not Found"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The ticket you're looking for doesn't exist or has been removed."}),u.jsxs(ge,{onClick:()=>o("/dashboard"),children:[u.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})});const g=async k=>{if(k.preventDefault(),!(!p.trim()||!e)){w(!0);try{await s(a.id,{ticketId:a.id,userId:e.id,userName:e.name,content:p,isInternal:!1});const R=await r(a.id);R&&l(R)}catch(R){console.error("Error adding comment:",R)}finally{f(""),w(!1)}}},b=async k=>{try{await i(a.id,{status:k});const R=await r(a.id);R&&l(R)}catch(R){console.error("Error updating ticket status:",R)}},_=k=>{switch(k){case"open":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800";case"resolved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"closed":return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"}},x=k=>{switch(k){case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},E=k=>{switch(k){case"open":return u.jsx(jo,{className:"h-4 w-4"});case"in-progress":return u.jsx(bu,{className:"h-4 w-4"});case"resolved":return u.jsx(_u,{className:"h-4 w-4"});case"closed":return u.jsx(Ef,{className:"h-4 w-4"});default:return u.jsx(hs,{className:"h-4 w-4"})}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center gap-4 mb-8",children:u.jsxs(ge,{variant:"ghost",onClick:()=>o("/dashboard"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(Tf,{className:"h-4 w-4"}),"Back to Dashboard"]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Zt,{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs(Nn,{className:_(a.status),children:[E(a.status),u.jsx("span",{className:"ml-1 capitalize",children:a.status.replace("-"," ")})]}),u.jsx(Nn,{className:x(a.priority),children:a.priority.toUpperCase()}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:a.category.replace("-"," ")})]})]}),n&&u.jsxs("div",{className:"flex gap-2",children:[a.status!=="in-progress"&&a.status!=="resolved"&&u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>b("in-progress"),children:"Mark In Progress"}),a.status!=="resolved"&&u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>b("resolved"),children:"Mark Resolved"}),a.status!=="closed"&&u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>b("closed"),children:"Close Ticket"})]})]})}),u.jsx(je,{children:u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a.description})})})]}),u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsxs(Zt,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[u.jsx($b,{className:"h-5 w-5"}),"Comments (",a.comments.length,")"]})}),u.jsxs(je,{className:"space-y-6",children:[a.comments.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx($b,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No comments yet. Be the first to comment!"})]}):u.jsx("div",{className:"space-y-4",children:a.comments.map(k=>u.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx(Cm,{className:"h-10 w-10 flex-shrink-0",children:u.jsx(Im,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:k.userName.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.userName}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Si(new Date(k.createdAt),"MMM d, yyyy at h:mm a")})]}),u.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:k.content})]})]},k.id))}),(a.status!=="closed"||n)&&u.jsxs("form",{onSubmit:g,className:"space-y-4 pt-4 border-t",children:[u.jsx(E1,{value:p,onChange:k=>f(k.target.value),placeholder:"Add a comment...",className:"min-h-[100px]"}),u.jsx(ge,{type:"submit",disabled:!p.trim()||m,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:m?"Posting...":u.jsxs(u.Fragment,{children:[u.jsx($k,{className:"h-4 w-4 mr-2"}),"Post Comment"]})})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsx(Zt,{className:"text-lg text-gray-900 dark:text-white",children:"Ticket Details"})}),u.jsxs(je,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Cf,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reporter"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a.userName})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(jp,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Si(new Date(a.createdAt),"MMM d, yyyy")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(jo,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Si(new Date(a.updatedAt),"MMM d, yyyy")})]})]}),a.assignedTo&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Cf,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Assigned To"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a.assignedTo})]})]})]})]}),(e==null?void 0:e.id)===a.userId&&u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsx(Zt,{className:"text-lg text-gray-900 dark:text-white",children:"Quick Actions"})}),u.jsxs(je,{className:"space-y-3",children:[u.jsx(ge,{variant:"outline",className:"w-full justify-start",onClick:()=>o("/payment"),children:"Upgrade Support Plan"}),u.jsx(ge,{variant:"outline",className:"w-full justify-start",onClick:()=>o("/create-ticket"),children:"Create Related Ticket"})]})]})]})]})]})})},aee=()=>{var f;const{user:t,isPremium:e}=Er(),{getUserTickets:n}=fd(),r=br(),[s,i]=v.useState(!1),[o,a]=v.useState((t==null?void 0:t.name)||""),l=n((t==null?void 0:t.id)||""),c={totalTickets:l.length,openTickets:l.filter(m=>m.status==="open").length,resolvedTickets:l.filter(m=>m.status==="resolved").length},h=()=>{Qe({title:"Profile Updated",description:"Your profile has been successfully updated"}),i(!1)},p=()=>{a((t==null?void 0:t.name)||""),i(!1)};return t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex items-center gap-4 mb-8",children:u.jsxs(ge,{variant:"ghost",onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(Tf,{className:"h-4 w-4"}),"Back to Dashboard"]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Zt,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Profile Information"}),s?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ge,{size:"sm",onClick:h,className:"bg-green-600 hover:bg-green-700",children:[u.jsx(VF,{className:"h-4 w-4 mr-1"}),"Save"]}),u.jsxs(ge,{size:"sm",variant:"outline",onClick:p,children:[u.jsx(Ew,{className:"h-4 w-4 mr-1"}),"Cancel"]})]}):u.jsxs(ge,{variant:"outline",onClick:()=>i(!0),className:"flex items-center gap-2",children:[u.jsx(LF,{className:"h-4 w-4"}),"Edit Profile"]})]})}),u.jsxs(je,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs(Cm,{className:"h-20 w-20",children:[t.photoURL?u.jsx(C1,{src:t.photoURL,alt:t.name}):null,u.jsx(Im,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-2xl",children:t.name.charAt(0).toUpperCase()})]}),u.jsx("div",{className:"flex-1",children:s?u.jsxs("div",{className:"space-y-2",children:[u.jsx(Da,{htmlFor:"name",children:"Full Name"}),u.jsx(ql,{id:"name",value:o,onChange:m=>a(m.target.value),className:"max-w-md"})]}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.name}),e&&u.jsxs(Nn,{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white border-0",children:[u.jsx(ai,{className:"h-4 w-4 mr-1"}),((f=t.subscription)==null?void 0:f.planName)||"Premium"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nn,{variant:t.role==="admin"?"default":"secondary",children:t.role==="admin"?"Administrator":"User"}),e&&u.jsxs("span",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center",children:[u.jsx(Sf,{className:"h-4 w-4 mr-1"}),"Premium Member"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg",children:u.jsx(DF,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Address"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.email})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg",children:u.jsx(jp,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Member Since"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Si(new Date(t.createdAt),"MMMM yyyy")})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:u.jsx(Cf,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"User ID"}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white font-mono text-sm",children:t.id})]})]})]})]})]}),u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsxs(Jt,{children:[u.jsxs(Zt,{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[u.jsx(ai,{className:"h-5 w-5 text-amber-500"}),"Subscription Management"]}),u.jsx(As,{children:"Manage your ServiceDesk Pro subscription and billing"})]}),u.jsx(je,{children:e&&(t!=null&&t.subscription)?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-6 rounded-lg border border-amber-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-amber-800 text-lg",children:[t.subscription.planName," Plan"]}),u.jsx("p",{className:"text-amber-700",children:"Active Subscription"})]}),u.jsxs(Nn,{className:"bg-green-100 text-green-800 border-green-200",children:[u.jsx(Sf,{className:"h-4 w-4 mr-1"}),"Active"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-amber-600",children:"Amount"}),u.jsxs("p",{className:"font-semibold text-amber-800",children:["",t.subscription.amount,"/month"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-amber-600",children:"Started"}),u.jsx("p",{className:"font-semibold text-amber-800",children:Si(new Date(t.subscription.startDate),"MMM d, yyyy")})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(ge,{variant:"outline",onClick:()=>r("/payment"),className:"flex-1",children:"Change Plan"}),u.jsx(ge,{variant:"outline",className:"flex-1",onClick:()=>Qe({title:"Contact Support",description:"Please contact our support team to cancel your subscription."}),children:"Manage Billing"})]})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ai,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Subscription"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Upgrade to a premium plan to unlock advanced features and priority support"}),u.jsxs(ge,{onClick:()=>r("/payment"),className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600",children:[u.jsx(ai,{className:"h-4 w-4 mr-2"}),"Upgrade to Premium"]})]})})]}),u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsxs(Jt,{children:[u.jsx(Zt,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Recent Ticket Activity"}),u.jsx(As,{children:"Your latest support tickets and their current status"})]}),u.jsx(je,{children:l.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"No tickets created yet"}),u.jsx(ge,{onClick:()=>r("/create-ticket"),children:"Create Your First Ticket"})]}):u.jsxs("div",{className:"space-y-4",children:[l.slice(0,5).map(m=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",onClick:()=>r(`/ticket/${m.id}`),children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:m.title}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",Si(new Date(m.createdAt),"MMM d, yyyy")]})]}),u.jsx(Nn,{className:m.status==="open"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":m.status==="in-progress"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":m.status==="resolved"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400",children:m.status.replace("-"," ")})]},m.id)),l.length>5&&u.jsx(ge,{variant:"outline",onClick:()=>r("/dashboard"),className:"w-full mt-4",children:"View All Tickets"})]})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsx(Zt,{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Ticket Statistics"})}),u.jsxs(je,{className:"space-y-4",children:[u.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalTickets}),u.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Tickets"})]}),u.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:c.openTickets}),u.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Open Tickets"})]}),u.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.resolvedTickets}),u.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Resolved Tickets"})]})]})]}),u.jsxs(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:[u.jsx(Jt,{children:u.jsx(Zt,{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Quick Actions"})}),u.jsxs(je,{className:"space-y-3",children:[u.jsx(ge,{onClick:()=>r("/create-ticket"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Create New Ticket"}),u.jsx(ge,{variant:"outline",onClick:()=>r("/payment"),className:"w-full",children:"Upgrade Plan"})]})]})]})]})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:u.jsx(De,{className:"border-0 shadow-xl dark:bg-gray-800",children:u.jsx(je,{className:"p-8 text-center",children:u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please log in to view your profile."})})})})},lee={key_id:"rzp_test_VIETwGSQnb8sjv",key_secret:"S2RN0PwPrrzsyBR2OKWrmckg"},cee=()=>new Promise(t=>{if(window.Razorpay){t(!0);return}const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,e.onload=()=>{console.log("Razorpay script loaded successfully"),t(!0)},e.onerror=()=>{console.error("Failed to load Razorpay script"),t(!1)},document.head.appendChild(e)}),uee=async t=>{var e;try{if(!await cee())throw new Error("Failed to load Razorpay. Please check your internet connection and disable ad blockers.");const r={key:lee.key_id,amount:t.amount,currency:t.currency||"INR",name:t.name,description:t.description,handler:i=>{console.log("Payment Success:",i),i.order_id=dee(),t.handler(i)},prefill:t.prefill||{},theme:{color:((e=t.theme)==null?void 0:e.color)||"#3B82F6"},modal:{ondismiss:()=>{console.log("Payment cancelled by user")},escape:!0,backdropclose:!0},retry:{enabled:!0,max_count:3}},s=new window.Razorpay(r);s.on("payment.failed",function(i){console.error("Payment failed:",i.error),alert(`Payment failed: ${i.error.description||"Unknown error occurred"}`)}),s.open()}catch(n){throw console.error("Payment initiation error:",n),n}},dee=()=>`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,hee=async(t,e,n)=>(console.log("Payment verification (simulated):",{paymentId:t,orderId:e,signature:n}),{success:!0,message:"Payment verified successfully"}),fee=()=>{const{user:t,updateSubscription:e}=Er(),[n,r]=v.useState(null),[s,i]=v.useState(!1),o=[{id:"starter",name:"Starter",price:999,originalPrice:1499,period:"month",description:"Perfect for small teams getting started",icon:Wk,popular:!1,features:["Up to 100 tickets/month","Basic reporting","Email support","2 team members","Standard integrations"]},{id:"professional",name:"Professional",price:2999,originalPrice:4499,period:"month",description:"Ideal for growing businesses",icon:ai,popular:!0,features:["Up to 1000 tickets/month","Advanced reporting & analytics","Priority support","10 team members","Custom integrations","SLA management","Custom workflows"]},{id:"enterprise",name:"Enterprise",price:5999,originalPrice:8999,period:"month",description:"For large organizations with complex needs",icon:lv,popular:!1,features:["Unlimited tickets","Enterprise reporting","24/7 dedicated support","Unlimited team members","Custom integrations & API","Advanced SLA management","Custom branding","SSO & advanced security"]}],a=async l=>{if(!t){Qe({title:"Authentication Required",description:"Please log in to purchase a plan",variant:"destructive"});return}i(!0),r(l.id);try{await uee({amount:l.price*100,name:"ServiceDesk Pro",description:`${l.name} Plan - Monthly Subscription`,handler:async c=>{try{if(console.log("Payment Response:",c),(await hee(c.razorpay_payment_id,c.order_id,c.razorpay_signature)).success){const p={planId:l.id,planName:l.name,status:"active",startDate:new Date().toISOString(),amount:l.price};e(p),Qe({title:"Payment Successful!",description:`Welcome to ServiceDesk Pro ${l.name} plan!`}),localStorage.setItem("servicedesk_subscription",JSON.stringify({...p,paymentId:c.razorpay_payment_id,orderId:c.order_id,signature:c.razorpay_signature})),setTimeout(()=>{window.location.href="/dashboard"},2e3)}else throw new Error("Payment verification failed")}catch(h){console.error("Payment verification error:",h),Qe({title:"Payment Verification Failed",description:"Please contact support for assistance.",variant:"destructive"})}},prefill:{name:t.name,email:t.email,contact:""},theme:{color:"#3B82F6"}})}catch(c){console.error("Payment Error:",c),Qe({title:"Payment Failed",description:c.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1),r(null)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-24",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:u.jsxs(ga,{preset:"blur-slide",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs(kn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[u.jsx(Sf,{className:"h-4 w-4"}),"Limited Time Offer - Save up to 33%"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Unlock the full potential of ServiceDesk Pro with features designed to scale with your business needs."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:o.map((l,c)=>u.jsxs(kn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`relative ${l.popular?"scale-105":""}`,children:[l.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx(Nn,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1",children:"Most Popular"})}),u.jsxs(De,{className:`h-full transition-all duration-300 hover:shadow-2xl ${l.popular?"border-2 border-blue-500 shadow-xl":"border hover:border-gray-300 dark:hover:border-gray-600"}`,children:[u.jsxs(Jt,{className:"text-center pb-8",children:[u.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mx-auto mb-4 ${l.popular?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-100 dark:bg-gray-800"}`,children:u.jsx(l.icon,{className:`h-8 w-8 ${l.popular?"text-white":"text-gray-600 dark:text-gray-300"}`})}),u.jsx(Zt,{className:"text-2xl font-bold",children:l.name}),u.jsx(As,{className:"text-gray-600 dark:text-gray-400",children:l.description}),u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsxs("span",{className:"text-4xl font-bold",children:["",l.price]}),u.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["/",l.period]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["",l.originalPrice]}),u.jsxs(Nn,{variant:"destructive",className:"text-xs",children:["Save ",Math.round((1-l.price/l.originalPrice)*100),"%"]})]})]})]}),u.jsxs(je,{children:[u.jsx(ge,{className:`w-full mb-6 ${l.popular?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":""}`,size:"lg",disabled:s&&n===l.id,onClick:()=>a(l),children:s&&n===l.id?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Bb,{className:"mr-2 h-4 w-4"}),"Pay with Razorpay",u.jsx(Wc,{className:"ml-2 h-4 w-4"})]})}),u.jsx("ul",{className:"space-y-3",children:l.features.map((h,p)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(_w,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:h})]},p))})]})]})]},l.id))}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-8",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Bb,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Secure Payment with Razorpay"}),u.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-4",children:"Your payment is processed securely through Razorpay. We support all major credit cards, debit cards, UPI, and net banking."})]})]})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 md:p-12 shadow-lg",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Why Choose ServiceDesk Pro?"}),u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Everything you need to deliver world-class customer support"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:Tw,title:"Team Collaboration",description:"Work together seamlessly with your team"},{icon:Vk,title:"Advanced Analytics",description:"Insights to improve your support operations"},{icon:kF,title:"24/7 Support",description:"We're here to help you succeed"},{icon:lv,title:"Enterprise Security",description:"Bank-level security for your data"}].map((l,c)=>u.jsxs(kn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+c*.1},className:"text-center",children:[u.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(l.icon,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:l.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.description})]},c))})]}),u.jsxs("div",{className:"text-center mt-16",children:[u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Need a custom plan for your enterprise?"}),u.jsx(ge,{variant:"outline",size:"lg",children:"Contact Sales"})]})]})})})},pee=()=>{const t=Go();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})},da=({children:t,adminOnly:e=!1})=>{const{isAuthenticated:n,isAdmin:r}=Er();return n?e&&!r?u.jsx(gT,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:t}):u.jsx(gT,{to:"/login",replace:!0})};function mee(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:m,...w}=p,g=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:b,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,gee(s,...e)]}function gee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var uy="rovingFocusGroup.onEntryFocus",yee={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[x0,Mj,vee]=Ap(Pm),[wee,Dj]=mee(Pm,[vee]),[xee,_ee]=wee(Pm),jj=v.forwardRef((t,e)=>u.jsx(x0.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(x0.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(bee,{...t,ref:e})})}));jj.displayName=Pm;var bee=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,f=v.useRef(null),m=$e(e,f),w=x1(i),[g=null,b]=xu({prop:o,defaultProp:a,onChange:l}),[_,x]=v.useState(!1),E=Ft(c),k=Mj(n),R=v.useRef(!1),[j,C]=v.useState(0);return v.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(uy,E),()=>S.removeEventListener(uy,E)},[E]),u.jsx(xee,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:v.useCallback(S=>b(S),[b]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:v.useCallback(()=>C(S=>S-1),[]),children:u.jsx(xe.div,{tabIndex:_||j===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{R.current=!0}),onFocus:ee(t.onFocus,S=>{const I=!R.current;if(S.target===S.currentTarget&&I&&!_){const A=new CustomEvent(uy,yee);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const M=k().filter(Y=>Y.focusable),D=M.find(Y=>Y.active),N=M.find(Y=>Y.id===g),se=[D,N,...M].filter(Boolean).map(Y=>Y.ref.current);Lj(se,h)}}R.current=!1}),onBlur:ee(t.onBlur,()=>x(!1))})})}),Oj="RovingFocusGroupItem",Vj=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=dl(),l=i||a,c=_ee(Oj,n),h=c.currentTabStopId===l,p=Mj(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return v.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),u.jsx(x0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(xe.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=See(w,c.orientation,c.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=p().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")_.reverse();else if(g==="prev"||g==="next"){g==="prev"&&_.reverse();const x=_.indexOf(w.currentTarget);_=c.loop?Cee(_,x+1):_.slice(x+1)}setTimeout(()=>Lj(_))}})})})});Vj.displayName=Oj;var Tee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Eee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function See(t,e,n){const r=Eee(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tee[r]}function Lj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Cee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Iee=jj,Pee=Vj,_0=["Enter"," "],kee=["ArrowDown","PageUp","Home"],Fj=["ArrowUp","PageDown","End"],Aee=[...kee,...Fj],Ree={ltr:[..._0,"ArrowRight"],rtl:[..._0,"ArrowLeft"]},Nee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wd="Menu",[Hu,Mee,Dee]=Ap(wd),[ea,Uj]=Cl(wd,[Dee,Al,Dj]),km=Al(),Bj=Dj(),[jee,ta]=ea(wd),[Oee,xd]=ea(wd),$j=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=km(e),[l,c]=v.useState(null),h=v.useRef(!1),p=Ft(i),f=x1(s);return v.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),u.jsx(wA,{...a,children:u.jsx(jee,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:c,children:u.jsx(Oee,{scope:e,onClose:v.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};$j.displayName=wd;var Vee="MenuAnchor",I1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=km(n);return u.jsx(Dw,{...s,...r,ref:e})});I1.displayName=Vee;var P1="MenuPortal",[Lee,zj]=ea(P1,{forceMount:void 0}),Wj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ta(P1,e);return u.jsx(Lee,{scope:e,forceMount:n,children:u.jsx(qo,{present:n||i.open,children:u.jsx(Rp,{asChild:!0,container:s,children:r})})})};Wj.displayName=P1;var Qn="MenuContent",[Fee,k1]=ea(Qn),Hj=v.forwardRef((t,e)=>{const n=zj(Qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ta(Qn,t.__scopeMenu),o=xd(Qn,t.__scopeMenu);return u.jsx(Hu.Provider,{scope:t.__scopeMenu,children:u.jsx(qo,{present:r||i.open,children:u.jsx(Hu.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Uee,{...s,ref:e}):u.jsx(Bee,{...s,ref:e})})})})}),Uee=v.forwardRef((t,e)=>{const n=ta(Qn,t.__scopeMenu),r=v.useRef(null),s=$e(e,r);return v.useEffect(()=>{const i=r.current;if(i)return PD(i)},[]),u.jsx(A1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Bee=v.forwardRef((t,e)=>{const n=ta(Qn,t.__scopeMenu);return u.jsx(A1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),A1=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,...g}=t,b=ta(Qn,n),_=xd(Qn,n),x=km(n),E=Bj(n),k=Mee(n),[R,j]=v.useState(null),C=v.useRef(null),S=$e(e,C,b.onContentChange),I=v.useRef(0),A=v.useRef(""),M=v.useRef(0),D=v.useRef(null),N=v.useRef("right"),z=v.useRef(0),se=w?b1:v.Fragment,Y=w?{as:Do,allowPinchZoom:!0}:void 0,X=L=>{var ne,Te;const G=A.current+L,H=k().filter(Pe=>!Pe.disabled),J=document.activeElement,re=(ne=H.find(Pe=>Pe.ref.current===J))==null?void 0:ne.textValue,be=H.map(Pe=>Pe.textValue),ze=Zee(be,G,re),pe=(Te=H.find(Pe=>Pe.textValue===ze))==null?void 0:Te.ref.current;(function Pe(ye){A.current=ye,window.clearTimeout(I.current),ye!==""&&(I.current=window.setTimeout(()=>Pe(""),1e3))})(G),pe&&setTimeout(()=>pe.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),SD();const O=v.useCallback(L=>{var H,J;return N.current===((H=D.current)==null?void 0:H.side)&&tte(L,(J=D.current)==null?void 0:J.area)},[]);return u.jsx(Fee,{scope:n,searchRef:A,onItemEnter:v.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:v.useCallback(L=>{var G;O(L)||((G=C.current)==null||G.focus(),j(null))},[O]),onTriggerLeave:v.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:M,onPointerGraceIntentChange:v.useCallback(L=>{D.current=L},[]),children:u.jsx(se,{...Y,children:u.jsx(_1,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,L=>{var G;L.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(ed,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:m,children:u.jsx(Iee,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:j,onEntryFocus:ee(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(jw,{role:"menu","aria-orientation":"vertical","data-state":aO(b.open),"data-radix-menu-content":"",dir:_.dir,...x,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,L=>{const H=L.target.closest("[data-radix-menu-content]")===L.currentTarget,J=L.ctrlKey||L.altKey||L.metaKey,re=L.key.length===1;H&&(L.key==="Tab"&&L.preventDefault(),!J&&re&&X(L.key));const be=C.current;if(L.target!==be||!Aee.includes(L.key))return;L.preventDefault();const pe=k().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);Fj.includes(L.key)&&pe.reverse(),Xee(pe)}),onBlur:ee(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(I.current),A.current="")}),onPointerMove:ee(t.onPointerMove,qu(L=>{const G=L.target,H=z.current!==L.clientX;if(L.currentTarget.contains(G)&&H){const J=L.clientX>z.current?"right":"left";N.current=J,z.current=L.clientX}}))})})})})})})});Hj.displayName=Qn;var $ee="MenuGroup",R1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(xe.div,{role:"group",...r,ref:e})});R1.displayName=$ee;var zee="MenuLabel",qj=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(xe.div,{...r,ref:e})});qj.displayName=zee;var dp="MenuItem",FC="menu.itemSelect",Am=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=xd(dp,t.__scopeMenu),a=k1(dp,t.__scopeMenu),l=$e(e,i),c=v.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const f=new CustomEvent(FC,{bubbles:!0,cancelable:!0});p.addEventListener(FC,m=>r==null?void 0:r(m),{once:!0}),yw(p,f),f.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(Gj,{...s,ref:l,disabled:n,onClick:ee(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),c.current=!0},onPointerUp:ee(t.onPointerUp,p=>{var f;c.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:ee(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||_0.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Am.displayName=dp;var Gj=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=k1(dp,n),a=Bj(n),l=v.useRef(null),c=$e(e,l),[h,p]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[i.children]),u.jsx(Hu.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:u.jsx(Pee,{asChild:!0,...a,focusable:!r,children:u.jsx(xe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,qu(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,qu(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>p(!0)),onBlur:ee(t.onBlur,()=>p(!1))})})})}),Wee="MenuCheckboxItem",Kj=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(Zj,{scope:t.__scopeMenu,checked:n,children:u.jsx(Am,{role:"menuitemcheckbox","aria-checked":hp(n)?"mixed":n,...s,ref:e,"data-state":M1(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(hp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Kj.displayName=Wee;var Yj="MenuRadioGroup",[Hee,qee]=ea(Yj,{value:void 0,onValueChange:()=>{}}),Qj=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Ft(r);return u.jsx(Hee,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(R1,{...s,ref:e})})});Qj.displayName=Yj;var Xj="MenuRadioItem",Jj=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=qee(Xj,t.__scopeMenu),i=n===s.value;return u.jsx(Zj,{scope:t.__scopeMenu,checked:i,children:u.jsx(Am,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":M1(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Jj.displayName=Xj;var N1="MenuItemIndicator",[Zj,Gee]=ea(N1,{checked:!1}),eO=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Gee(N1,n);return u.jsx(qo,{present:r||hp(i.checked)||i.checked===!0,children:u.jsx(xe.span,{...s,ref:e,"data-state":M1(i.checked)})})});eO.displayName=N1;var Kee="MenuSeparator",tO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tO.displayName=Kee;var Yee="MenuArrow",nO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=km(n);return u.jsx(Ow,{...s,...r,ref:e})});nO.displayName=Yee;var Qee="MenuSub",[ine,rO]=ea(Qee),Mc="MenuSubTrigger",sO=v.forwardRef((t,e)=>{const n=ta(Mc,t.__scopeMenu),r=xd(Mc,t.__scopeMenu),s=rO(Mc,t.__scopeMenu),i=k1(Mc,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},h=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>h,[h]),v.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),u.jsx(I1,{asChild:!0,...c,children:u.jsx(Gj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":aO(n.open),...t,ref:kp(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,qu(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,qu(p=>{var m,w;h();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(w=n.content)==null?void 0:w.dataset.side,b=g==="right",_=b?-5:5,x=f[b?"left":"right"],E=f[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x,y:f.top},{x:E,y:f.top},{x:E,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,p=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||Ree[r.dir].includes(p.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),p.preventDefault())})})})});sO.displayName=Mc;var iO="MenuSubContent",oO=v.forwardRef((t,e)=>{const n=zj(Qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ta(Qn,t.__scopeMenu),o=xd(Qn,t.__scopeMenu),a=rO(iO,t.__scopeMenu),l=v.useRef(null),c=$e(e,l);return u.jsx(Hu.Provider,{scope:t.__scopeMenu,children:u.jsx(qo,{present:r||i.open,children:u.jsx(Hu.Slot,{scope:t.__scopeMenu,children:u.jsx(A1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var m;const p=h.currentTarget.contains(h.target),f=Nee[o.dir].includes(h.key);p&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),h.preventDefault())})})})})})});oO.displayName=iO;function aO(t){return t?"open":"closed"}function hp(t){return t==="indeterminate"}function M1(t){return hp(t)?"indeterminate":t?"checked":"unchecked"}function Xee(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Jee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Zee(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Jee(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ete(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function tte(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return ete(n,e)}function qu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nte=$j,rte=I1,ste=Wj,ite=Hj,ote=R1,ate=qj,lte=Am,cte=Kj,ute=Qj,dte=Jj,hte=eO,fte=tO,pte=nO,mte=sO,gte=oO,D1="DropdownMenu",[yte,one]=Cl(D1,[Uj]),fn=Uj(),[vte,lO]=yte(D1),cO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=fn(e),c=v.useRef(null),[h=!1,p]=xu({prop:s,defaultProp:i,onChange:o});return u.jsx(vte,{scope:e,triggerId:dl(),triggerRef:c,contentId:dl(),open:h,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(f=>!f),[p]),modal:a,children:u.jsx(nte,{...l,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};cO.displayName=D1;var uO="DropdownMenuTrigger",dO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=lO(uO,n),o=fn(n);return u.jsx(rte,{asChild:!0,...o,children:u.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:kp(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});dO.displayName=uO;var wte="DropdownMenuPortal",hO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=fn(e);return u.jsx(ste,{...r,...n})};hO.displayName=wte;var fO="DropdownMenuContent",pO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=lO(fO,n),i=fn(n),o=v.useRef(!1);return u.jsx(ite,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pO.displayName=fO;var xte="DropdownMenuGroup",_te=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(ote,{...s,...r,ref:e})});_te.displayName=xte;var bte="DropdownMenuLabel",mO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(ate,{...s,...r,ref:e})});mO.displayName=bte;var Tte="DropdownMenuItem",gO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(lte,{...s,...r,ref:e})});gO.displayName=Tte;var Ete="DropdownMenuCheckboxItem",yO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(cte,{...s,...r,ref:e})});yO.displayName=Ete;var Ste="DropdownMenuRadioGroup",Cte=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(ute,{...s,...r,ref:e})});Cte.displayName=Ste;var Ite="DropdownMenuRadioItem",vO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(dte,{...s,...r,ref:e})});vO.displayName=Ite;var Pte="DropdownMenuItemIndicator",wO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(hte,{...s,...r,ref:e})});wO.displayName=Pte;var kte="DropdownMenuSeparator",xO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(fte,{...s,...r,ref:e})});xO.displayName=kte;var Ate="DropdownMenuArrow",Rte=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(pte,{...s,...r,ref:e})});Rte.displayName=Ate;var Nte="DropdownMenuSubTrigger",_O=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(mte,{...s,...r,ref:e})});_O.displayName=Nte;var Mte="DropdownMenuSubContent",bO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return u.jsx(gte,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bO.displayName=Mte;var Dte=cO,jte=dO,Ote=hO,TO=pO,EO=mO,SO=gO,CO=yO,IO=vO,PO=wO,kO=xO,AO=_O,RO=bO;const NO=Dte,MO=jte,Vte=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(AO,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(bw,{className:"ml-auto h-4 w-4"})]}));Vte.displayName=AO.displayName;const Lte=v.forwardRef(({className:t,...e},n)=>u.jsx(RO,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Lte.displayName=RO.displayName;const j1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Ote,{children:u.jsx(TO,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));j1.displayName=TO.displayName;const Dr=v.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(SO,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Dr.displayName=SO.displayName;const Fte=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(CO,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(PO,{children:u.jsx(_w,{className:"h-4 w-4"})})}),e]}));Fte.displayName=CO.displayName;const Ute=v.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(IO,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(PO,{children:u.jsx(CF,{className:"h-2 w-2 fill-current"})})}),e]}));Ute.displayName=IO.displayName;const Bte=v.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(EO,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Bte.displayName=EO.displayName;const b0=v.forwardRef(({className:t,...e},n)=>u.jsx(kO,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));b0.displayName=kO.displayName;const $te=()=>{const{theme:t,setTheme:e}=Eq();return u.jsxs(NO,{children:[u.jsx(MO,{asChild:!0,children:u.jsxs(ge,{variant:"outline",size:"icon",className:"h-9 w-9",children:[u.jsx(Hb,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),u.jsx(zb,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),u.jsxs(j1,{align:"end",className:"bg-background border",children:[u.jsxs(Dr,{onClick:()=>e("light"),className:"cursor-pointer",children:[u.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Light"]}),u.jsxs(Dr,{onClick:()=>e("dark"),className:"cursor-pointer",children:[u.jsx(zb,{className:"h-4 w-4 mr-2"}),"Dark"]}),u.jsxs(Dr,{onClick:()=>e("system"),className:"cursor-pointer",children:[u.jsx(OF,{className:"h-4 w-4 mr-2"}),"System"]})]})]})},zte=()=>{var f;const{user:t,logout:e,isAuthenticated:n}=Er(),r=br(),s=Go(),[i,o]=v.useState(!1),[a,l]=v.useState(!1);v.useEffect(()=>{const m=()=>{l(window.scrollY>50)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const c=()=>{e(),r("/")},h=[{name:"Features",href:"/#features"},{name:"Pricing",href:"/payment"},{name:"About",href:"/#about"}],p=s.pathname==="/";return u.jsx("header",{children:u.jsx("nav",{"data-state":i&&"active",className:"fixed z-50 w-full px-2 group",children:u.jsx("div",{className:le("mx-auto mt-2 max-w-6xl px-6 transition-all duration-300 lg:px-12",(a||!p)&&"bg-background/80 max-w-6xl rounded-2xl border backdrop-blur-lg lg:px-5 shadow-lg"),children:u.jsxs("div",{className:"relative flex flex-wrap items-center justify-between gap-6 py-3 lg:gap-0 lg:py-4",children:[u.jsxs("div",{className:"flex w-full justify-between lg:w-auto",children:[u.jsxs(dr,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold text-primary",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:u.jsx(Op,{className:"h-5 w-5 text-white"})}),u.jsx("span",{className:"hidden sm:block",children:"ServiceDesk Pro"})]}),u.jsxs("button",{onClick:()=>o(!i),"aria-label":i?"Close Menu":"Open Menu",className:"relative z-20 -m-2.5 -mr-4 block cursor-pointer p-2.5 lg:hidden",children:[u.jsx(jF,{className:"group-data-[state=active]:rotate-180 group-data-[state=active]:scale-0 group-data-[state=active]:opacity-0 m-auto size-6 duration-200"}),u.jsx(Ew,{className:"group-data-[state=active]:rotate-0 group-data-[state=active]:scale-100 group-data-[state=active]:opacity-100 absolute inset-0 m-auto size-6 -rotate-180 scale-0 opacity-0 duration-200"})]})]}),u.jsx("div",{className:"absolute inset-0 m-auto hidden size-fit lg:block",children:u.jsx("ul",{className:"flex gap-8 text-sm",children:h.map((m,w)=>u.jsx("li",{children:u.jsx(dr,{to:m.href,className:"text-muted-foreground hover:text-foreground block duration-150 font-medium",children:u.jsx("span",{children:m.name})})},w))})}),u.jsxs("div",{className:"bg-background group-data-[state=active]:block lg:group-data-[state=active]:flex mb-6 hidden w-full flex-wrap items-center justify-end space-y-8 rounded-3xl border p-6 shadow-2xl shadow-zinc-300/20 md:flex-nowrap lg:m-0 lg:flex lg:w-fit lg:gap-4 lg:space-y-0 lg:border-transparent lg:bg-transparent lg:p-0 lg:shadow-none dark:shadow-none dark:lg:bg-transparent",children:[u.jsx("div",{className:"lg:hidden",children:u.jsx("ul",{className:"space-y-6 text-base",children:h.map((m,w)=>u.jsx("li",{children:u.jsx(dr,{to:m.href,className:"text-muted-foreground hover:text-foreground block duration-150",children:u.jsx("span",{children:m.name})})},w))})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($te,{}),n?u.jsx(u.Fragment,{children:u.jsxs(NO,{children:[u.jsx(MO,{asChild:!0,children:u.jsx(ge,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:u.jsxs(Cm,{className:"h-8 w-8",children:[u.jsx(C1,{src:"",alt:t==null?void 0:t.name}),u.jsx(Im,{children:(f=t==null?void 0:t.name)==null?void 0:f.charAt(0).toUpperCase()})]})})}),u.jsxs(j1,{className:"w-56 bg-background border",align:"end",forceMount:!0,children:[u.jsxs(Dr,{className:"flex flex-col items-start cursor-pointer",children:[u.jsx("div",{className:"text-sm font-medium",children:t==null?void 0:t.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]}),u.jsx(b0,{}),u.jsxs(Dr,{onClick:()=>r("/dashboard"),className:"cursor-pointer",children:[u.jsx(RF,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),(t==null?void 0:t.role)==="admin"&&u.jsxs(Dr,{onClick:()=>r("/admin"),className:"cursor-pointer",children:[u.jsx(ai,{className:"mr-2 h-4 w-4"}),"Admin Panel"]}),u.jsxs(Dr,{onClick:()=>r("/profile"),className:"cursor-pointer",children:[u.jsx(Cf,{className:"mr-2 h-4 w-4"}),"Profile"]}),u.jsxs(Dr,{onClick:()=>r("/payment"),className:"cursor-pointer",children:[u.jsx(zk,{className:"mr-2 h-4 w-4"}),"Billing"]}),u.jsx(b0,{}),u.jsxs(Dr,{onClick:c,className:"cursor-pointer text-red-600",children:[u.jsx(MF,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})}):u.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:gap-3 sm:space-y-0",children:[u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>r("/login"),className:le((a||!p)&&"lg:inline-flex"),children:"Login"}),u.jsx(ge,{size:"sm",onClick:()=>r("/register"),className:le((a||!p)&&"lg:inline-flex"),children:"Sign Up"})]})]})]})]})})})})},Wte=new q6,Hte=()=>u.jsx(K6,{client:Wte,children:u.jsx(T6,{children:u.jsxs(Sq,{children:[u.jsx(_5,{}),u.jsx(Q5,{}),u.jsx(W9,{children:u.jsx(gq,{children:u.jsx(Tq,{children:u.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[u.jsx(zte,{}),u.jsxs(V9,{children:[u.jsx(tr,{path:"/",element:u.jsx(xX,{})}),u.jsx(tr,{path:"/login",element:u.jsx(bX,{})}),u.jsx(tr,{path:"/register",element:u.jsx(TX,{})}),u.jsx(tr,{path:"/dashboard",element:u.jsx(da,{children:u.jsx(JZ,{})})}),u.jsx(tr,{path:"/admin",element:u.jsx(da,{adminOnly:!0,children:u.jsx(ZZ,{})})}),u.jsx(tr,{path:"/create-ticket",element:u.jsx(da,{children:u.jsx(nee,{})})}),u.jsx(tr,{path:"/ticket/:id",element:u.jsx(da,{children:u.jsx(oee,{})})}),u.jsx(tr,{path:"/profile",element:u.jsx(da,{children:u.jsx(aee,{})})}),u.jsx(tr,{path:"/payment",element:u.jsx(da,{children:u.jsx(fee,{})})}),u.jsx(tr,{path:"*",element:u.jsx(pee,{})})]})]})})})})]})})});ck(document.getElementById("root")).render(u.jsx(Hte,{}));
